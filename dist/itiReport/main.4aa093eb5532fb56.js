"use strict";(self.webpackChunkitiReport=self.webpackChunkitiReport||[]).push([[792],{76:(So,Tr,nt)=>{nt.d(Tr,{Am:()=>jl,Bd:()=>fe,FA:()=>Ve,Fy:()=>Lr,I9:()=>ts,Im:()=>Po,Ku:()=>ku,Ll:()=>hn,T9:()=>_n,Uj:()=>Ht,XA:()=>$t,ZQ:()=>it,bD:()=>Ro,cY:()=>Gt,eX:()=>oe,g:()=>ce,gR:()=>Rn,hp:()=>fd,jZ:()=>Cn,lT:()=>Yr,lV:()=>si,nr:()=>W,p7:()=>vn,sr:()=>Hn,tD:()=>Ws,u:()=>he,zW:()=>Z,zw:()=>ze});const X=function(O){const N=[];let V=0;for(let ue=0;ue<O.length;ue++){let H=O.charCodeAt(ue);H<128?N[V++]=H:H<2048?(N[V++]=H>>6|192,N[V++]=63&H|128):55296==(64512&H)&&ue+1<O.length&&56320==(64512&O.charCodeAt(ue+1))?(H=65536+((1023&H)<<10)+(1023&O.charCodeAt(++ue)),N[V++]=H>>18|240,N[V++]=H>>12&63|128,N[V++]=H>>6&63|128,N[V++]=63&H|128):(N[V++]=H>>12|224,N[V++]=H>>6&63|128,N[V++]=63&H|128)}return N},qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(O,N){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=N?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let H=0;H<O.length;H+=3){const Oe=O[H],Be=H+1<O.length,We=Be?O[H+1]:0,Oi=H+2<O.length,Re=Oi?O[H+2]:0;let li=(15&We)<<2|Re>>6,Mo=63&Re;Oi||(Mo=64,Be||(li=64)),ue.push(V[Oe>>2],V[(3&Oe)<<4|We>>4],V[li],V[Mo])}return ue.join("")},encodeString(O,N){return this.HAS_NATIVE_SUPPORT&&!N?btoa(O):this.encodeByteArray(X(O),N)},decodeString(O,N){return this.HAS_NATIVE_SUPPORT&&!N?atob(O):function(O){const N=[];let V=0,ue=0;for(;V<O.length;){const H=O[V++];if(H<128)N[ue++]=String.fromCharCode(H);else if(H>191&&H<224){const Oe=O[V++];N[ue++]=String.fromCharCode((31&H)<<6|63&Oe)}else if(H>239&&H<365){const Oi=((7&H)<<18|(63&O[V++])<<12|(63&O[V++])<<6|63&O[V++])-65536;N[ue++]=String.fromCharCode(55296+(Oi>>10)),N[ue++]=String.fromCharCode(56320+(1023&Oi))}else{const Oe=O[V++],Be=O[V++];N[ue++]=String.fromCharCode((15&H)<<12|(63&Oe)<<6|63&Be)}}return N.join("")}(this.decodeStringToByteArray(O,N))},decodeStringToByteArray(O,N){this.init_();const V=N?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let H=0;H<O.length;){const Oe=V[O.charAt(H++)],We=H<O.length?V[O.charAt(H)]:0;++H;const Re=H<O.length?V[O.charAt(H)]:64;++H;const vt=H<O.length?V[O.charAt(H)]:64;if(++H,null==Oe||null==We||null==Re||null==vt)throw new Nn;ue.push(Oe<<2|We>>4),64!==Re&&(ue.push(We<<4&240|Re>>2),64!==vt&&ue.push(Re<<6&192|vt))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}};class Nn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ht=function(O){return function(O){const N=X(O);return qe.encodeByteArray(N,!0)}(O).replace(/\./g,"")},he=function(O){try{return qe.decodeString(O,!0)}catch(N){console.error("base64Decode failed: ",N)}return null};function ze(O,N){if(!(N instanceof Object))return N;switch(N.constructor){case Date:return new Date(N.getTime());case Object:void 0===O&&(O={});break;case Array:O=[];break;default:return N}for(const V in N)!N.hasOwnProperty(V)||!ht(V)||(O[V]=ze(O[V],N[V]));return O}function ht(O){return"__proto__"!==O}const Et=()=>{try{return function jt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const O=process.env.__FIREBASE_DEFAULTS__;return O?JSON.parse(O):void 0})()||(()=>{if(typeof document>"u")return;let O;try{O=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const N=O&&he(O[1]);return N&&JSON.parse(N)})()}catch(O){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${O}`)}},_n=()=>{var O;return null===(O=Et())||void 0===O?void 0:O.config},$t=O=>{var N;return null===(N=Et())||void 0===N?void 0:N[`_${O}`]};class Gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((N,V)=>{this.resolve=N,this.reject=V})}wrapCallback(N){return(V,ue)=>{V?this.reject(V):this.resolve(ue),"function"==typeof N&&(this.promise.catch(()=>{}),1===N.length?N(V):N(V,ue))}}}function Lr(O,N){if(O.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=N||"demo-project",H=O.iat||0,Oe=O.sub||O.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:H,exp:H+3600,auth_time:H,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},O);return[Ht(JSON.stringify({alg:"none",type:"JWT"})),Ht(JSON.stringify(Be)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Cn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function hn(){var O;const N=null===(O=Et())||void 0===O?void 0:O.forceEnvironment;if("node"===N)return!0;if("browser"===N)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function fe(){return typeof window<"u"||vn()}function vn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Hn(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}function si(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yr(){const O=it();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function W(){return!hn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((O,N)=>{try{let V=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(ue);H.onsuccess=()=>{H.result.close(),V||self.indexedDB.deleteDatabase(ue),O(!0)},H.onupgradeneeded=()=>{V=!1},H.onerror=()=>{var Oe;N((null===(Oe=H.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(V){N(V)}})}class ce extends Error{constructor(N,V,ue){super(V),this.code=N,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(N,V,ue){this.service=N,this.serviceName=V,this.errors=ue}create(N,...V){const ue=V[0]||{},H=`${this.service}/${N}`,Oe=this.errors[N],Be=Oe?function Ft(O,N){return O.replace(ye,(V,ue)=>{const H=N[ue];return null!=H?String(H):`<${ue}?>`})}(Oe,ue):"Error";return new ce(H,`${this.serviceName}: ${Be} (${H}).`,ue)}}const ye=/\{\$([^}]+)}/g;function Rn(O,N){return Object.prototype.hasOwnProperty.call(O,N)}function Po(O){for(const N in O)if(Object.prototype.hasOwnProperty.call(O,N))return!1;return!0}function Ro(O,N){if(O===N)return!0;const V=Object.keys(O),ue=Object.keys(N);for(const H of V){if(!ue.includes(H))return!1;const Oe=O[H],Be=N[H];if(es(Oe)&&es(Be)){if(!Ro(Oe,Be))return!1}else if(Oe!==Be)return!1}for(const H of ue)if(!V.includes(H))return!1;return!0}function es(O){return null!==O&&"object"==typeof O}function jl(O){const N=[];for(const[V,ue]of Object.entries(O))Array.isArray(ue)?ue.forEach(H=>{N.push(encodeURIComponent(V)+"="+encodeURIComponent(H))}):N.push(encodeURIComponent(V)+"="+encodeURIComponent(ue));return N.length?"&"+N.join("&"):""}function ts(O){const N={};return O.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[H,Oe]=ue.split("=");N[decodeURIComponent(H)]=decodeURIComponent(Oe)}}),N}function fd(O){const N=O.indexOf("?");if(!N)return"";const V=O.indexOf("#",N);return O.substring(N,V>0?V:void 0)}function Ws(O,N){const V=new Mi(O,N);return V.subscribe.bind(V)}class Mi{constructor(N,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{N(this)}).catch(ue=>{this.error(ue)})}next(N){this.forEachObserver(V=>{V.next(N)})}error(N){this.forEachObserver(V=>{V.error(N)}),this.close(N)}complete(){this.forEachObserver(N=>{N.complete()}),this.close()}subscribe(N,V,ue){let H;if(void 0===N&&void 0===V&&void 0===ue)throw new Error("Missing Observer.");H=function Su(O,N){if("object"!=typeof O||null===O)return!1;for(const V of N)if(V in O&&"function"==typeof O[V])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:V,complete:ue},void 0===H.next&&(H.next=ko),void 0===H.error&&(H.error=ko),void 0===H.complete&&(H.complete=ko);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),Oe}unsubscribeOne(N){void 0===this.observers||void 0===this.observers[N]||(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,N)}sendOne(N,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{V(this.observers[N])}catch(ue){typeof console<"u"&&console.error&&console.error(ue)}})}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ko(){}function ku(O){return O&&O._delegate?O._delegate:O}},521:(So,Tr,nt)=>{function S(t,e){return Object.is(t,e)}let je=null,Le=!1,X=1;const Yt=Symbol("SIGNAL");function qe(t){const e=je;return je=t,e}const he={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function we(t){if(Le)throw new Error("");if(null===je)return;je.consumerOnSignalRead(t);const e=je.nextProducerIndex++;Lr(je),e<je.producerNode.length&&je.producerNode[e]!==t&&Gt(je)&&$t(je.producerNode[e],je.producerIndexOfThis[e]),je.producerNode[e]!==t&&(je.producerNode[e]=t,je.producerIndexOfThis[e]=Gt(je)?_n(t,je,e):0),je.producerLastReadVersion[e]=t.version}function ht(t){if((!Gt(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==X)){if(!t.producerMustRecompute(t)&&!ar(t))return t.dirty=!1,void(t.lastCleanEpoch=X);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=X}}function jt(t){if(void 0===t.liveConsumerNode)return;const e=Le;Le=!0;try{for(const n of t.liveConsumerNode)n.dirty||Xt(n)}finally{Le=e}}function yr(){return!1!==je?.consumerAllowSignalWrites}function Xt(t){t.dirty=!0,jt(t),t.consumerMarkedDirty?.(t)}function dt(t){return t&&(t.nextProducerIndex=0),qe(t)}function Et(t,e){if(qe(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Gt(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$t(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ar(t){Lr(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ht(n),r!==n.version))return!0}return!1}function Cr(t){if(Lr(t),Gt(t))for(let e=0;e<t.producerNode.length;e++)$t(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _n(t,e,n){if(it(t),0===t.liveConsumerNode.length&&Cn(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=_n(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function $t(t,e){if(it(t),1===t.liveConsumerNode.length&&Cn(t))for(let r=0;r<t.producerNode.length;r++)$t(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Lr(i),i.producerIndexOfThis[r]=e}}function Gt(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Lr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function it(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Cn(t){return void 0!==t.producerNode}const fe=Symbol("UNSET"),vn=Symbol("COMPUTING"),Hn=Symbol("ERRORED"),si={...he,value:fe,dirty:!0,error:null,equal:S,producerMustRecompute:t=>t.value===fe||t.value===vn,producerRecomputeValue(t){if(t.value===vn)throw new Error("Detected cycle in computations.");const e=t.value;t.value=vn;const n=dt(t);let r;try{r=t.computation()}catch(i){r=Hn,t.error=i}finally{Et(t,n)}e!==fe&&e!==Hn&&r!==Hn&&t.equal(e,r)?t.value=e:(t.value=r,t.version++)}};let Yr=function Cs(){throw new Error};function Fa(){Yr()}let W=null;function Te(t,e){yr()||Fa(),t.equal(t.value,e)||(t.value=e,function ye(t){t.version++,function ze(){X++}(),jt(t),W?.()}(t))}const Ft={...he,equal:S,value:void 0};function Me(t){return"function"==typeof t}function Ct(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const zt=Ct(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Rn(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ut{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof zt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Ro(s)}catch(o){e=e??[],o instanceof zt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new zt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ro(e);else{if(e instanceof Ut){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Rn(n,e)}remove(e){const{_finalizers:n}=this;n&&Rn(n,e),e instanceof Ut&&e._removeParent(this)}}Ut.EMPTY=(()=>{const t=new Ut;return t.closed=!0,t})();const Po=Ut.EMPTY;function No(t){return t instanceof Ut||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function Ro(t){Me(t)?t():t.unsubscribe()}const es={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ra={setTimeout(t,e,...n){const{delegate:r}=ra;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ra;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jl(t){ra.setTimeout(()=>{const{onUnhandledError:e}=es;if(!e)throw t;e(t)})}function ts(){}const fd=Mi("C",void 0,void 0);function Mi(t,e,n){return{kind:t,value:e,error:n}}let oi=null;function Su(t){if(es.useDeprecatedSynchronousErrorHandling){const e=!oi;if(e&&(oi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=oi;if(oi=null,n)throw r}}else t()}class ia extends Ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,No(e)&&e.add(this)):this.destination=Nu}static create(e,n,r){return new ai(e,n,r)}next(e){this.isStopped?Pu(function Ws(t){return Mi("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Pu(function ns(t){return Mi("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pu(fd,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sa=Function.prototype.bind;function xo(t,e){return sa.call(t,e)}class pd{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oa(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oa(r)}else oa(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oa(n)}}}class ai extends ia{constructor(e,n,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&es.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xo(e.next,s),error:e.error&&xo(e.error,s),complete:e.complete&&xo(e.complete,s)}):i=e}this.destination=new pd(i)}}function oa(t){es.useDeprecatedSynchronousErrorHandling?function ko(t){es.useDeprecatedSynchronousErrorHandling&&oi&&(oi.errorThrown=!0,oi.error=t)}(t):jl(t)}function Pu(t,e){const{onStoppedNotification:n}=es;n&&ra.setTimeout(()=>n(t,e))}const Nu={closed:!0,next:ts,error:function Ei(t){throw t},complete:ts},Ks="function"==typeof Symbol&&Symbol.observable||"@@observable";function ui(t){return t}function Ru(t){return 0===t.length?ui:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let fn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function O(t){return t&&t instanceof ia||function ku(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}(t)&&No(t)}(n)?n:new ai(n,r,i);return Su(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Va(r))((i,s)=>{const o=new ai({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ks](){return this}pipe(...n){return Ru(n)(this)}toPromise(n){return new(n=Va(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Va(t){var e;return null!==(e=t??es.Promise)&&void 0!==e?e:Promise}const N=Ct(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let V=(()=>{class t extends fn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ue(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new N}next(n){Su(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Su(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Su(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Po:(this.currentObservers=null,s.push(n),new Ut(()=>{this.currentObservers=null,Rn(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new fn;return n.source=this,n}}return t.create=(e,n)=>new ue(e,n),t})();class ue extends V{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Po}}class H extends V{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Oe(t){return Me(t?.lift)}function Be(t){return e=>{if(Oe(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function We(t,e,n,r,i){return new Oi(t,e,n,r,i)}class Oi extends ia{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Re(t,e){return Be((n,r)=>{let i=0;n.subscribe(We(r,s=>{r.next(t.call(e,s,i++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Vm="https://g.co/ng/security#xss";class K extends Error{constructor(e,n){super(function la(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ca(t){return{toString:t}.toString()}const Gl="__parameters__";function $a(t,e,n){return ca(()=>{const r=function bd(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,d){const g=u.hasOwnProperty(Gl)?u[Gl]:Object.defineProperty(u,Gl,{value:[]})[Gl];for(;g.length<=d;)g.push(null);return(g[d]=g[d]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const ln=globalThis;function tn(t){for(let e in t)if(t[e]===tn)return e;throw Error("Could not find renamed property on target object.")}function gC(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ur(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ur).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Um(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const sb=tn({__forward_ref__:tn});function pn(t){return t.__forward_ref__=pn,t.toString=function(){return ur(this())},t}function ot(t){return ql(t)?t():t}function ql(t){return"function"==typeof t&&t.hasOwnProperty(sb)&&t.__forward_ref__===pn}function Se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Sr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wl(t){return ju(t,vf)||ju(t,hb)}function ju(t,e){return t.hasOwnProperty(e)?t[e]:null}function _f(t){return t&&(t.hasOwnProperty($m)||t.hasOwnProperty(_C))?t[$m]:null}const vf=tn({\u0275prov:tn}),$m=tn({\u0275inj:tn}),hb=tn({ngInjectableDef:tn}),_C=tn({ngInjectorDef:tn});class _e{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mb(t){return t&&!!t.\u0275providers}const Uu=tn({\u0275cmp:tn}),da=tn({\u0275dir:tn}),wd=tn({\u0275pipe:tn}),yb=tn({\u0275mod:tn}),ha=tn({\u0275fac:tn}),Ed=tn({__NG_ELEMENT_ID__:tn}),bC=tn({__NG_ENV_ID__:tn});function mt(t){return"string"==typeof t?t:null==t?"":String(t)}function Wm(t,e){throw new K(-201,!1)}var Mt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Mt||{});let Km;function EC(){return Km}function Xr(t){const e=Km;return Km=t,e}function IC(t,e,n){const r=Wl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Mt.Optional?null:void 0!==e?e:void Wm()}const Id={},Hu="__NG_DI_FLAG__",wf="ngTempTokenPath",TC=/\n/gm,bb="__source";let Ga;function za(t){const e=Ga;return Ga=t,e}function wb(t,e=Mt.Default){if(void 0===Ga)throw new K(-203,!1);return null===Ga?IC(t,void 0,e):Ga.get(t,e&Mt.Optional?null:void 0,e)}function le(t,e=Mt.Default){return(EC()||wb)(ot(t),e)}function ie(t,e=Mt.Default){return le(t,qa(e))}function qa(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kl(t){const e=[];for(let n=0;n<t.length;n++){const r=ot(t[n]);if(Array.isArray(r)){if(0===r.length)throw new K(900,!1);let i,s=Mt.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Jm(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(le(i,s))}else e.push(le(r))}return e}function Ad(t,e){return t[Hu]=e,t.prototype[Hu]=e,t}function Jm(t){return t[Hu]}const $u=Ad($a("Optional"),8),Ef=Ad($a("SkipSelf"),4);function Ql(t,e){return t.hasOwnProperty(ha)?t[ha]:null}function Yl(t,e){t.forEach(n=>Array.isArray(n)?Yl(n,e):e(n))}function Tb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function If(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ti(t,e,n){let r=Zl(t,e);return r>=0?t[1|r]=n:(r=~r,function Ab(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Xm(t,e){const n=Zl(t,e);if(n>=0)return t[1|n]}function Zl(t,e){return function Cb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ys={},Qt=[],Xs=new _e(""),Db=new _e("",-1),Cd=new _e("");class Af{get(e,n=Id){if(n===Id){const r=new Error(`NullInjectorError: No provider for ${ur(e)}!`);throw r.name="NullInjectorError",r}return n}}var ec=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ec||{}),Zs=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zs||{}),Vo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Vo||{});function SC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Dd(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Cf(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Sd(t){return 3===t||4===t||6===t}function Cf(t){return 64===t.charCodeAt(0)}function Pd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Df(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Df(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const tc="ng-template";function Gu(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==SC(e[i+1].toLowerCase(),n,0))return!0}else if(Nd(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&"string"==typeof(s=e[i]);)if(s.toLowerCase()===n)return!0}return!1}function Nd(t){return 4===t.type&&t.value!==tc}function PC(t,e,n){return e===(4!==t.type||n?t.value:tc)}function NC(t,e,n){let r=4;const i=t.attrs,s=null!==i?function kC(t){for(let e=0;e<t.length;e++)if(Sd(t[e]))return e;return t.length}(i):0;let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!PC(t,u,n)||""===u&&1===e.length){if(eo(r))return!1;o=!0}}else if(8&r){if(null===i||!Gu(t,i,u,n)){if(eo(r))return!1;o=!0}}else{const l=e[++a],d=Zm(u,i,Nd(t),n);if(-1===d){if(eo(r))return!1;o=!0;continue}if(""!==l){let g;if(g=d>s?"":i[d+1].toLowerCase(),2&r&&l!==g){if(eo(r))return!1;o=!0}}}}else{if(!o&&!eo(r)&&!eo(u))return!1;if(o&&eo(u))continue;o=!1,r=u|1&r}}return eo(r)||o}function eo(t){return!(1&t)}function Zm(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function ty(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ey(t,e,n=!1){for(let r=0;r<e.length;r++)if(NC(t,e[r],n))return!0;return!1}function Sf(t,e){return t?":not("+e.trim()+")":e}function MC(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!eo(o)&&(e+=Sf(s,i),i=""),r=o,s=s||!eo(r);n++}return""!==i&&(e+=Sf(s,i)),e}function nc(t){return ca(()=>{const e=Sb(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ec.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zs.Emulated,styles:t.styles||Qt,_:null,schemas:t.schemas||null,tView:null,id:""};Nf(n);const r=t.dependencies;return n.directiveDefs=Rf(r,!1),n.pipeDefs=Rf(r,!0),n.id=function iy(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function Rd(t){return Dt(t)||lr(t)}function OC(t){return null!==t}function Zr(t){return ca(()=>({type:t.type,bootstrap:t.bootstrap||Qt,declarations:t.declarations||Qt,imports:t.imports||Qt,exports:t.exports||Qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Pf(t,e){if(null==t)return Ys;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let s,o,a=Vo.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Vo.None?[r,a]:r,e[s]=o):n[s]=r}return n}function at(t){return ca(()=>{const e=Sb(t);return Nf(e),e})}function ci(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dt(t){return t[Uu]||null}function lr(t){return t[da]||null}function jr(t){return t[wd]||null}function di(t,e){const n=t[yb]||null;if(!n&&!0===e)throw new Error(`Type ${ur(t)} does not have '\u0275mod' property.`);return n}function Sb(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ys,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pf(t.inputs,e),outputs:Pf(t.outputs),debugInfo:null}}function Nf(t){t.features?.forEach(e=>e(t))}function Rf(t,e){if(!t)return null;const n=e?jr:Rd;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(OC)}function rc(t){return{\u0275providers:t}}function VC(...t){return{\u0275providers:kd(0,t),\u0275fromNgModule:!0}}function kd(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Yl(e,o=>{const a=o;ic(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Pb(i,s),n}function Pb(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];xd(i,s=>{e(s,r)})}}function ic(t,e,n,r){if(!(t=ot(t)))return!1;let i=null,s=_f(t);const o=!s&&Dt(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=_f(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)ic(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Yl(s.imports,d=>{ic(d,e,n,r)&&(l||=[],l.push(d))})}finally{}void 0!==l&&Pb(l,e)}if(!a){const l=Ql(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qt},i),e({provide:Cd,useValue:i,multi:!0},i),e({provide:Xs,useValue:()=>le(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const l=t;xd(u,d=>{e(d,l)})}}}return i!==t&&void 0!==t.providers}function xd(t,e){for(let n of t)mb(n)&&(n=n.\u0275providers),Array.isArray(n)?xd(n,e):e(n)}const Nb=tn({provide:String,useValue:tn});function Md(t){return null!==t&&"object"==typeof t&&Nb in t}function Wa(t){return"function"==typeof t}const ay=new _e(""),Od={},uy={};let ly;function kf(){return void 0===ly&&(ly=new Af),ly}class Ai{}class Ka extends Ai{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dy(e,o=>this.processProvider(o)),this.records.set(Db,pa(void 0,this)),i.has("environment")&&this.records.set(Ai,pa(void 0,this));const s=this.records.get(ay);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Cd,Qt,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=qe(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),qe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=za(this),r=Xr(void 0);try{return e()}finally{za(n),Xr(r)}}get(e,n=Id,r=Mt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(bC))return e[bC](this);r=qa(r);const s=za(this),o=Xr(void 0);try{if(!(r&Mt.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function BC(t){return"function"==typeof t||"object"==typeof t&&t instanceof _e}(e)&&Wl(e);u=l&&this.injectableDefInScope(l)?pa(cy(e),Od):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Mt.Self?kf():this.parent).get(e,n=r&Mt.Optional&&n===Id?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[wf]=a[wf]||[]).unshift(ur(e)),s)throw a;return function Eb(t,e,n,r){const i=t[wf];throw e[bb]&&i.unshift(e[bb]),t.message=function Ym(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ur(e);if(Array.isArray(e))i=e.map(ur).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ur(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(TC,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[wf]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Xr(o),za(s)}}resolveInjectorInitializers(){const e=qe(null),n=za(this),r=Xr(void 0);try{const s=this.get(Xs,Qt,Mt.Self);for(const o of s)o()}finally{za(n),Xr(r),qe(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ur(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){let n=Wa(e=ot(e))?e:ot(e&&e.provide);const r=function xb(t){return Md(t)?pa(void 0,t.useValue):pa(Mb(t),Od)}(e);if(!Wa(e)&&!0===e.multi){let i=this.records.get(n);i||(i=pa(void 0,Od,!0),i.factory=()=>Kl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=qe(null);try{return n.value===Od&&(n.value=uy,n.value=n.factory()),"object"==typeof n.value&&n.value&&function UC(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{qe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ot(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function cy(t){const e=Wl(t),n=null!==e?e.factory:Ql(t);if(null!==n)return n;if(t instanceof _e)throw new K(204,!1);if(t instanceof Function)return function LC(t){if(t.length>0)throw new K(204,!1);const n=function db(t){return t&&(t[vf]||t[hb])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new K(204,!1)}function Mb(t,e,n){let r;if(Wa(t)){const i=ot(t);return Ql(i)||cy(i)}if(Md(t))r=()=>ot(t.useValue);else if(function oy(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Kl(t.deps||[]));else if(function Rb(t){return!(!t||!t.useExisting)}(t))r=()=>le(ot(t.useExisting));else{const i=ot(t&&(t.useClass||t.provide));if(!function jC(t){return!!t.deps}(t))return Ql(i)||cy(i);r=()=>new i(...Kl(t.deps))}return r}function pa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function dy(t,e){for(const n of t)Array.isArray(n)?dy(n,e):n&&mb(n)?dy(n.\u0275providers,e):e(n)}function to(t,e){t instanceof Ka&&t.assertNotDestroyed();const r=za(t),i=Xr(void 0);try{return e()}finally{za(r),Xr(i)}}function Ob(){return void 0!==EC()||null!=function AC(){return Ga}()}const xn=0,Ie=1,tt=2,cr=3,Ss=4,Nr=5,Ci=6,Ld=7,gn=8,dr=9,is=10,ut=11,ac=12,Lb=13,uc=14,Mn=15,zu=16,lc=17,Lo=18,cc=19,QC=20,Qa=21,jo=22,Ps=23,Qe=25,jd=1,Ns=7,dc=9,Gn=10;var Of=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Of||{});function Ur(t){return Array.isArray(t)&&"object"==typeof t[jd]}function Br(t){return Array.isArray(t)&&!0===t[jd]}function fy(t){return!!(4&t.flags)}function qu(t){return t.componentOffset>-1}function Ff(t){return!(1&~t.flags)}function no(t){return!!t.template}function Bd(t){return!!(512&t[tt])}class Hb{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Lf(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function Vi(){return vy}function vy(t){return t.type.prototype.ngOnChanges&&(t.setInput=by),YC}function YC(){const t=Li(this),e=t?.current;if(e){const n=t.previous;if(n===Ys)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function by(t,e,n,r,i){const s=this.declaredInputs[r],o=Li(t)||function $d(t,e){return t[$b]=e}(t,{previous:Ys,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Hb(l&&l.currentValue,n,u===Ys),Lf(t,e,i,n)}Vi.ngInherit=!0;const $b="__ngSimpleChanges__";function Li(t){return t[$b]||null}const Rs=function(t,e,n){};function qt(t){for(;Array.isArray(t);)t=t[xn];return t}function ks(t,e){return qt(e[t])}function hi(t,e){return qt(e[t.index])}function Gd(t,e){return t.data[e]}function ji(t,e){const n=e[t];return Ur(n)?n:n[xn]}function zd(t){return!(128&~t[tt])}function xs(t,e){return null==e?null:t[e]}function Uo(t){t[lc]=0}function hc(t){1024&t[tt]||(t[tt]|=1024,zd(t)&&pc(t))}function fc(t){return!!(9216&t[tt]||t[Ps]?.dirty)}function Ty(t){t[is].changeDetectionScheduler?.notify(7),64&t[tt]&&(t[tt]|=1024),fc(t)&&pc(t)}function pc(t){t[is].changeDetectionScheduler?.notify(0);let e=ga(t);for(;null!==e&&!(8192&e[tt])&&(e[tt]|=8192,zd(e));)e=ga(e)}function Bf(t,e){if(!(256&~t[tt]))throw new K(911,!1);null===t[Qa]&&(t[Qa]=[]),t[Qa].push(e)}function ga(t){const e=t[cr];return Br(e)?e[cr]:e}const lt={lFrame:eF(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let h=!1;function U(){return lt.bindingsEnabled}function te(){return lt.lFrame.lView}function It(){return lt.lFrame.tView}function ss(t){return lt.lFrame.contextLView=t,t[gn]}function Ms(t){return lt.lFrame.contextLView=null,t}function on(){let t=Hf();for(;null!==t&&64===t.type;)t=t.parent;return t}function Hf(){return lt.lFrame.currentTNode}function Os(t,e){const n=lt.lFrame;n.currentTNode=t,n.isParent=e}function qd(){return lt.lFrame.isParent}function $f(){lt.lFrame.isParent=!1}function KO(){return h}function QO(t){h=t}function os(){const t=lt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ma(){return lt.lFrame.bindingIndex++}function Qu(t){const e=lt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function KK(t,e){const n=lt.lFrame;n.bindingIndex=n.bindingRootIndex=t,eD(e)}function eD(t){lt.lFrame.currentDirectiveIndex=t}function tD(t){const e=lt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function nD(){return lt.lFrame.currentQueryIndex}function Wb(t){lt.lFrame.currentQueryIndex=t}function JK(t){const e=t[Ie];return 2===e.type?e.declTNode:1===e.type?t[Nr]:null}function XO(t,e,n){if(n&Mt.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Mt.Host||(i=JK(s),null===i||(s=s[uc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=lt.lFrame=ZO();return r.currentTNode=e,r.lView=t,!0}function rD(t){const e=ZO(),n=t[Ie];lt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZO(){const t=lt.lFrame,e=null===t?null:t.child;return null===e?eF(t):e}function eF(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function tF(){const t=lt.lFrame;return lt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nF=tF;function iD(){const t=tF();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Di(){return lt.lFrame.selectedIndex}function Wd(t){lt.lFrame.selectedIndex=t}function On(){const t=lt.lFrame;return Gd(t.tView,t.selectedIndex)}let iF=!0;function Cy(){return iF}function Ja(t){iF=t}function Kb(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=d&&(t.destroyHooks??=[]).push(n,d)}}function Qb(t,e,n){sF(t,e,3,n)}function Jb(t,e,n,r){(3&t[tt])===n&&sF(t,e,n,r)}function sD(t,e){let n=t[tt];(3&n)===e&&(n&=16383,n+=1,t[tt]=n)}function sF(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[lc]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[lc]+=65536),(a<s||-1==s)&&(rQ(t,n,e,u),t[lc]=(4294901760&t[lc])+u+2),u++}function oF(t,e){Rs(4,t,e);const n=qe(null);try{e.call(t)}finally{qe(n),Rs(5,t,e)}}function rQ(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[tt]>>14<t[lc]>>16&&(3&t[tt])===e&&(t[tt]+=16384,oF(a,s)):oF(a,s)}const Gf=-1;class Dy{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const aD={};class Kd{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=qa(r);const i=this.injector.get(e,aD,r);return i!==aD||n===aD?i:this.parentInjector.get(e,n,r)}}function uD(t){return t!==Gf}function Sy(t){return 32767&t}function Py(t,e){let n=function aQ(t){return t>>16}(t),r=e;for(;n>0;)r=r[uc],n--;return r}let lD=!0;function Yb(t){const e=lD;return lD=t,e}const uF=255,lF=5;let lQ=0;const Ya={};function Xb(t,e){const n=cF(t,e);if(-1!==n)return n;const r=e[Ie];r.firstCreatePass&&(t.injectorIndex=e.length,cD(r.data,t),cD(e,null),cD(r.blueprint,null));const i=Zb(t,e),s=t.injectorIndex;if(uD(i)){const o=Sy(i),a=Py(i,e),u=a[Ie].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function cD(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cF(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Zb(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=yF(i),null===r)return Gf;if(n++,i=i[uc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Gf}function dD(t,e,n){!function cQ(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ed)&&(r=n[Ed]),null==r&&(r=n[Ed]=lQ++);const i=r&uF;e.data[t+(i>>lF)]|=1<<i}(t,e,n)}function dF(t,e,n){if(n&Mt.Optional||void 0!==t)return t;Wm()}function hF(t,e,n,r){if(n&Mt.Optional&&void 0===r&&(r=null),!(n&(Mt.Self|Mt.Host))){const i=t[dr],s=Xr(void 0);try{return i?i.get(e,r,n&Mt.Optional):IC(e,r,n&Mt.Optional)}finally{Xr(s)}}return dF(r,0,n)}function fF(t,e,n,r=Mt.Default,i){if(null!==t){if(2048&e[tt]&&!(r&Mt.Self)){const o=function gQ(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[tt]&&!(512&o[tt]);){const a=pF(s,o,n,r|Mt.Self,Ya);if(a!==Ya)return a;let u=s.parent;if(!u){const l=o[QC];if(l){const d=l.get(n,Ya,r);if(d!==Ya)return d}u=yF(o),o=o[uc]}s=u}return i}(t,e,n,r,Ya);if(o!==Ya)return o}const s=pF(t,e,n,r,Ya);if(s!==Ya)return s}return hF(e,n,r,i)}function pF(t,e,n,r,i){const s=function fQ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ed)?t[Ed]:void 0;return"number"==typeof e?e>=0?e&uF:pQ:e}(n);if("function"==typeof s){if(!XO(e,t,r))return r&Mt.Host?dF(i,0,r):hF(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Mt.Optional)return o;Wm()}finally{nF()}}else if("number"==typeof s){let o=null,a=cF(t,e),u=Gf,l=r&Mt.Host?e[Mn][Nr]:null;for((-1===a||r&Mt.SkipSelf)&&(u=-1===a?Zb(t,e):e[a+8],u!==Gf&&mF(r,!1)?(o=e[Ie],a=Sy(u),e=Py(u,e)):a=-1);-1!==a;){const d=e[Ie];if(gF(s,a,d.data)){const g=hQ(a,e,n,o,r,l);if(g!==Ya)return g}u=e[a+8],u!==Gf&&mF(r,e[Ie].data[a+8]===l)&&gF(s,a,e)?(o=d,a=Sy(u),e=Py(u,e)):a=-1}}return i}function hQ(t,e,n,r,i,s){const o=e[Ie],a=o.data[t+8],d=ew(a,o,n,null==r?qu(a)&&lD:r!=o&&!!(3&a.type),i&Mt.Host&&s===a);return null!==d?Qd(e,o,d,a):Ya}function ew(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,d=s>>20,y=i?a+d:t.directiveEnd;for(let v=r?a:a+d;v<y;v++){const E=o[v];if(v<u&&n===E||v>=u&&E.type===n)return v}if(i){const v=o[u];if(v&&no(v)&&v.type===n)return u}return null}function Qd(t,e,n,r){let i=t[n];const s=e.data;if(function iQ(t){return t instanceof Dy}(i)){const o=i;o.resolving&&function wC(t,e){throw e&&e.join(" > "),new K(-200,t)}(function nn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():mt(t)}(s[n]));const a=Yb(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Xr(o.injectImpl):null;XO(t,r,Mt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function nQ(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=vy(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Xr(l),Yb(a),o.resolving=!1,nF()}}return i}function gF(t,e,n){return!!(n[e+(t>>lF)]&1<<t)}function mF(t,e){return!(t&Mt.Self||t&Mt.Host&&e)}class ei{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return fF(this._tNode,this._lView,e,qa(r),n)}}function pQ(){return new ei(on(),te())}function fi(t){return ca(()=>{const e=t.prototype.constructor,n=e[ha]||hD(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ha]||hD(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hD(t){return ql(t)?()=>{const e=hD(ot(t));return e&&e()}:Ql(t)}function yF(t){const e=t[Ie],n=e.type;return 2===n?e.declTNode:1===n?t[Nr]:null}function EF(t,e=null,n=null,r){const i=IF(t,e,n,r);return i.resolveInjectorInitializers(),i}function IF(t,e=null,n=null,r,i=new Set){const s=[n||Qt,VC(t)];return r=r||("object"==typeof t?void 0:ur(t)),new Ka(s,e||kf(),r||null,i)}class hr{static#e=this.THROW_IF_NOT_FOUND=Id;static#t=this.NULL=new Af;static create(e,n){if(Array.isArray(e))return EF({name:""},n,e,"");{const r=e.name??"";return EF({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=Se({token:hr,providedIn:"any",factory:()=>le(Db)});static#r=this.__NG_ELEMENT_ID__=-1}new _e("").__NG_ELEMENT_ID__=t=>{const e=on();if(null===e)throw new K(204,!1);if(2&e.type)return e.value;if(t&Mt.Optional)return null;throw new K(204,!1)};function pD(t){return t.ngOriginalError}class Bo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&pD(e);for(;n&&pD(n);)n=pD(n);return n||null}}const AF=new _e("",{providedIn:"root",factory:()=>ie(Bo).handleError.bind(void 0)});let Ry=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=AQ;static#t=this.__NG_ENV_ID__=n=>n}return t})();class TQ extends Ry{constructor(e){super(),this._lView=e}onDestroy(e){return Bf(this._lView,e),()=>function Ay(t,e){if(null===t[Qa])return;const n=t[Qa].indexOf(e);-1!==n&&t[Qa].splice(n,1)}(this._lView,e)}}function AQ(){return new TQ(te())}function CQ(){return Wf(on(),te())}function Wf(t,e){return new io(hi(t,e))}let io=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=CQ}return t})();function DF(t){return t instanceof io?t.nativeElement:t}let Ju=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new H(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:()=>new t})}return t})();const vr=class DQ extends V{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Ob()&&(this.destroyRef=ie(Ry,{optional:!0})??void 0,this.pendingTasks=ie(Ju,{optional:!0})??void 0)}emit(e){const n=qe(null);try{super.next(e)}finally{qe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ut&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{e(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function SQ(){return this._results[Symbol.iterator]()}class gD{static#e=Symbol.iterator;get changes(){return this._changes??=new vr}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=gD.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=SQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Fi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Jl(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function nw(t){return!(128&~t.flags)}const mD=new Map;let NQ=0;const iw="__ngContext__";function Bi(t,e){Ur(e)?(t[iw]=e[cc],function kQ(t){mD.set(t[cc],t)}(e)):t[iw]=e}function VF(t){return jF(t[ac])}function LF(t){return jF(t[Ss])}function jF(t){for(;null!==t&&!Br(t);)t=t[Ss];return t}let _D;function mc(){if(void 0!==_D)return _D;if(typeof document<"u")return document;throw new K(210,!1)}const Qf=new _e("",{providedIn:"root",factory:()=>JQ}),JQ="ng",WF=new _e(""),Ho=new _e("",{providedIn:"platform",factory:()=>"unknown"}),KF=new _e(""),QF=new _e("",{providedIn:"root",factory:()=>mc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let JF=()=>null;function AD(t,e,n=!1){return JF(t,e,n)}const iV=new _e("",{providedIn:"root",factory:()=>!1});let fw,pw;function Xf(t){return function ND(){if(void 0===fw&&(fw=null,ln.trustedTypes))try{fw=ln.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fw}()?.createHTML(t)||t}function aV(t){return function RD(){if(void 0===pw&&(pw=null,ln.trustedTypes))try{pw=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pw}()?.createHTML(t)||t}class Jd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vm})`}}class cJ extends Jd{getTypeName(){return"HTML"}}class dJ extends Jd{getTypeName(){return"Style"}}class hJ extends Jd{getTypeName(){return"Script"}}class fJ extends Jd{getTypeName(){return"URL"}}class pJ extends Jd{getTypeName(){return"ResourceURL"}}function so(t){return t instanceof Jd?t.changingThisBreaksApplicationSecurity:t}function Xa(t,e){const n=function gJ(t){return t instanceof Jd&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Vm})`)}return n===e}class wJ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Xf(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class EJ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Xf(e),n}}const TJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gw(t){return(t=String(t)).match(TJ)?t:"unsafe:"+t}function Yu(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function jy(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const dV=Yu("area,br,col,hr,img,wbr"),hV=Yu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fV=Yu("rp,rt"),kD=jy(dV,jy(hV,Yu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jy(fV,Yu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jy(fV,hV)),xD=Yu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pV=jy(xD,Yu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),AJ=Yu("script,style,template");class CJ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)i.push(n),n=PJ(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=SJ(n);if(s){n=s;break}n=i.pop()}return this.buf.join("")}startElement(e){const n=gV(e).toLowerCase();if(!kD.hasOwnProperty(n))return this.sanitizedSomething=!0,!AJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!pV.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;xD[a]&&(u=gw(u)),this.buf.push(" ",o,'="',yV(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=gV(e).toLowerCase();kD.hasOwnProperty(n)&&!dV.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(yV(e))}}function SJ(t){const e=t.nextSibling;if(e&&t!==e.previousSibling)throw mV(e);return e}function PJ(t){const e=t.firstChild;if(e&&function DJ(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,e))throw mV(e);return e}function gV(t){const e=t.nodeName;return"string"==typeof e?e:"FORM"}function mV(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const NJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RJ=/([^\#-~ |!])/g;function yV(t){return t.replace(/&/g,"&amp;").replace(NJ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(RJ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mw;function _V(t,e){let n=null;try{mw=mw||function cV(t){const e=new EJ(t);return function IJ(){try{return!!(new window.DOMParser).parseFromString(Xf(""),"text/html")}catch{return!1}}()?new wJ(e):e}(t);let r=e?String(e):"";n=mw.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=mw.getInertBodyElement(r)}while(r!==s);return Xf((new CJ).sanitizeChildren(MD(n)||n))}finally{if(n){const r=MD(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function MD(t){return"content"in t&&function kJ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var oo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(oo||{});function yw(t){const e=function Uy(){const t=te();return t&&t[is].sanitizer}();return e?aV(e.sanitize(oo.HTML,t)||""):Xa(t,"HTML")?aV(so(t)):_V(mc(),mt(t))}const LJ=/^>|^->|<!--|-->|--!>|<!-$/g,jJ=/(<|>)/g,UJ="\u200b$1\u200b";function ao(t){return t instanceof Function?t():t}var yc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yc||{});let VD;function LD(t,e){return VD(t,e)}function ep(t,e,n,r,i){if(null!=r){let s,o=!1;Br(r)?s=r:Ur(r)&&(o=!0,r=r[xn]);const a=qt(r);0===t&&null!==n?null==i?MV(e,n,a):Yd(e,n,a,i||null,!0):1===t&&null!==n?Yd(e,n,a,i||null,!0):2===t?function Hy(t,e,n){const r=Ew(t,e);r&&function iY(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function aY(t,e,n,r,i){const s=n[Ns];s!==qt(n)&&ep(e,t,r,s,i);for(let a=Gn;a<n.length;a++){const u=n[a];Tw(u[Ie],u,t,e,r,s)}}(e,t,s,n,i)}}function UD(t,e){return t.createComment(function EV(t){return t.replace(LJ,e=>e.replace(jJ,UJ))}(e))}function bw(t,e,n){return t.createElement(e,n)}function RV(t,e){e[is].changeDetectionScheduler?.notify(8),Tw(t,e,e[ut],2,null,null)}function kV(t,e){const n=t[dc],r=e[cr];(Ur(r)||e[Mn]!==r[cr][Mn])&&(t[tt]|=Of.HasTransplantedViews),null===n?t[dc]=[e]:n.push(e)}function BD(t,e){const n=t[dc],r=n.indexOf(e);n.splice(r,1)}function By(t,e){if(t.length<=Gn)return;const n=Gn+e,r=t[n];if(r){const i=r[zu];null!==i&&i!==t&&BD(i,r),e>0&&(t[n-1][Ss]=r[Ss]);const s=If(t,Gn+e);!function XJ(t,e){RV(t,e),e[xn]=null,e[Nr]=null}(r[Ie],r);const o=s[Lo];null!==o&&o.detachView(s[Ie]),r[cr]=null,r[Ss]=null,r[tt]&=-129}return r}function ww(t,e){if(!(256&e[tt])){const n=e[ut];n.destroyNode&&Tw(t,e,n,3,null,null),function eY(t){let e=t[ac];if(!e)return HD(t[Ie],t);for(;e;){let n=null;if(Ur(e))n=e[ac];else{const r=e[Gn];r&&(n=r)}if(!n){for(;e&&!e[Ss]&&e!==t;)Ur(e)&&HD(e[Ie],e),e=e[cr];null===e&&(e=t),Ur(e)&&HD(e[Ie],e),n=e&&e[Ss]}e=n}}(e)}}function HD(t,e){if(256&e[tt])return;const n=qe(null);try{e[tt]&=-129,e[tt]|=256,e[Ps]&&Cr(e[Ps]),function rY(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Dy)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Rs(4,a,u);try{u.call(a)}finally{Rs(5,a,u)}}else{Rs(4,i,s);try{s.call(i)}finally{Rs(5,i,s)}}}}}(t,e),function nY(t,e){const n=t.cleanup,r=e[Ld];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ld]=null);const i=e[Qa];if(null!==i){e[Qa]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[Ie].type&&e[ut].destroy();const r=e[zu];if(null!==r&&Br(e[cr])){r!==e[cr]&&BD(r,e);const i=e[Lo];null!==i&&i.detachView(t)}!function xQ(t){mD.delete(t[cc])}(e)}finally{qe(n)}}function $D(t,e,n){return function xV(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[xn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zs.None||s===Zs.Emulated)return null}return hi(r,n)}}(t,e.parent,n)}function Yd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function MV(t,e,n){t.appendChild(e,n)}function OV(t,e,n,r,i){null!==r?Yd(t,e,n,r,i):MV(t,e,n)}function Ew(t,e){return t.parentNode(e)}let GD,LV=function VV(t,e,n){return 40&t.type?hi(t,n):null};function Iw(t,e,n,r){const i=$D(t,r,e),s=e[ut],a=function FV(t,e,n){return LV(t,e,n)}(r.parent||e[Nr],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)OV(s,i,n[u],a,!1);else OV(s,i,n,a,!1);void 0!==GD&&GD(s,r,e,n,i)}function tp(t,e){if(null!==e){const n=e.type;if(3&n)return hi(e,t);if(4&n)return zD(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return tp(t,r);{const i=t[e.index];return Br(i)?zD(-1,i):qt(i)}}if(32&n)return LD(e,t)()||qt(t[e.index]);{const r=UV(t,e);return null!==r?Array.isArray(r)?r[0]:tp(ga(t[Mn]),r):tp(t,e.next)}}return null}function UV(t,e){return null!==e?t[Mn][Nr].projection[e.projection]:null}function zD(t,e){const n=Gn+t+1;if(n<e.length){const r=e[n],i=r[Ie].firstChild;if(null!==i)return tp(r,i)}return e[Ns]}function qD(t,e,n,r,i,s,o){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Bi(qt(a),r),n.flags|=2),32&~n.flags)if(8&u)qD(t,e,n.child,r,i,s,!1),ep(e,t,i,a,s);else if(32&u){const l=LD(n,r);let d;for(;d=l();)ep(e,t,i,d,s);ep(e,t,i,a,s)}else 16&u?HV(t,e,r,n,i,s):ep(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Tw(t,e,n,r,i,s){qD(n,r,t.firstChild,e,i,s,!1)}function HV(t,e,n,r,i,s){const o=n[Mn],u=o[Nr].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)ep(e,t,i,u[l],s);else{let l=u;const d=o[cr];nw(r)&&(l.flags|=128),qD(t,e,l,d,i,s,!0)}}function $V(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function GV(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Dd(t,e,r),null!==i&&$V(t,e,i),null!==s&&function lY(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}const bt={};function Ot(t=1){zV(It(),te(),Di()+t,!1)}function zV(t,e,n,r){if(!r)if(3&~e[tt]){const s=t.preOrderHooks;null!==s&&Jb(e,s,0,n)}else{const s=t.preOrderCheckHooks;null!==s&&Qb(e,s,n)}Wd(n)}function ve(t,e=Mt.Default){const n=te();return null===n?le(t,e):fF(on(),n,ot(t),e)}function WV(t,e,n,r,i,s){const o=qe(null);try{let a=null;i&Vo.SignalBased&&(a=e[r][Yt]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&Vo.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),null!==t.setInput?t.setInput(e,a,s,n,r):Lf(e,a,r,s)}finally{qe(o)}}function Aw(t,e,n,r,i,s,o,a,u,l,d){const g=e.blueprint.slice();return g[xn]=i,g[tt]=204|r,(null!==l||t&&2048&t[tt])&&(g[tt]|=2048),Uo(g),g[cr]=g[uc]=t,g[gn]=n,g[is]=o||t&&t[is],g[ut]=a||t&&t[ut],g[dr]=u||t&&t[dr]||null,g[Nr]=s,g[cc]=function RQ(){return NQ++}(),g[Ci]=d,g[QC]=l,g[Mn]=2==e.type?t[Mn]:g,g}function Xd(t,e,n,r,i){let s=t.data[e];if(null===s)s=function WD(t,e,n,r,i){const s=Hf(),o=qd(),u=t.data[e]=function yY(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ne(){return null!==lt.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function WK(){return lt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function gc(){const t=lt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Os(s,!0),s}function $y(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KV(t,e,n,r,i){const s=Di(),o=2&r;try{Wd(-1),o&&e.length>Qe&&zV(t,e,Qe,!1),Rs(o?2:0,i),n(r,i)}finally{Wd(s),Rs(o?3:1,i)}}function KD(t,e,n){if(fy(e)){const r=qe(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{qe(r)}}}function QD(t,e,n){U()&&(function TY(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;qu(n)&&function RY(t,e,n){const r=hi(e,t),i=QV(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Cw(t,Aw(t,i,null,o,r,e,null,t[is].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Xb(n,e),Bi(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=Qd(e,t,a,n);Bi(l,e),null!==o&&kY(0,a-i,l,u,0,o),no(u)&&(ji(n.index,e)[gn]=Qd(e,t,a,n))}}(t,e,n,hi(n,e)),!(64&~n.flags)&&e2(t,e,n))}function JD(t,e,n=hi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function QV(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=YD(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function YD(t,e,n,r,i,s,o,a,u,l,d){const g=Qe+r,y=g+i,v=function dY(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:bt);return n}(g,y),E="function"==typeof l?l():l;return v[Ie]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:E,incompleteFirstPass:!1,ssrId:d}}let JV=()=>null;function YV(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,u=Vo.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(null!==i){if(!i.hasOwnProperty(s))continue;l=i[s]}0===t?XV(r,n,l,a,u):XV(r,n,l,a)}return r}function XV(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],void 0!==i&&s.push(i)}function Ls(t,e,n,r,i,s,o,a){const u=hi(e,n);let d,l=e.inputs;!a&&null!=l&&(d=l[r])?(nS(t,n,d,r,i),qu(e)&&function bY(t,e){const n=ji(e,t);16&n[tt]||(n[tt]|=64)}(n,e.index)):3&e.type&&(r=function vY(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function XD(t,e,n,r){if(U()){const i=null===r?null:{"":-1},s=function CY(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(ey(e,o.selectors,!1))if(r||(r=[]),no(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ZD(t,e,a.length)}else r.unshift(o),ZD(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&ZV(t,e,n,o,i,a),i&&function DY(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new K(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Pd(n.mergedAttrs,n.attrs)}function ZV(t,e,n,r,i,s){for(let l=0;l<r.length;l++)dD(Xb(n,e),t,r[l].type);!function PY(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const d=r[l];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,u=$y(t,e,r.length,null);for(let l=0;l<r.length;l++){const d=r[l];n.mergedAttrs=Pd(n.mergedAttrs,d.hostAttrs),NY(t,n,e,u,d),SY(u,d,i),null!==d.contentQueries&&(n.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=64);const g=d.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function _Y(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,l=null;for(let d=e.directiveStart;d<i;d++){const g=s[d],y=n?n.get(g):null,E=y?y.outputs:null;u=YV(0,g.inputs,d,u,y?y.inputs:null),l=YV(1,g.outputs,d,l,E);const T=null===u||null===o||Nd(e)?null:xY(u,d,o);a.push(T)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(t,n,s)}function e2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function QK(){return lt.lFrame.currentDirectiveIndex}();try{Wd(s);for(let a=r;a<i;a++){const u=t.data[a],l=e[a];eD(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&AY(u,l)}}finally{Wd(-1),eD(o)}}function AY(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ZD(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function SY(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;no(e)&&(n[""]=t)}}function NY(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ql(i.type)),o=new Dy(s,no(i),ve);t.blueprint[r]=o,n[r]=o,function EY(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function IY(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,$y(t,n,i.hostVars,bt),i)}function Za(t,e,n,r,i,s){const o=hi(t,e);!function eS(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?mt(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ut],o,s,t.value,n,r,i)}function kY(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)WV(r,n,o[a++],o[a++],o[a++],o[a++])}function xY(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function t2(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function n2(t,e){const n=t.contentQueries;if(null!==n){const r=qe(null);try{for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const a=t.data[o];Wb(n[i]),a.contentQueries(2,e[o],o)}}}finally{qe(r)}}}function Cw(t,e){return t[ac]?t[Lb][Ss]=e:t[ac]=e,t[Lb]=e,e}function tS(t,e,n){Wb(0);const r=qe(null);try{e(t,n)}finally{qe(r)}}function r2(t){return t[Ld]??=[]}function i2(t){return t.cleanup??=[]}function s2(t,e,n){return(null===t||no(t))&&(n=function wy(t){for(;Array.isArray(t);){if("object"==typeof t[jd])return t;t=t[xn]}return null}(n[e.index])),n[ut]}function Dw(t,e){const n=t[dr],r=n?n.get(Bo,null):null;r&&r.handleError(e)}function nS(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=n[s++];WV(t.data[o],e[o],r,a,u,i)}}function MY(t,e){const n=ji(e,t),r=n[Ie];!function OY(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[xn];null!==i&&null===n[Ci]&&(n[Ci]=AD(i,n[dr])),rS(r,n,n[gn])}function rS(t,e,n){rD(e);try{const r=t.viewQuery;null!==r&&tS(1,r,n);const i=t.template;null!==i&&KV(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Lo]?.finishViewCreation(t),t.staticContentQueries&&n2(t,e),t.staticViewQueries&&tS(2,t.viewQuery,n);const s=t.components;null!==s&&function FY(t,e){for(let n=0;n<e.length;n++)MY(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[tt]&=-5,iD()}}function Zd(t,e){return!e||null===e.firstChild||nw(t)}function Gy(t,e,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const s=e[n.index];null!==s&&r.push(qt(s)),Br(s)&&a2(s,r);const o=n.type;if(8&o)Gy(t,e,n.child,r);else if(32&o){const a=LD(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=UV(e,n);if(Array.isArray(a))r.push(...a);else{const u=ga(e[Mn]);Gy(u[Ie],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function a2(t,e){for(let n=Gn;n<t.length;n++){const r=t[n],i=r[Ie].firstChild;null!==i&&Gy(r[Ie],r,i,e)}t[Ns]!==t[xn]&&e.push(t[Ns])}let u2=[];const UY={...he,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pc(t.lView)},consumerOnSignalRead(){this.lView[Ps]=this}},HY={...he,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ga(t.lView);for(;e&&!l2(e[Ie]);)e=ga(e);e&&hc(e)},consumerOnSignalRead(){this.lView[Ps]=this}};function l2(t){return 2!==t.type}const $Y=100;function Sw(t,e=!0,n=0){const r=t[is],i=r.rendererFactory;i.begin?.();try{!function GY(t,e){const n=KO();try{QO(!0),sS(t,e);let r=0;for(;fc(t);){if(r===$Y)throw new K(103,!1);r++,sS(t,1)}}finally{QO(n)}}(t,n)}catch(o){throw e&&Dw(t,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function zY(t,e,n,r){const i=e[tt];if(!(256&~i))return;e[is].inlineEffectRunner?.flush(),rD(e);let a=!0,u=null,l=null;l2(t)?(l=function VY(t){return t[Ps]??function LY(t){const e=u2.pop()??Object.create(UY);return e.lView=t,e}(t)}(e),u=dt(l)):null===function Nn(){return je}()?(a=!1,l=function BY(t){const e=t[Ps]??Object.create(HY);return e.lView=t,e}(e),u=dt(l)):e[Ps]&&(Cr(e[Ps]),e[Ps]=null);try{Uo(e),function JO(t){return lt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&KV(t,e,n,2,r);const d=!(3&~i);if(d){const v=t.preOrderCheckHooks;null!==v&&Qb(e,v,null)}else{const v=t.preOrderHooks;null!==v&&Jb(e,v,0,null),sD(e,0)}if(function qY(t){for(let e=VF(t);null!==e;e=LF(e)){if(!(e[tt]&Of.HasTransplantedViews))continue;const n=e[dc];for(let r=0;r<n.length;r++)hc(n[r])}}(e),d2(e,0),null!==t.contentQueries&&n2(t,e),d){const v=t.contentCheckHooks;null!==v&&Qb(e,v)}else{const v=t.contentHooks;null!==v&&Jb(e,v,1),sD(e,1)}!function cY(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Wd(~i);else{const s=i,o=n[++r],a=n[++r];KK(o,s),a(2,e[s])}}}finally{Wd(-1)}}(t,e);const g=t.components;null!==g&&f2(e,g,0);const y=t.viewQuery;if(null!==y&&tS(2,y,r),d){const v=t.viewCheckHooks;null!==v&&Qb(e,v)}else{const v=t.viewHooks;null!==v&&Jb(e,v,2),sD(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[jo]){for(const v of e[jo])v();e[jo]=null}e[tt]&=-73}catch(d){throw pc(e),d}finally{null!==l&&(Et(l,u),a&&function jY(t){t.lView[Ps]!==t&&(t.lView=null,u2.push(t))}(l)),iD()}}function d2(t,e){for(let n=VF(t);null!==n;n=LF(n))for(let r=Gn;r<n.length;r++)h2(n[r],e)}function WY(t,e,n){h2(ji(e,t),n)}function h2(t,e){zd(t)&&sS(t,e)}function sS(t,e){const r=t[Ie],i=t[tt],s=t[Ps];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!ar(s)),o||=!1,s&&(s.dirty=!1),t[tt]&=-9217,o)zY(r,t,r.template,t[gn]);else if(8192&i){d2(t,1);const a=r.components;null!==a&&f2(t,a,1)}}function f2(t,e,n){for(let r=0;r<e.length;r++)WY(t,e[r],n)}function zy(t,e){const n=KO()?64:1088;for(t[is].changeDetectionScheduler?.notify(e);t;){t[tt]|=n;const r=ga(t);if(Bd(t)&&!r)return t;t=r}return null}class qy{get rootNodes(){const e=this._lView,n=e[Ie];return Gy(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return!(256&~this._lView[tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[cr];if(Br(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(By(e,r),If(n,r))}this._attachedToViewContainer=!1}ww(this._lView[Ie],this._lView)}onDestroy(e){Bf(this._lView,e)}markForCheck(){zy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[tt]&=-129}reattach(){Ty(this._lView),this._lView[tt]|=128}detectChanges(){this._lView[tt]|=1024,Sw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=Bd(this._lView),n=this._lView[zu];null!==n&&!e&&BD(n,this._lView),RV(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;const n=Bd(this._lView),r=this._lView[zu];null!==r&&!n&&kV(r,this._lView),Ty(this._lView)}}let Zu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=JY}return t})();const KY=Zu,QY=class extends KY{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function np(t,e,n,r){const i=qe(null);try{const s=e.tView,u=Aw(t,s,n,4096&t[tt]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[zu]=t[e.index];const d=t[Lo];return null!==d&&(u[Lo]=d.createEmbeddedView(s)),rS(s,u,n),u}finally{qe(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new qy(i)}};function JY(){return Pw(on(),te())}function Pw(t,e){return 4&t.type?new QY(e,t,Wf(t,e)):null}class sp{}const e_=new _e("",{providedIn:"root",factory:()=>!1}),O2=new _e("");class HX{}class F2{}class GX{resolveComponentFactory(e){throw function $X(t){const e=Error(`No component factory found for ${ur(t)}.`);return e.ngComponent=t,e}(e)}}class t_{static#e=this.NULL=new GX}class Ow{}let el=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function zX(){const t=te(),n=ji(on().index,t);return(Ur(n)?n:t)[ut]}()}return t})(),qX=(()=>{class t{static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:()=>null})}return t})();const L2=new Set;function as(t){L2.has(t)||(L2.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function j2(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),"function"==typeof ln.requestAnimationFrame&&ln.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function U2(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function B2(...t){}class St{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vr(!1),this.onMicrotaskEmpty=new vr(!1),this.onStable=new vr(!1),this.onError=new vr(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,function QX(t){const e=()=>{!function KX(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{j2(()=>{t.callbackScheduled=!1,yS(t),t.isCheckStableRunning=!0,mS(t),t.isCheckStableRunning=!1})}),yS(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function JX(t){return G2(t,"__ignore_ng_zone__")}(a))return n.invokeTask(i,s,o,a);try{return H2(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),$2(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return H2(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function YX(t){return G2(t,"__scheduler_tick__")}(a)&&e(),$2(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,yS(t),mS(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!St.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(St.isInAngularZone())throw new K(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,WX,B2,B2);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const WX={};function mS(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yS(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function H2(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $2(t){t._nesting--,mS(t)}class _S{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vr,this.onMicrotaskEmpty=new vr,this.onStable=new vr,this.onError=new vr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}function G2(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}var us=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(us||{});const z2={destroy(){}};function q2(t,e){!e&&function xf(t){if(!Ob())throw new K(-203,!1)}();const n=e?.injector??ie(hr);return function Vs(t){return"browser"===(t??ie(hr)).get(Ho)}(n)?(as("NgAfterNextRender"),function W2(t,e,n,r){const i=function eZ(t,e){if(t instanceof Function)switch(e){case us.EarlyRead:return{earlyRead:t};case us.Write:return{write:t};case us.MixedReadWrite:return{mixedReadWrite:t};case us.Read:return{read:t}}return t}(t,r),s=e.get(Fw),o=s.handler??=new nZ,a=[],u=[],l=()=>{for(const v of u)o.unregister(v);d()},d=e.get(Ry).onDestroy(l);let g=0;const y=(v,E)=>{if(!E)return;const T=n?(...k)=>(g--,g<1&&l(),E(...k)):E,C=to(e,()=>new tZ(v,a,T));o.register(C),u.push(C),g++};return y(us.EarlyRead,i.earlyRead),y(us.Write,i.write),y(us.MixedReadWrite,i.mixedReadWrite),y(us.Read,i.read),{destroy:l}}(t,n,!0,e?.phase??us.MixedReadWrite)):z2}class tZ{constructor(e,n,r){this.phase=e,this.pipelinedArgs=n,this.callbackFn=r,this.zone=ie(St),this.errorHandler=ie(Bo,{optional:!0}),ie(sp,{optional:!0})?.notify(6)}invoke(){try{const e=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,e)}catch(e){this.errorHandler?.handleError(e)}}}class nZ{constructor(){this.executingCallbacks=!1,this.buckets={[us.EarlyRead]:new Set,[us.Write]:new Set,[us.MixedReadWrite]:new Set,[us.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Fw=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:()=>new t})}return t})();function Lw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Um(i,a):2==s&&(r=Um(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class J2 extends t_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Dt(e);return new i_(n,this.ngModule)}}function Y2(t,e){const n=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r];if(void 0===i)continue;const s=Array.isArray(i),o=s?i[0]:i;n.push(e?{propName:o,templateName:r,isSignal:!!((s?i[1]:Vo.None)&Vo.SignalBased)}:{propName:o,templateName:r})}return n}class i_ extends F2{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Y2(e.inputs,!0);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Y2(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function ny(t){return t.map(MC).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){const s=qe(null);try{let o=(i=i||this.ngModule)instanceof Ai?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new Kd(e,o):e,u=a.get(Ow,null);if(null===u)throw new K(407,!1);const l=a.get(qX,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(Fw,null),changeDetectionScheduler:a.get(sp,null)},v=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",T=r?function hY(t,e,n,r){const s=r.get(iV,!1)||n===Zs.ShadowDom,o=t.selectRootElement(e,s);return function fY(t){JV(t)}(o),o}(v,r,this.componentDef.encapsulation,a):bw(v,E,function sZ(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(E));let C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let k=null;null!==T&&(k=AD(T,a,!0));const R=YD(0,null,null,1,0,null,null,null,null,null,null),L=Aw(null,R,null,C,null,null,y,v,a,null,k);let Q,Ee;rD(L);try{const Ce=this.componentDef;let x,D=null;Ce.findHostDirectiveDefs?(x=[],D=new Map,Ce.findHostDirectiveDefs(Ce,x,D),x.push(Ce)):x=[Ce];const M=function aZ(t,e){const n=t[Ie],r=Qe;return t[r]=e,Xd(n,r,2,"#host",null)}(L,T),j=function uZ(t,e,n,r,i,s,o){const a=i[Ie];!function lZ(t,e,n,r){for(const i of t)e.mergedAttrs=Pd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Lw(e,e.mergedAttrs,!0),null!==n&&GV(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=AD(e,i[dr]));const l=s.rendererFactory.createRenderer(e,n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const g=Aw(i,QV(n),null,d,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&ZD(a,t,r.length-1),Cw(i,g),i[t.index]=g}(M,T,Ce,x,L,y,v);Ee=Gd(R,Qe),T&&function dZ(t,e,n,r){if(r)Dd(t,n,["ng-version","18.1.2"]);else{const{attrs:i,classes:s}=function ry(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!eo(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Dd(t,n,i),s&&s.length>0&&$V(t,n,s.join(" "))}}(v,Ce,T,r),void 0!==n&&function hZ(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Ee,this.ngContentSelectors,n),Q=function cZ(t,e,n,r,i,s){const o=on(),a=i[Ie],u=hi(o,i);ZV(a,i,o,n,null,r);for(let d=0;d<n.length;d++)Bi(Qd(i,a,o.directiveStart+d,o),i);e2(a,i,o),u&&Bi(u,i);const l=Qd(i,a,o.directiveStart+o.componentOffset,o);if(t[gn]=i[gn]=l,null!==s)for(const d of s)d(l,e);return KD(a,o,i),l}(j,Ce,x,D,L,[fZ]),rS(R,L,null)}finally{iD()}return new oZ(this.componentType,Q,Wf(Ee,L),L,Ee)}finally{qe(s)}}}class oZ extends HX{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qy(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;nS(s[Ie],s,i,e,n),this.previousInputValues.set(e,n),zy(ji(this._tNode.index,s),1)}}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function fZ(){const t=on();Kb(te()[Ie],t)}let ya=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=pZ}return t})();function pZ(){return eL(on(),te())}const gZ=ya,X2=class extends gZ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Wf(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){const e=Zb(this._hostTNode,this._hostLView);if(uD(e)){const n=Py(e,this._hostLView),r=Sy(e);return new ei(n[Ie].data[r+8],n)}return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Z2(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Gn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,Zd(this._hostTNode,null)),a}createComponent(e,n,r,i,s){const o=e&&!function Fd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}const u=o?e:new i_(Dt(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const T=(o?l:this.parentInjector).get(Ai,null);T&&(s=T)}Dt(u.componentType??{});const v=u.create(l,i,null,s);return this.insertImpl(v.hostView,a,Zd(this._hostTNode,null)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function Ey(t){return Br(t[cr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[cr],l=new X2(u,u[Nr],u[cr]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;return function rp(t,e,n,r=!0){const i=e[Ie];if(function tY(t,e,n,r){const i=Gn+r,s=n.length;r>0&&(n[i-1][Ss]=e),r<s-Gn?(e[Ss]=n[i],Tb(n,Gn+r,e)):(n.push(e),e[Ss]=null),e[cr]=n;const o=e[zu];null!==o&&n!==o&&kV(o,e);const a=e[Lo];null!==a&&a.insertView(t),Ty(e),e[tt]|=128}(i,e,t,n),r){const o=zD(n,t),a=e[ut],u=Ew(a,t[Ns]);null!==u&&function ZJ(t,e,n,r,i,s){r[xn]=i,r[Nr]=e,Tw(t,r,n,1,i,s)}(i,t[Nr],a,e,u,o)}const s=e[Ci];null!==s&&null!==s.firstChild&&(s.firstChild=null)}(o,i,s,r),e.attachToViewContainerRef(),Tb(ES(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Z2(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=By(this._lContainer,n);r&&(If(ES(this._lContainer),n),ww(r[Ie],r))}detach(e){const n=this._adjustIndex(e,-1),r=By(this._lContainer,n);return r&&null!=If(ES(this._lContainer),n)?new qy(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Z2(t){return t[8]}function ES(t){return t[8]||(t[8]=[])}function eL(t,e){let n;const r=e[t.index];return Br(r)?n=r:(n=t2(r,e,null,t),e[t.index]=n,Cw(e,n)),tL(n,e,t,r),new X2(n,t,e)}let tL=function rL(t,e,n,r){if(t[Ns])return;let i;i=8&n.type?qt(r):function mZ(t,e){const n=t[ut],r=n.createComment(""),i=hi(e,t);return Yd(n,Ew(n,i),r,function sY(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ns]=i},IS=()=>!1;class TS{constructor(e){this.queryList=e,this.matches=null}clone(){return new TS(this.queryList)}setDirty(){this.queryList.setDirty()}}class AS{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new AS(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==NS(e,n).matches&&this.queries[n].setDirty()}}class iL{constructor(e,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof e?function TZ(t){return t.split(",").map(e=>e.trim())}(e):e}}class CS{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new CS(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class DS{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new DS(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,bZ(n,s)),this.matchTNodeWithReadOption(e,n,ew(n,e,s,!1,!1))}else r===Zu?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ew(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===io||i===ya||i===Zu&&4&n.type)this.addMatch(n.index,-2);else{const s=ew(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function bZ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function EZ(t,e,n,r){return-1===n?function wZ(t,e){return 11&t.type?Wf(t,e):4&t.type?Pw(t,e):null}(e,t):-2===n?function IZ(t,e,n){return n===io?Wf(e,t):n===Zu?Pw(e,t):n===ya?eL(e,t):void 0}(t,e,r):Qd(t,t[Ie],n,e)}function sL(t,e,n,r){const i=e[Lo].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;null!==o&&u<o.length;u+=2){const l=o[u];a.push(l<0?null:EZ(e,s[l],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function SS(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=sL(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],d=e[-u];for(let g=Gn;g<d.length;g++){const y=d[g];y[zu]===y[cr]&&SS(y[Ie],y,l,r)}if(null!==d[dc]){const g=d[dc];for(let y=0;y<g.length;y++){const v=g[y];SS(v[Ie],v,l,r)}}}}}return r}function aL(t,e,n){const r=It();return r.firstCreatePass&&(function lL(t,e,n){null===t.queries&&(t.queries=new CS),t.queries.track(new DS(e,n))}(r,new iL(t,e,n),-1),!(2&~e)&&(r.staticViewQueries=!0)),function oL(t,e,n){const r=new gD(!(4&~n));return function mY(t,e,n,r){const i=r2(e);i.push(n),t.firstCreatePass&&i2(t).push(r,i.length-1)}(t,e,r,r.destroy),(e[Lo]??=new AS).queries.push(new TS(r))-1}(r,te(),e)}function NS(t,e){return t.queries.getByIndex(e)}function cL(t,e){const n=t[Ie],r=NS(n,e);return r.crossesNgTemplate?SS(n,t,e,[]):sL(n,t,r,e)}function eu(t,e){as("NgSignals");const n=function Z(t){const e=Object.create(Ft);e.value=t;const n=()=>(we(e),e.value);return n[Yt]=e,n}(t),r=n[Yt];return e?.equal&&(r.equal=e.equal),n.set=i=>Te(r,i),n.update=i=>function ce(t,e){yr()||Fa(),Te(t,e(t.value))}(r,i),n.asReadonly=hL.bind(n),n}function hL(){const t=this[Yt];if(void 0===t.readonlyFn){const e=()=>this();e[Yt]=t,t.readonlyFn=e}return t.readonlyFn}function fL(t){return function dL(t){return"function"==typeof t&&void 0!==t[Yt]}(t)&&"function"==typeof t.set}function bn(t){let e=function TL(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(no(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Uw(t.inputs),o.inputTransforms=Uw(t.inputTransforms),o.declaredInputs=Uw(t.declaredInputs),o.outputs=Uw(t.outputs);const a=i.hostBindings;a&&jZ(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&VZ(t,u),l&&LZ(t,l),OZ(t,i),gC(t.outputs,i.outputs),no(i)&&i.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===bn&&(n=!1)}}e=Object.getPrototypeOf(e)}!function FZ(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pd(i.hostAttrs,n=Pd(n,i.hostAttrs))}}(r)}function OZ(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];if(void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Uw(t){return t===Ys?{}:t===Qt?[]:t}function VZ(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function LZ(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function jZ(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}class nh{}class PL{}class kS extends nh{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new J2(this);const i=di(e);this._bootstrapComponents=ao(i.bootstrap),this._r3Injector=IF(e,n,[{provide:nh,useValue:this},{provide:t_,useValue:this.componentFactoryResolver},...r],ur(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xS extends PL{constructor(e){super(),this.moduleType=e}create(e){return new kS(this.moduleType,e,[])}}class NL extends nh{constructor(e){super(),this.componentFactoryResolver=new J2(this),this.instance=null;const n=new Ka([...e.providers,{provide:nh,useValue:this},{provide:t_,useValue:this.componentFactoryResolver}],e.parent||kf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Bw(t,e,n=null){return new NL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Hw(t){return!!function MS(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tu(t,e,n){return t[e]=n}function Rr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function rh(t,e,n,r){const i=Rr(t,e,n);return Rr(t,e+1,r)||i}function a_(t,e,n,r,i,s,o,a,u,l){const d=n+Qe,g=e.firstCreatePass?function YZ(t,e,n,r,i,s,o,a,u){const l=e.consts,d=Xd(e,t,4,o||null,a||null);XD(e,n,d,xs(l,u)),Kb(e,d);const g=d.tView=YD(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,d),g.queries=e.queries.embeddedTView(d)),d}(d,e,t,r,i,s,o,a,u):e.data[d];Os(g,!1);const y=RL(e,t,g,n);Cy()&&Iw(e,t,y,g),Bi(y,t);const v=t2(y,t,y,g);return t[d]=v,Cw(t,v),function nL(t,e,n){return IS(t,e,n)}(v,g,t),Ff(g)&&QD(e,t,g),null!=u&&JD(t,g,l),g}function uo(t,e,n,r,i,s,o,a){const u=te(),l=It();return a_(u,l,t,e,n,r,i,xs(l.consts,s),o,a),uo}let RL=function kL(t,e,n,r){return Ja(!0),e[ut].createComment("")};function Hr(t,e,n,r){const i=te();return Rr(i,ma(),e)&&(It(),Za(On(),i,t,e,n,r)),Hr}function Qw(t,e){return t<<17|e<<2}function wc(t){return t>>17&32767}function zS(t){return 2|t}function sh(t){return(131068&t)>>2}function qS(t,e){return-131069&t|e<<2}function WS(t){return 1|t}function lj(t,e,n,r){const i=t[n+1],s=null===e;let o=r?wc(i):sh(i),a=!1;for(;0!==o&&(!1===a||s);){const l=t[o+1];Fee(t[o],e)&&(a=!0,t[o+1]=r?WS(l):zS(l)),o=r?wc(l):sh(l)}a&&(t[n+1]=r?zS(i):WS(i))}function Fee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Zl(t,e)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cj(t){return t.substring(ti.key,ti.keyEnd)}function dj(t,e){const n=ti.textEnd;return n===e?-1:(e=ti.keyEnd=function Uee(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ti.key=e,n),Ip(t,e,n))}function Ip(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function rn(t,e,n){const r=te();return Rr(r,ma(),e)&&Ls(It(),On(),r,t,e,r[ut],n,!1),rn}function KS(t,e,n,r,i){const o=i?"class":"style";nS(t,n,e.inputs[o],o,r)}function Tp(t,e,n){return _a(t,e,n,!1),Tp}function Jw(t,e){return _a(t,e,null,!0),Jw}function tl(t){!function va(t,e,n,r){const i=It(),s=Qu(2);i.firstUpdatePass&&yj(i,null,s,r);const o=te();if(n!==bt&&Rr(o,s,n)){const a=i.data[Di()];if(wj(a,r)&&!mj(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Um(u,n||"")),KS(i,a,o,n,r)}else!function Jee(t,e,n,r,i,s,o,a){i===bt&&(i=Qt);let u=0,l=0,d=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==d||null!==g;){const y=u<i.length?i[u+1]:void 0,v=l<s.length?s[l+1]:void 0;let T,E=null;d===g?(u+=2,l+=2,y!==v&&(E=g,T=v)):null===g||null!==d&&d<g?(u+=2,E=d):(l+=2,E=g,T=v),null!==E&&vj(t,e,n,r,E,T,o,a),d=u<i.length?i[u]:null,g=l<s.length?s[l]:null}}(i,a,o,o[ut],o[s+1],o[s+1]=function Kee(t,e,n){if(null==n||""===n)return Qt;const r=[],i=so(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(Qee,ru,t,!0)}function ru(t,e){for(let n=function Lee(t){return function fj(t){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=t.length}(t),dj(t,Ip(t,0,ti.textEnd))}(e);n>=0;n=dj(e,n))Ti(t,cj(e),!0)}function _a(t,e,n,r){const i=te(),s=It(),o=Qu(2);s.firstUpdatePass&&yj(s,t,o,r),e!==bt&&Rr(i,o,e)&&vj(s,s.data[Di()],i,i[ut],t,i[o+1]=function Yee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ur(so(t)))),t}(e,n),r,o)}function mj(t,e){return e>=t.expandoStartIndex}function yj(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Di()],o=mj(t,n);wj(s,r)&&null===e&&!o&&(e=!1),e=function Gee(t,e,n,r){const i=tD(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=d_(n=QS(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=QS(i,t,e,n,r),null===s){let u=function zee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==sh(r))return t[wc(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=QS(null,t,e,u[1],r),u=d_(u,e.attrs,r),function qee(t,e,n,r){t[wc(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Wee(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=d_(r,t[s].hostAttrs,n);return d_(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Mee(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wc(o),u=sh(o);t[r]=n;let d,l=!1;if(Array.isArray(n)?(d=n[1],(null===d||Zl(n,d)>0)&&(l=!0)):d=n,i)if(0!==u){const y=wc(t[a+1]);t[r+1]=Qw(y,a),0!==y&&(t[y+1]=qS(t[y+1],r)),t[a+1]=function kee(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Qw(a,0),0!==a&&(t[a+1]=qS(t[a+1],r)),a=r;else t[r+1]=Qw(u,0),0===a?a=r:t[u+1]=qS(t[u+1],r),u=r;l&&(t[r+1]=zS(t[r+1])),lj(t,d,r,!0),lj(t,d,r,!1),function Oee(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Zl(s,e)>=0&&(n[r+1]=WS(n[r+1]))}(e,d,t,r,s),o=Qw(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function QS(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=d_(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function d_(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ti(t,o,!!n||e[++s]))}return void 0===t?null:t}function Qee(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Ti(t,r,n)}function vj(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1],d=function xee(t){return!(1&~t)}(l)?bj(u,e,n,i,sh(l),o):void 0;Yw(d)||(Yw(s)||function Ree(t){return!(2&~t)}(l)&&(s=bj(u,null,n,i,a,o)),function uY(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:yc.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=yc.Important),t.setStyle(n,r,i,s))}}(r,o,ks(Di(),n),i,s))}function bj(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),d=l?u[1]:u,g=null===d;let y=n[i+1];y===bt&&(y=g?Qt:void 0);let v=g?Xm(y,r):d===r?y:void 0;if(l&&!Yw(v)&&(v=Xm(u,r)),Yw(v)&&(a=v,o))return a;const E=t[i+1];i=o?wc(E):sh(E)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Xm(u,r))}return a}function Yw(t){return void 0!==t}function wj(t,e){return!!(t.flags&(e?8:16))}function Pt(t,e,n,r){const i=te(),s=It(),o=Qe+t,a=i[ut],u=s.firstCreatePass?function bte(t,e,n,r,i,s){const o=e.consts,u=Xd(e,t,2,r,xs(o,i));return XD(e,n,u,xs(o,s)),null!==u.attrs&&Lw(u,u.attrs,!1),null!==u.mergedAttrs&&Lw(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],l=Aj(s,i,u,a,e,t);i[o]=l;const d=Ff(u);return Os(u,!0),GV(a,l,u),!function ap(t){return!(32&~t.flags)}(u)&&Cy()&&Iw(s,i,l,u),0===function b(){return lt.lFrame.elementDepthCount}()&&Bi(l,i),function I(){lt.lFrame.elementDepthCount++}(),d&&(QD(s,i,u),KD(s,u,i)),null!==r&&JD(i,u),Pt}function Lt(){let t=on();qd()?$f():(t=t.parent,Os(t,!1));const e=t;(function De(t){return lt.skipHydrationRootTNode===t})(e)&&function ro(){lt.skipHydrationRootTNode=null}(),function P(){lt.lFrame.elementDepthCount--}();const n=It();return n.firstCreatePass&&(Kb(n,t),fy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function sQ(t){return!!(8&t.flags)}(e)&&KS(n,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function oQ(t){return!!(16&t.flags)}(e)&&KS(n,e,te(),e.stylesWithoutHost,!1),Lt}function fr(t,e,n,r){return Pt(t,e,n,r),Lt(),fr}let Aj=(t,e,n,r,i,s)=>(Ja(!0),bw(r,i,function rF(){return lt.lFrame.currentNamespace}()));function h_(t,e,n){const r=te(),i=It(),s=t+Qe,o=i.firstCreatePass?function Ite(t,e,n,r,i){const s=e.consts,o=xs(s,r),a=Xd(e,t,8,"ng-container",o);return null!==o&&Lw(a,o,!0),XD(e,n,a,xs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Os(o,!0);const a=Dj(i,r,o,t);return r[s]=a,Cy()&&Iw(i,r,a,o),Bi(a,r),Ff(o)&&(QD(i,r,o),KD(i,o,r)),null!=n&&JD(r,o),h_}function f_(){let t=on();const e=It();return qd()?$f():(t=t.parent,Os(t,!1)),e.firstCreatePass&&(Kb(e,t),fy(t)&&e.queries.elementEnd(t)),f_}let Dj=(t,e,n,r)=>(Ja(!0),UD(e[ut],""));function p_(){return te()}function ZS(t,e,n){const r=te();if(Rr(r,ma(),e)){const s=It(),o=On();Ls(s,o,r,t,e,s2(tD(s.data),o,r),n,!0)}return ZS}const Cp="en-US";let Rj=Cp;let Jj=(t,e,n)=>{};function pr(t,e,n,r){const i=te(),s=It(),o=on();return nP(s,i,i[ut],o,t,e,r),pr}function nP(t,e,n,r,i,s,o){const a=Ff(r),l=t.firstCreatePass&&i2(t),d=e[gn],g=r2(e);let y=!0;if(3&r.type||o){const T=hi(r,e),C=o?o(T):T,k=g.length,R=o?Q=>o(qt(Q[r.index])):r.index;let L=null;if(!o&&a&&(L=function gne(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ld],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,y=!1;else{s=eU(r,e,d,s),Jj(T,i,s);const Q=n.listen(C,i,s);g.push(s,Q),l&&l.push(i,R,k,k+1)}}else s=eU(r,e,d,s);const v=r.outputs;let E;if(y&&null!==v&&(E=v[i])){const T=E.length;if(T)for(let C=0;C<T;C+=2){const Ee=e[E[C]][E[C+1]].subscribe(s),Ce=g.length;g.push(s,Ee),l&&l.push(i,r.index,Ce,-(Ce+1))}}}function Zj(t,e,n,r){const i=qe(null);try{return Rs(6,e,n),!1!==n(r)}catch(s){return Dw(t,s),!1}finally{Rs(7,e,n),qe(i)}}function eU(t,e,n,r){return function i(s){if(s===Function)return r;zy(t.componentOffset>-1?ji(t.index,e):e,5);let a=Zj(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=Zj(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function $r(t=1){return function YK(t){return(lt.lFrame.contextLView=function Iy(t,e){for(;t>0;)e=e[uc],t--;return e}(t,lt.lFrame.contextLView))[gn]}(t)}function iP(t,e,n){aL(t,e,n)}function nE(t){const e=te(),n=It(),r=nD();Wb(r+1);const i=NS(n,r);if(t.dirty&&function Ui(t){return!(4&~t[tt])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)t.reset([]);else{const s=cL(e,r);t.reset(s,DF),t.notifyOnChanges()}return!0}return!1}function rE(){return function PS(t,e){return t[Lo].queries[e].queryList}(te(),nD())}function Vn(t,e=""){const n=te(),r=It(),i=t+Qe,s=r.firstCreatePass?Xd(r,i,1,e,null):r.data[i],o=bU(r,n,s,e,t);n[i]=o,Cy()&&Iw(r,n,o,s),Os(s,!1)}let bU=(t,e,n,r,i)=>(Ja(!0),function jD(t,e){return t.createText(e)}(e[ut],r));function Dp(t){return nl("",t,""),Dp}function nl(t,e,n){const r=te(),i=function gp(t,e,n,r){return Rr(t,ma(),n)?e+mt(n)+r:bt}(r,t,e,n);return i!==bt&&function Xu(t,e,n){const r=ks(e,t);!function NV(t,e,n){t.setValue(e,n)}(t[ut],r,n)}(r,Di(),i),nl}function oP(t,e,n){fL(e)&&(e=e());const r=te();return Rr(r,ma(),e)&&Ls(It(),On(),r,t,e,r[ut],n,!1),oP}function aP(t,e){const n=te(),r=It(),i=on();return nP(r,n,n[ut],i,t,e),aP}function uP(t,e,n,r,i){if(t=ot(t),Array.isArray(t))for(let s=0;s<t.length;s++)uP(t[s],e,n,r,i);else{const s=It(),o=te(),a=on();let u=Wa(t)?t:ot(t.provide);const l=Mb(t),d=1048575&a.providerIndexes,g=a.directiveStart,y=a.providerIndexes>>20;if(Wa(t)||!t.multi){const v=new Dy(l,i,ve),E=cP(u,e,i?d:d+y,g);-1===E?(dD(Xb(a,o),s,u),lP(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[E]=v,o[E]=v)}else{const v=cP(u,e,d+y,g),E=cP(u,e,d,d+y),C=E>=0&&n[E];if(i&&!C||!i&&!(v>=0&&n[v])){dD(Xb(a,o),s,u);const k=function Une(t,e,n,r,i){const s=new Dy(t,n,ve);return s.multi=[],s.index=e,s.componentProviders=0,kU(s,i,r&&!n),s}(i?jne:Lne,n.length,i,r,l);!i&&C&&(n[E].providerFactory=k),lP(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else lP(s,t,v>-1?v:E,kU(n[i?E:v],l,!i&&r));!i&&r&&C&&n[E].componentProviders++}}}function lP(t,e,n,r){const i=Wa(e),s=function kb(t){return!!t.useClass}(e);if(i||s){const u=(s?ot(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const d=l.indexOf(n);-1===d?l.push(n,[r,u]):l[d+1].push(r,u)}else l.push(n,u)}}}function kU(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cP(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Lne(t,e,n,r){return dP(this.multi,[])}function jne(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Qd(n,n[Ie],this.providerFactory.index,r);s=a.slice(0,o),dP(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],dP(i,s);return s}function dP(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Zn(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Vne(t,e,n){const r=It();if(r.firstCreatePass){const i=no(t);uP(n,r.data,r.blueprint,i,!0),uP(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let Bne=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=kd(0,n.type),i=r.length>0?Bw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Se({token:t,providedIn:"environment",factory:()=>new t(le(Ai))})}return t})();function b_(t){as("NgStandalone"),t.getStandaloneInjector=e=>e.get(Bne).getOrCreateStandaloneInjector(t)}function hP(t,e,n,r,i){return function VU(t,e,n,r,i,s,o){const a=e+n;return rh(t,a,i,s)?tu(t,a+2,o?r.call(o,i,s):r(i,s)):w_(t,a+2)}(te(),os(),t,e,n,r,i)}function OU(t,e,n,r,i,s){return function LU(t,e,n,r,i,s,o,a){const u=e+n;return function $w(t,e,n,r,i){const s=rh(t,e,n,r);return Rr(t,e+2,i)||s}(t,u,i,s,o)?tu(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):w_(t,u+3)}(te(),os(),t,e,n,r,i,s)}function w_(t,e){const n=t[e];return n===bt?void 0:n}function fP(t,e){const n=It();let r;const i=t+Qe;n.firstCreatePass?(r=function Zne(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ql(r.type)),a=Xr(ve);try{const u=Yb(!1),l=s();return Yb(u),function sP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,te(),i,l),l}finally{Xr(a)}}function pP(t,e,n){const r=t+Qe,i=te(),s=function Wu(t,e){return t[e]}(i,r);return function E_(t,e){return t[Ie].data[e].pure}(i,r)?function FU(t,e,n,r,i,s){const o=e+n;return Rr(t,o,i)?tu(t,o+1,s?r.call(s,i):r(i)):w_(t,o+1)}(i,os(),e,s.transform,n,s):s.transform(n)}class Np{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const Cre=new Np("18.1.2");let n3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const a3=new _e(""),uE=new _e("");let EP,bP=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,EP||(function Xre(t){EP=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{St.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(le(St),le(wP),le(uE))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),wP=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return EP?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function A_(t){return!!t&&"function"==typeof t.then}function u3(t){return!!t&&"function"==typeof t.subscribe}const IP=new _e("");let TP=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ie(IP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(A_(s))n.push(s);else if(u3(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const lE=new _e("");function d3(t,e){return Array.isArray(e)?e.reduce(d3,t):{...t,...e}}let co=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ie(AF),this.afterRenderEffectManager=ie(Fw),this.zonelessEnabled=ie(e_),this.externalTestViews=new Set,this.beforeRender=new V,this.afterTick=new V,this.componentTypes=[],this.components=[],this.isStable=ie(Ju).hasPendingTasks.pipe(Re(n=>!n)),this._injector=ie(Ai)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof F2;if(!this._injector.get(TP).done)throw!i&&function fa(t){const e=Dt(t)||lr(t)||jr(t);return null!==e&&e.standalone}(n),new K(405,!1);let o;o=i?n:this._injector.get(t_).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function Zre(t){return t.isBoundToModule}(o)?void 0:this._injector.get(nh),l=o.create(hr.NULL,[],r||o.selector,a),d=l.location.nativeElement,g=l.injector.get(a3,null);return g?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),cE(this.components,l),g?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new K(101,!1);const r=qe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,qe(r),this.afterTick.next()}}detectChangesInAttachedViews(n){let r=null;this._injector.destroyed||(r=this._injector.get(Ow,null,{optional:!0}));let i=0;const s=this.afterRenderEffectManager;for(;i<10;){const o=0===i;if(n||!o){this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:u}of this._views)tie(a,u,o,this.zonelessEnabled)}else r?.begin?.(),r?.end?.();if(i++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:a})=>fc(a))&&(s.execute(),!this.allViews.some(({_lView:a})=>fc(a))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;cE(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(lE,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>cE(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new K(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function tie(t,e,n,r){(n||fc(t))&&Sw(t,e,n&&!r?0:1)}class nie{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let f3=(()=>{class t{compileModuleSync(n){return new xS(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ao(di(n).declarations).reduce((o,a)=>{const u=Dt(a);return u&&o.push(new i_(u)),o},[]);return new nie(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sie=(()=>{class t{constructor(){this.zone=ie(St),this.changeDetectionScheduler=ie(sp),this.applicationRef=ie(co)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AP({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new St(CP()),[{provide:St,useFactory:t},{provide:Xs,multi:!0,useFactory:()=>{const n=ie(sie,{optional:!0});return()=>n.initialize()}},{provide:Xs,multi:!0,useFactory:()=>{const n=ie(uie);return()=>{n.initialize()}}},{provide:AF,useFactory:aie},!0===e?{provide:O2,useValue:!0}:[]]}function aie(){const t=ie(St),e=ie(Bo);return n=>t.runOutsideAngular(()=>e.handleError(n))}function CP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let uie=(()=>{class t{constructor(){this.subscription=new Ut,this.initialized=!1,this.zone=ie(St),this.pendingTasks=ie(Ju)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{St.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{St.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),C_=(()=>{class t{constructor(){this.appRef=ie(co),this.taskService=ie(Ju),this.ngZone=ie(St),this.zonelessEnabled=ie(e_),this.disableScheduling=ie(O2,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ut,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _S||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?U2:j2;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&St.isInAngularZone())}tick(n){if(this.runningTick||this.appRef.destroyed)return;const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(n)},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,U2(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const rl=new _e("",{providedIn:"root",factory:()=>ie(rl,Mt.Optional|Mt.SkipSelf)||function lie(){return typeof $localize<"u"&&$localize.locale||Cp}()}),SP=new _e("");let y3=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function XX(t="zone.js",e){return"noop"===t?new _S:"zone.js"===t?new St(e):t}(r?.ngZone,CP({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=r?.ignoreChangesOutsideZone,o=function qZ(t,e,n){return new kS(t,e,n)}(n.moduleType,this.injector,[...AP({ngZoneFactory:()=>i,ignoreChangesOutsideZone:s}),{provide:sp,useExisting:C_}]),a=o.injector.get(Bo,null);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{cE(this._modules,o),u.unsubscribe()})}),function c3(t,e,n){try{const r=n();return A_(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,i,()=>{const u=o.injector.get(TP);return u.runInitializers(),u.donePromise.then(()=>(function kj(t){"string"==typeof t&&(Rj=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(rl,Cp)||Cp),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=d3({},r);return function iie(t,e,n){const r=new xS(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(co);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new K(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(SP,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(le(hr))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ec=null;const _3=new _e("");function v3(t,e,n=[]){const r=`Platform: ${e}`,i=new _e(r);return(s=[])=>{let o=PP();if(!o||o.injector.get(_3,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function hie(t){if(Ec&&!Ec.get(_3,!1))throw new K(400,!1);(function l3(){!function na(t){Yr=t}(()=>{throw new K(600,!1)})})(),Ec=t;const e=t.get(y3);(function w3(t){t.get(WF,null)?.forEach(n=>n())})(t)}(function b3(t=[],e){return hr.create({name:e,providers:[{provide:ay,useValue:"platform"},{provide:SP,useValue:new Set([()=>Ec=null])},...t]})}(a,r))}return function fie(t){const e=PP();if(!e)throw new K(401,!1);return e}()}}function PP(){return Ec?.get(y3)??null}let D_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=gie}return t})();function gie(t){return function mie(t,e,n){if(qu(t)&&!n){const r=ji(t.index,e);return new qy(r,r)}return 175&t.type?new qy(e[Mn],e):null}(on(),te(),!(16&~t))}class D3{constructor(){}supports(e){return Hw(e)}create(e){return new wie(e)}}const bie=(t,e)=>e;class wie{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bie}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<P3(r,i,s)?n:r,a=P3(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,d=u-i;if(l!=d){for(let y=0;y<l;y++){const v=y<s.length?s[y]:s[y]=0,E=v+y;d<=E&&E<l&&(s[y]=v+1)}s[o.previousIndex]=d-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Hw(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function QZ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Eie(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new S3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new S3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Eie{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Iie{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class S3{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Iie,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function P3(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function R3(){return new MP([new D3])}let MP=(()=>{class t{static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:R3});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||R3()),deps:[[t,new Ef,new $u]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new K(901,!1)}}return t})();const Sie=v3(null,"core",[]);let Pie=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(le(co))};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=Sr({})}return t})();const Q3=new _e("");function R_(t,e){as("NgSignals");const n=function hn(t){const e=Object.create(si);e.computation=t;const n=()=>{if(ht(e),we(e),e.value===Hn)throw e.error;return e.value};return n[Yt]=e,n}(t);return e?.equal&&(n[Yt].equal=e.equal),n}function iu(t){const e=qe(null);try{return t()}finally{qe(e)}}let sB=null;function Ic(){return sB}class _se{}const pi=new _e("");let LP=(()=>{class t{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:()=>ie(bse),providedIn:"platform"})}return t})();const vse=new _e("");let bse=(()=>{class t extends LP{constructor(){super(),this._doc=ie(pi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ic().getBaseHref(this._doc)}onPopState(n){const r=Ic().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ic().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function jP(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function oB(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function il(t){return t&&"?"!==t[0]?"?"+t:t}let uh=(()=>{class t{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:()=>ie(uB),providedIn:"root"})}return t})();const aB=new _e("");let uB=(()=>{class t extends uh{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ie(pi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return jP(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+il(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+il(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+il(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(le(LP),le(aB,8))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wse=(()=>{class t extends uh{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=jP(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+il(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+il(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(le(LP),le(aB,8))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),k_=(()=>{class t{constructor(n){this._subject=new vr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Tse(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(oB(lB(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+il(r))}normalize(n){return t.stripTrailingSlash(function Ise(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,lB(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+il(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+il(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=il;static#t=this.joinWithSlash=jP;static#n=this.stripTrailingSlash=oB;static#r=this.\u0275fac=function(r){return new(r||t)(le(uh))};static#i=this.\u0275prov=Se({token:t,factory:()=>function Ese(){return new k_(le(uh))}(),providedIn:"root"})}return t})();function lB(t){return t.replace(/\/index.html$/,"")}function _B(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const QP=/\s+/,vB=[];let bB=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=vB,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(QP):vB}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(QP):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(QP).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(ve(io),ve(el))};static#t=this.\u0275dir=at({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class loe{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let EB=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new loe(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),IB(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{IB(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(ve(ya),ve(Zu),ve(MP))};static#t=this.\u0275dir=at({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function IB(t,e){t.context.$implicit=e.item}let kE=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new coe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){TB("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){TB("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(ve(ya),ve(Zu))};static#t=this.\u0275dir=at({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class coe{constructor(){this.$implicit=null,this.ngIf=null}}function TB(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ur(e)}'.`)}class foe{createSubscription(e,n){return iu(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){iu(()=>e.unsubscribe())}}class poe{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const goe=new poe,moe=new foe;let CB=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(A_(n))return goe;if(u3(n))return moe;throw function wa(t,e){return new K(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(ve(D_,16))};static#t=this.\u0275pipe=ci({name:"async",type:t,pure:!1,standalone:!0})}return t})(),e1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=Sr({})}return t})();const SB="browser";function xE(t){return"server"===t}let Foe=(()=>{class t{static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:()=>function Ooe(t){return t===SB}(ie(Ho))?new Voe(ie(pi),window):new joe})}return t})();class Voe{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function Loe(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class joe{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class PB{}class fae extends _se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class i1 extends fae{static makeCurrent(){!function yse(t){sB??=t}(new i1)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function pae(){return F_=F_||document.querySelector("base"),F_?F_.getAttribute("href"):null}();return null==n?null:function gae(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){F_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _B(document.cookie,e)}}let F_=null,yae=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const VE=new _e("");let jB=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(le(VE),le(St))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();class s1{constructor(e){this._doc=e}}const o1="ng-app-id";let UB=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xE(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${o1}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(o1),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(o1,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(le(pi),le(Qf),le(QF,8),le(Ho))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const a1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},u1=/%COMP%/g,wae=new _e("",{providedIn:"root",factory:()=>!0});function HB(t,e){return e.map(n=>n.replace(u1,t))}let l1=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=xE(a),this.defaultRenderer=new c1(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Zs.ShadowDom&&(r={...r,encapsulation:Zs.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof GB?i.applyToHost(n):i instanceof d1&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Zs.Emulated:s=new GB(u,l,r,this.appId,d,o,a,g);break;case Zs.ShadowDom:return new Aae(u,l,n,r,o,a,this.nonce,g);default:s=new d1(u,l,r,d,o,a,g)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(le(jB),le(UB),le(Qf),le(wae),le(pi),le(Ho),le(St),le(QF))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();class c1{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(a1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($B(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($B(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=a1[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=a1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yc.DashCase|yc.Important)?e.style.setProperty(n,r,i&yc.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yc.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ic().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function $B(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Aae extends c1{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=HB(i.id,i.styles);for(const d of l){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=d,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class d1 extends c1{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?HB(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class GB extends d1{constructor(e,n,r,i,s,o,a,u){const l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=function Eae(t){return"_ngcontent-%COMP%".replace(u1,t)}(l),this.hostAttr=function Iae(t){return"_nghost-%COMP%".replace(u1,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Cae=(()=>{class t extends s1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(le(pi))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),Dae=(()=>{class t extends s1{constructor(n){super(n),this.delegate=ie(Q3,{optional:!0})}supports(n){return!!this.delegate&&this.delegate.supports(n)}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(le(pi))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const zB=["alt","control","meta","shift"],Sae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pae={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Nae=(()=>{class t extends s1{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ic().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),zB.forEach(l=>{const d=r.indexOf(l);d>-1&&(r.splice(d,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=Sae[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),zB.forEach(o=>{o!==i&&(0,Pae[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(le(pi))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const WB=[{provide:Ho,useValue:SB},{provide:WF,useValue:function Rae(){i1.makeCurrent()},multi:!0},{provide:pi,useFactory:function xae(){return function QQ(t){_D=t}(document),document},deps:[]}],Mae=v3(Sie,"browser",WB),Oae=new _e(""),KB=[{provide:uE,useClass:class mae{addToWindow(e){ln.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new K(5103,!1);return s},ln.getAllAngularTestabilities=()=>e.getAllTestabilities(),ln.getAllAngularRootElements=()=>e.getAllRootElements(),ln.frameworkStabilizers||(ln.frameworkStabilizers=[]),ln.frameworkStabilizers.push(r=>{const i=ln.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ic().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:a3,useClass:bP,deps:[St,wP,uE]},{provide:bP,useClass:bP,deps:[St,wP,uE]}],QB=[{provide:ay,useValue:"root"},{provide:Bo,useFactory:function kae(){return new Bo},deps:[]},{provide:VE,useClass:Cae,multi:!0,deps:[pi,St,Ho]},{provide:VE,useClass:Nae,multi:!0,deps:[pi]},{provide:VE,useClass:Dae,multi:!0},l1,UB,jB,{provide:Ow,useExisting:l1},{provide:PB,useClass:yae,deps:[]},[]];let JB=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Qf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(le(Oae,12))};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=Sr({providers:[...QB,...KB],imports:[e1,Pie]})}return t})(),Fae=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(le(pi))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ZB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:function(r){let i=null;return i=r?new(r||t):le(Uae),i},providedIn:"root"})}return t})(),Uae=(()=>{class t extends ZB{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case oo.NONE:return r;case oo.HTML:return Xa(r,"HTML")?so(r):_V(this._doc,String(r)).toString();case oo.STYLE:return Xa(r,"Style")?so(r):r;case oo.SCRIPT:if(Xa(r,"Script"))return so(r);throw new K(5200,!1);case oo.URL:return Xa(r,"URL")?so(r):gw(String(r));case oo.RESOURCE_URL:if(Xa(r,"ResourceURL"))return so(r);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(n){return function mJ(t){return new cJ(t)}(n)}bypassSecurityTrustStyle(n){return function yJ(t){return new dJ(t)}(n)}bypassSecurityTrustScript(n){return function _J(t){return new hJ(t)}(n)}bypassSecurityTrustUrl(n){return function vJ(t){return new fJ(t)}(n)}bypassSecurityTrustResourceUrl(n){return function bJ(t){return new pJ(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(le(pi))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Mp=nt(635);const e4=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function t4(t){return Me(t?.then)}function n4(t){return Me(t[Ks])}function r4(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function i4(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const s4=function Hae(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function o4(t){return Me(t?.[s4])}function a4(t){return(0,Mp.AQ)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Mp.N3)(n.read());if(i)return yield(0,Mp.N3)(void 0);yield yield(0,Mp.N3)(r)}}finally{n.releaseLock()}})}function u4(t){return Me(t?.getReader)}function hs(t){if(t instanceof fn)return t;if(null!=t){if(n4(t))return function $ae(t){return new fn(e=>{const n=t[Ks]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(e4(t))return function Gae(t){return new fn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(t4(t))return function zae(t){return new fn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jl)})}(t);if(r4(t))return l4(t);if(o4(t))return function qae(t){return new fn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(u4(t))return function Wae(t){return l4(a4(t))}(t)}throw i4(t)}function l4(t){return new fn(e=>{(function Kae(t,e){var n,r,i,s;return(0,Mp.sH)(this,void 0,void 0,function*(){try{for(n=(0,Mp.xN)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function su(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ou(t,e=0){return Be((n,r)=>{n.subscribe(We(r,i=>su(r,t,()=>r.next(i),e),()=>su(r,t,()=>r.complete(),e),i=>su(r,t,()=>r.error(i),e)))})}function Op(t,e=0){return Be((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function c4(t,e){if(!t)throw new Error("Iterable cannot be null");return new fn(n=>{su(n,e,()=>{const r=t[Symbol.asyncIterator]();su(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Zt(t,e){return e?function eue(t,e){if(null!=t){if(n4(t))return function Qae(t,e){return hs(t).pipe(Op(e),ou(e))}(t,e);if(e4(t))return function Yae(t,e){return new fn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(t4(t))return function Jae(t,e){return hs(t).pipe(Op(e),ou(e))}(t,e);if(r4(t))return c4(t,e);if(o4(t))return function Xae(t,e){return new fn(n=>{let r;return su(n,e,()=>{r=t[s4](),su(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(t,e);if(u4(t))return function Zae(t,e){return c4(a4(t),e)}(t,e)}throw i4(t)}(t,e):hs(t)}function d4(t){return t&&Me(t.schedule)}function h1(t){return t[t.length-1]}function h4(t){return Me(h1(t))?t.pop():void 0}function V_(t){return d4(h1(t))?t.pop():void 0}function et(...t){return Zt(t,V_(t))}const{isArray:nue}=Array,{getPrototypeOf:rue,prototype:iue,keys:sue}=Object;function f4(t){if(1===t.length){const e=t[0];if(nue(e))return{args:e,keys:null};if(function oue(t){return t&&"object"==typeof t&&rue(t)===iue}(e)){const n=sue(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:aue}=Array;function p4(t){return Re(e=>function uue(t,e){return aue(e)?t(...e):t(e)}(t,e))}function g4(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function f1(...t){const e=V_(t),n=h4(t),{args:r,keys:i}=f4(t);if(0===r.length)return Zt([],e);const s=new fn(function lue(t,e,n=ui){return r=>{m4(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)m4(e,()=>{const l=Zt(t[u],e);let d=!1;l.subscribe(We(r,g=>{s[u]=g,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>g4(i,o):ui));return n?s.pipe(p4(n)):s}function m4(t,e,n){t?su(n,t,e):e()}const jE=Ct(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function gi(t,e,n=1/0){return Me(e)?gi((r,i)=>Re((s,o)=>e(r,s,i,o))(hs(t(r,i))),n):("number"==typeof e&&(n=e),Be((r,i)=>function cue(t,e,n,r,i,s,o,a){const u=[];let l=0,d=0,g=!1;const y=()=>{g&&!u.length&&!l&&e.complete()},v=T=>l<r?E(T):u.push(T),E=T=>{s&&e.next(T),l++;let C=!1;hs(n(T,d++)).subscribe(We(e,k=>{i?.(k),s?v(k):e.next(k)},()=>{C=!0},void 0,()=>{if(C)try{for(l--;u.length&&l<r;){const k=u.shift();o?su(e,o,()=>E(k)):E(k)}y()}catch(k){e.error(k)}}))};return t.subscribe(We(e,v,()=>{g=!0,y()})),()=>{a?.()}}(r,i,t,n)))}function Fp(t=1/0){return gi(ui,t)}function p1(...t){return function due(){return Fp(1)}()(Zt(t,V_(t)))}function y4(t){return new fn(e=>{hs(t()).subscribe(e)})}function Tc(t,e){const n=Me(t)?t:()=>t,r=i=>i.error(n());return new fn(e?i=>e.schedule(r,0,i):r)}const Ea=new fn(t=>t.complete());function g1(){return Be((t,e)=>{let n=null;t._refCount++;const r=We(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class _4 extends fn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Oe(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ut;const n=this.getSubject();e.add(this.source.subscribe(We(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ut.EMPTY)}return e}refCount(){return g1()(this)}}function er(t,e){return Be((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(We(r,u=>{i?.unsubscribe();let l=0;const d=s++;hs(t(u,d)).subscribe(i=We(r,g=>r.next(e?e(u,g,d,l++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function al(t){return t<=0?()=>Ea:Be((e,n)=>{let r=0;e.subscribe(We(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function UE(...t){const e=V_(t);return Be((n,r)=>{(e?p1(t,n,e):p1(t,n)).subscribe(r)})}function qo(t,e){return Be((n,r)=>{let i=0;n.subscribe(We(r,s=>t.call(e,s,i++)&&r.next(s)))})}function BE(t){return Be((e,n)=>{let r=!1;e.subscribe(We(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function v4(t=fue){return Be((e,n)=>{let r=!1;e.subscribe(We(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fue(){return new jE}function Ac(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qo((i,s)=>t(i,s,r)):ui,al(1),n?BE(e):v4(()=>new jE))}function Vp(t,e){return Me(e)?gi(t,e,1):gi(t,1)}function qr(t,e,n){const r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?Be((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(We(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ui}function fs(t){return Be((e,n)=>{let s,r=null,i=!1;r=e.subscribe(We(n,void 0,void 0,o=>{s=hs(t(o,fs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function HE(t,e){return Be(function pue(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(We(o,d=>{const g=l++;u=a?t(u,d,g):(a=!0,d),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function m1(t){return t<=0?()=>Ea:Be((e,n)=>{let r=[];e.subscribe(We(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ul(t){return Be((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Nt="primary",L_=Symbol("RouteTitle");class _ue{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Lp(t){return new _ue(t)}function vue(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(":"===o[0])i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function au(t,e){const n=t?y1(t):void 0,r=e?y1(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!b4(t[i],e[i]))return!1;return!0}function y1(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function b4(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function w4(t){return t.length>0?t[t.length-1]:null}function Cc(t){return function Bae(t){return!!t&&(t instanceof fn||Me(t.lift)&&Me(t.subscribe))}(t)?t:A_(t)?Zt(Promise.resolve(t)):et(t)}const wue={exact:function T4(t,e,n){if(!dh(t.segments,e.segments)||!$E(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!T4(t.children[r],e.children[r],n))return!1;return!0},subset:A4},E4={exact:function Eue(t,e){return au(t,e)},subset:function Iue(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>b4(t[n],e[n]))},ignored:()=>!0};function I4(t,e,n){return wue[n.paths](t.root,e.root,n.matrixParams)&&E4[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function A4(t,e,n){return C4(t,e,e.segments,n)}function C4(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!dh(i,n)||e.hasChildren()||!$E(i,n,r))}if(t.segments.length===n.length){if(!dh(t.segments,n)||!$E(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!A4(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(dh(t.segments,i)&&$E(t.segments,i,r)&&t.children[Nt])&&C4(t.children[Nt],e,s,r)}}function $E(t,e,n){return e.every((r,i)=>E4[n](t[i].parameters,r.parameters))}class ch{constructor(e=new En([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Lp(this.queryParams),this._queryParamMap}toString(){return Cue.serialize(this)}}class En{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zE(this)}}class j_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Lp(this.parameters),this._parameterMap}toString(){return P4(this)}}function dh(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let jp=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:()=>new GE,providedIn:"root"})}return t})();class GE{parse(e){const n=new Vue(e);return new ch(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${U_(e.root,!0)}`,r=function Pue(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qE(n)}=${qE(i)}`).join("&"):`${qE(n)}=${qE(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Due(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Cue=new GE;function zE(t){return t.segments.map(e=>P4(e)).join("/")}function U_(t,e){if(!t.hasChildren())return zE(t);if(e){const n=t.children[Nt]?U_(t.children[Nt],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Nt&&r.push(`${i}:${U_(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Aue(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Nt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Nt&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Nt?[U_(t.children[Nt],!1)]:[`${i}:${U_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Nt]?`${zE(t)}/${n[0]}`:`${zE(t)}/(${n.join("//")})`}}function D4(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qE(t){return D4(t).replace(/%3B/gi,";")}function _1(t){return D4(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function WE(t){return decodeURIComponent(t)}function S4(t){return WE(t.replace(/\+/g,"%20"))}function P4(t){return`${_1(t.path)}${function Sue(t){return Object.entries(t).map(([e,n])=>`;${_1(e)}=${_1(n)}`).join("")}(t.parameters)}`}const Nue=/^[^\/()?;#]+/;function v1(t){const e=t.match(Nue);return e?e[0]:""}const Rue=/^[^\/()?;=#]+/,xue=/^[^=?&#]+/,Oue=/^[^&#]+/;class Vue{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new En([],{}):new En([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Nt]=new En(e,n)),r}parseSegment(){const e=v1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new j_(WE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function kue(t){const e=t.match(Rue);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=v1(this.remaining);i&&(r=i,this.capture(r))}e[WE(n)]=WE(r)}parseQueryParam(e){const n=function Mue(t){const e=t.match(xue);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Fue(t){const e=t.match(Oue);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=S4(n),s=S4(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=v1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new K(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Nt);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Nt]:new En([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}}function N4(t){return t.segments.length>0?new En([],{[Nt]:t}):t}function R4(t){const e={};for(const[r,i]of Object.entries(t.children)){const s=R4(i);if(r===Nt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Lue(t){if(1===t.numberOfChildren&&t.children[Nt]){const e=t.children[Nt];return new En(t.segments.concat(e.segments),e.children)}return t}(new En(t.segments,e))}function hh(t){return t instanceof ch}function k4(t){let e;const i=N4(function n(s){const o={};for(const u of s.children){const l=n(u);o[u.outlet]=l}const a=new En(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function x4(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return b1(i,i,i,n,r);const s=function Uue(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new O4(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new O4(n,e,r)}(e);if(s.toRoot())return b1(i,i,new En([],{}),n,r);const o=function Bue(t,e,n){if(t.isAbsolute)return new QE(e,!0,0);if(!n)return new QE(e,!1,NaN);if(null===n.parent)return new QE(n,!0,0);const r=KE(t.commands[0])?0:1;return function Hue(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new QE(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?H_(o.segmentGroup,o.index,s.commands):F4(o.segmentGroup,o.index,s.commands);return b1(i,o.segmentGroup,a,n,r)}function KE(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function B_(t){return"object"==typeof t&&null!=t&&t.outlets}function b1(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),o=t===e?n:M4(t,e,n);const a=N4(R4(o));return new ch(a,s,i)}function M4(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:M4(s,e,n)}),new En(t.segments,r)}class O4{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&KE(r[0]))throw new K(4003,!1);const i=r.find(B_);if(i&&i!==w4(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class QE{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function F4(t,e,n){if(t??=new En([],{}),0===t.segments.length&&t.hasChildren())return H_(t,e,n);const r=function Gue(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(B_(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!L4(u,l,o))return s;r+=2}else{if(!L4(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new En(t.segments.slice(0,r.pathIndex),{});return s.children[Nt]=new En(t.segments.slice(r.pathIndex),t.children),H_(s,0,i)}return r.match&&0===i.length?new En(t.segments,{}):r.match&&!t.hasChildren()?w1(t,e,n):r.match?H_(t,0,i):w1(t,e,n)}function H_(t,e,n){if(0===n.length)return new En(t.segments,{});{const r=function $ue(t){return B_(t[0])?t[0].outlets:{[Nt]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Nt)&&t.children[Nt]&&1===t.numberOfChildren&&0===t.children[Nt].segments.length){const s=H_(t.children[Nt],e,n);return new En(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=F4(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new En(t.segments,i)}}function w1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(B_(s)){const u=zue(s.outlets);return new En(r,u)}if(0===i&&KE(n[0])){r.push(new j_(t.segments[e].path,V4(n[0]))),i++;continue}const o=B_(s)?s.outlets[Nt]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&KE(a)?(r.push(new j_(o,V4(a))),i+=2):(r.push(new j_(o,{})),i++)}return new En(r,{})}function zue(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=w1(new En([],{}),0,r))}),e}function V4(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function L4(t,e,n){return t==n.path&&au(e,n.parameters)}const $_="imperative";var Jt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Jt||{});class uu{constructor(e,n){this.id=e,this.url=n}}class JE extends uu{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Jt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ll extends uu{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Jt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var fo=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(fo||{}),YE=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(YE||{});class fh extends uu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Jt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Up extends uu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Jt.NavigationSkipped}}class E1 extends uu{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Jt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class j4 extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Jt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class que extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Jt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wue extends uu{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Jt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kue extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Jt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Que extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Jt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jue{constructor(e){this.route=e,this.type=Jt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yue{constructor(e){this.route=e,this.type=Jt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xue{constructor(e){this.snapshot=e,this.type=Jt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zue{constructor(e){this.snapshot=e,this.type=Jt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ele{constructor(e){this.snapshot=e,this.type=Jt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tle{constructor(e){this.snapshot=e,this.type=Jt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U4{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Jt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class I1{}class XE{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function Ia(t){return t.outlet||Nt}function G_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ale{get injector(){return G_(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new z_(this.rootInjector),this.attachRef=null}}let z_=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ale(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)(le(Ai))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class B4{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=T1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=T1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=A1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return A1(e,this._root).map(n=>n.value)}}function T1(t,e){if(t===e.value)return e;for(const n of e.children){const r=T1(t,n);if(r)return r}return null}function A1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=A1(t,n);if(r.length)return r.unshift(e),r}return[]}class Ta{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Bp(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class H4 extends B4{constructor(e,n){super(e),this.snapshot=n,C1(this,e)}toString(){return this.snapshot.toString()}}function $4(t){const e=function ule(t){const s=new eI([],{},{},"",{},Nt,t,null,{});return new G4("",new Ta(s,[]))}(t),n=new H([new j_("",{})]),r=new H({}),i=new H({}),s=new H({}),o=new H(""),a=new Hp(n,r,s,o,i,Nt,t,e.root);return a.snapshot=e.root,new H4(new Ta(a,[]),e)}class Hp{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Re(l=>l[L_]))??et(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Re(e=>Lp(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Re(e=>Lp(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZE(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&q4(i)&&(r.resolve[L_]=i.title),r}class eI{get title(){return this.data?.[L_]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Lp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Lp(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class G4 extends B4{constructor(e,n){super(n),this.url=e,C1(this,n)}toString(){return z4(this._root)}}function C1(t,e){e.value._routerState=t,e.children.forEach(n=>C1(t,n))}function z4(t){const e=t.children.length>0?` { ${t.children.map(z4).join(", ")} } `:"";return`${t.value}${e}`}function D1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,au(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),au(e.params,n.params)||t.paramsSubject.next(n.params),function bue(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!au(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),au(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function S1(t,e){const n=au(t.params,e.params)&&function Tue(t,e){return dh(t,e)&&t.every((n,r)=>au(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||S1(t.parent,e.parent))}function q4(t){return"string"==typeof t.title||null===t.title}let P1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nt,this.activateEvents=new vr,this.deactivateEvents=new vr,this.attachEvents=new vr,this.detachEvents=new vr,this.parentContexts=ie(z_),this.location=ie(ya),this.changeDetector=ie(D_),this.inputBinder=ie(tI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new N1(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=at({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vi]})}return t})();class N1{__ngOutletInjector(e){return new N1(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Hp?this.route:e===z_?this.childContexts:this.parent.get(e,n)}}const tI=new _e("");let W4=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=f1([r.queryParams,r.params,r.data]).pipe(er(([s,o,a],u)=>(a={...s,...o,...a},0===u?et(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function mse(t){const e=Dt(t);if(!e)return null;const n=new i_(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();function q_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function cle(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return q_(t,r,i);return q_(t,r)})}(t,e,n);return new Ta(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>q_(t,a)),o}}const r=function dle(t){return new Hp(new H(t.url),new H(t.params),new H(t.queryParams),new H(t.fragment),new H(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>q_(t,s));return new Ta(r,i)}}class R1{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const K4="ngNavigationCancelingError";function nI(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=hh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Q4(!1,fo.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Q4(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[K4]=!0,n.cancellationCode=e,n}function J4(t){return!!t&&t[K4]}class ple{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),D1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Bp(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bp(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bp(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Bp(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tle(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Zue(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(D1(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),D1(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}}class Y4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rI{constructor(e,n){this.component=e,this.route=n}}function gle(t,e,n){const r=t._root;return W_(r,e?e._root:null,n,[r.value])}function $p(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function yC(t){return null!==Wl(t)}(t)?e.get(t):t:r}function W_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bp(e);return t.children.forEach(o=>{(function yle(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function _le(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!dh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!dh(t.url,e.url)||!au(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!S1(t,e)||!au(t.queryParams,e.queryParams);default:return!S1(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Y4(r)):(s.data=o.data,s._resolvedData=o._resolvedData),W_(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rI(a.outlet.component,o))}else o&&K_(e,a,i),i.canActivateChecks.push(new Y4(r)),W_(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>K_(a,n.getContext(o),i)),i}function K_(t,e,n){const r=Bp(t),i=t.value;Object.entries(r).forEach(([s,o])=>{K_(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new rI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Q_(t){return"function"==typeof t}function X4(t){return t instanceof jE||"EmptyError"===t?.name}const iI=Symbol("INITIAL_VALUE");function Gp(){return er(t=>f1(t.map(e=>e.pipe(al(1),UE(iI)))).pipe(Re(e=>{for(const n of e)if(!0!==n){if(n===iI)return iI;if(!1===n||Ale(n))return n}return!0}),qo(e=>e!==iI),al(1)))}function Ale(t){return hh(t)||t instanceof R1}function Z4(t){return function gd(...t){return Ru(t)}(qr(e=>{if("boolean"!=typeof e)throw nI(0,e)}),Re(e=>!0===e))}class k1{constructor(e){this.segmentGroup=e||null}}class sI extends Error{constructor(e){super(),this.urlTree=e}}function zp(t){return Tc(new k1(t))}class Lle{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return et(r);if(i.numberOfChildren>1||!i.children[Nt])return Tc(new K(4e3,!1));i=i.children[Nt]}}applyRedirectCommands(e,n,r,i,s){if("string"!=typeof n){const a=n,{queryParams:u,fragment:l,routeConfig:d,url:g,outlet:y,params:v,data:E,title:T}=i,C=to(s,()=>a({params:v,data:E,queryParams:u,fragment:l,routeConfig:d,url:g,outlet:y,title:T}));if(C instanceof ch)throw new sI(C);n=C}const o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if("/"===n[0])throw new sI(o);return o}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ch(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&":"===s[0]){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new En(s,o)}createSegments(e,n,r,i){return n.map(s=>":"===s.path[0]?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const x1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jle(t,e,n,r,i){const s=M1(t,e,n);return s.matched?(r=function nle(t,e){return t.providers&&!t._injector&&(t._injector=Bw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Ole(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?et(i.map(o=>{const a=$p(o,t);return Cc(function Tle(t){return t&&Q_(t.canMatch)}(a)?a.canMatch(e,n):to(t,()=>a(e,n)))})).pipe(Gp(),Z4()):et(!0)}(r,e,n).pipe(Re(o=>!0===o?s:{...x1}))):et(s)}function M1(t,e,n){if("**"===e.path)return function Ule(t){return{matched:!0,parameters:t.length>0?w4(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...x1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||vue)(n,t,e);if(!i)return{...x1};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function eH(t,e,n,r){return n.length>0&&function $le(t,e,n){return n.some(r=>oI(t,e,r)&&Ia(r)!==Nt)}(t,n,r)?{segmentGroup:new En(e,Hle(r,new En(n,t.children))),slicedSegments:[]}:0===n.length&&function Gle(t,e,n){return n.some(r=>oI(t,e,r))}(t,n,r)?{segmentGroup:new En(t.segments,Ble(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new En(t.segments,t.children),slicedSegments:n}}function Ble(t,e,n,r){const i={};for(const s of n)if(oI(t,e,s)&&!r[Ia(s)]){const o=new En([],{});i[Ia(s)]=o}return{...r,...i}}function Hle(t,e){const n={};n[Nt]=e;for(const r of t)if(""===r.path&&Ia(r)!==Nt){const i=new En([],{});n[Ia(r)]=i}return n}function oI(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Wle{}class Jle{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Lle(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){const e=eH(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Re(({children:n,rootSnapshot:r})=>{const i=new Ta(r,n),s=new G4("",i),o=function jue(t,e,n=null,r=null){return x4(k4(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){const n=new eI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Nt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Nt,n).pipe(Re(r=>({children:r,rootSnapshot:n})),fs(r=>{if(r instanceof sI)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof k1?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Re(o=>o instanceof Ta?[o]:[]))}processChildren(e,n,r,i){const s=[];for(const o of Object.keys(r.children))"primary"===o?s.unshift(o):s.push(o);return Zt(s).pipe(Vp(o=>{const a=r.children[o],u=function ole(t,e){const n=t.filter(r=>Ia(r)===e);return n.push(...t.filter(r=>Ia(r)!==e)),n}(n,o);return this.processSegmentGroup(e,u,a,o,i)}),HE((o,a)=>(o.push(...a),o)),BE(null),function gue(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qo((i,s)=>t(i,s,r)):ui,m1(1),n?BE(e):v4(()=>new jE))}(),gi(o=>{if(null===o)return zp(r);const a=tH(o);return function Yle(t){t.sort((e,n)=>e.value.outlet===Nt?-1:n.value.outlet===Nt?1:e.value.outlet.localeCompare(n.value.outlet))}(a),et(a)}))}processSegment(e,n,r,i,s,o,a){return Zt(n).pipe(Vp(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(fs(l=>{if(l instanceof k1)return et(null);throw l}))),Ac(u=>!!u),fs(u=>{if(X4(u))return function qle(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?et(new Wle):zp(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return function zle(t,e,n,r){return!!(Ia(t)===r||r!==Nt&&oI(e,n,t))&&M1(e,t,n).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):zp(i):zp(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){const{matched:u,parameters:l,consumedSegments:d,positionalParamSegments:g,remainingSegments:y}=M1(n,i,s);if(!u)return zp(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const v=new eI(s,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nH(i),Ia(i),i.component??i._loadedComponent??null,i,rH(i)),E=ZE(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(E.params),v.data=Object.freeze(E.data);const T=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,g,v,e);return this.applyRedirects.lineralizeSegments(i,T).pipe(gi(C=>this.processSegment(e,r,n,C.concat(y),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){const a=jle(n,r,i,e);return"**"===r.path&&(n.children={}),a.pipe(er(u=>u.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(er(({routes:l})=>{const d=r._loadedInjector??e,{parameters:g,consumedSegments:y,remainingSegments:v}=u,E=new eI(y,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nH(r),Ia(r),r.component??r._loadedComponent??null,r,rH(r)),T=ZE(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data);const{segmentGroup:C,slicedSegments:k}=eH(n,y,v,l);if(0===k.length&&C.hasChildren())return this.processChildren(d,l,C,E).pipe(Re(L=>new Ta(E,L)));if(0===l.length&&0===k.length)return et(new Ta(E,[]));const R=Ia(r)===s;return this.processSegment(d,l,C,k,R?Nt:s,!0,E).pipe(Re(L=>new Ta(E,L instanceof Ta?[L]:[])))})):zp(n)))}getChildConfig(e,n,r){return n.children?et({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?et({routes:n._loadedRoutes,injector:n._loadedInjector}):function Mle(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?et(!0):et(i.map(o=>{const a=$p(o,t);return Cc(function ble(t){return t&&Q_(t.canLoad)}(a)?a.canLoad(e,n):to(t,()=>a(e,n)))})).pipe(Gp(),Z4())}(e,n,r).pipe(gi(i=>i?this.configLoader.loadChildren(e,n).pipe(qr(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Vle(t){return Tc(Q4(!1,fo.GuardRejected))}())):et({routes:[],injector:e})}}function Xle(t){const e=t.value.routeConfig;return e&&""===e.path}function tH(t){const e=[],n=new Set;for(const r of t){if(!Xle(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=tH(r.children);e.push(new Ta(r.value,i))}return e.filter(r=>!n.has(r))}function nH(t){return t.data||{}}function rH(t){return t.resolve||{}}function iH(t){const e=t.children.map(n=>iH(n)).flat();return[t,...e]}function O1(t){return er(e=>{const n=t(e);return n?Zt(n).pipe(Re(()=>e)):et(e)})}let sH=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Nt);return r}getResolvedTitleForRoute(n){return n.data[L_]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:()=>ie(ice),providedIn:"root"})}return t})(),ice=(()=>{class t extends sH{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(le(Fae))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qp=new _e("",{providedIn:"root",factory:()=>({})});let oH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=nc({type:t,selectors:[["ng-component"]],standalone:!0,features:[b_],decls:1,vars:0,template:function(r,i){1&r&&fr(0,"router-outlet")},dependencies:[P1],encapsulation:2})}return t})();function F1(t){const e=t.children&&t.children.map(F1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Nt&&(n.component=oH),n}const Wp=new _e("");let V1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ie(f3)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return et(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Cc(n.loadComponent()).pipe(Re(aH),qr(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),ul(()=>{this.componentLoaders.delete(n)})),i=new _4(r,()=>new V).pipe(g1());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return et({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function sce(t,e,n,r){return Cc(t.loadChildren()).pipe(Re(aH),gi(i=>i instanceof PL||Array.isArray(i)?et(i):Zt(e.compileModuleAsync(i))),Re(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Wp,[],{optional:!0,self:!0}).flat()),{routes:o.map(F1),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ul(()=>{this.childrenLoaders.delete(r)})),o=new _4(s,()=>new V).pipe(g1());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aH(t){return function oce(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let L1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:()=>ie(ace),providedIn:"root"})}return t})(),ace=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const uH=new _e(""),lH=new _e("");function uce(t,e,n){const r=t.get(lH),i=t.get(pi);return t.get(St).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s;const o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),function lce(t){return new Promise(e=>{q2({read:()=>setTimeout(e)},{injector:t})})}(t))),{onViewTransitionCreated:u}=r;return u&&to(t,()=>u({transition:a,from:e,to:n})),o})}const cH=new _e("");let aI=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new V,this.transitionAbortSubject=new V,this.configLoader=ie(V1),this.environmentInjector=ie(Ai),this.urlSerializer=ie(jp),this.rootContexts=ie(z_),this.location=ie(k_),this.inputBindingEnabled=null!==ie(tI,{optional:!0}),this.titleStrategy=ie(sH),this.options=ie(qp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ie(L1),this.createViewTransition=ie(uH,{optional:!0}),this.navigationErrorHandler=ie(cH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>et(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Yue(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Jue(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new H({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$_,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qo(s=>0!==s.id),Re(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),er(s=>{let o=!1,a=!1;return et(s).pipe(er(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",fo.SupersededByNewNavigation),Ea;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:"string"==typeof u.extras.browserUrl?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new Up(u.id,this.urlSerializer.serialize(u.rawUrl),g,YE.IgnoredSameUrlNavigation)),u.resolve(!1),Ea}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return et(u).pipe(er(g=>{const y=this.transitions?.getValue();return this.events.next(new JE(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?Ea:Promise.resolve(g)}),function Zle(t,e,n,r,i,s){return gi(o=>function Kle(t,e,n,r,i,s,o="emptyOnly"){return new Jle(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Re(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),qr(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new j4(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:g,extractedUrl:y,source:v,restoredState:E,extras:T}=u,C=new JE(g,this.urlSerializer.serialize(y),v,E);this.events.next(C);const k=$4(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:k,urlAfterRedirects:y,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=y,et(s)}{const g="";return this.events.next(new Up(u.id,this.urlSerializer.serialize(u.extractedUrl),g,YE.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ea}}),qr(u=>{const l=new que(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Re(u=>(this.currentTransition=s={...u,guards:gle(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function Cle(t,e){return gi(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?et({...n,guardsResult:!0}):function Dle(t,e,n,r){return Zt(t).pipe(gi(i=>function xle(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?et(s.map(a=>{const u=G_(e)??i,l=$p(a,u);return Cc(function Ile(t){return t&&Q_(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):to(u,()=>l(t,e,n,r))).pipe(Ac())})).pipe(Gp()):et(!0)}(i.component,i.route,n,e,r)),Ac(i=>!0!==i,!0))}(o,r,i,t).pipe(gi(a=>a&&function vle(t){return"boolean"==typeof t}(a)?function Sle(t,e,n,r){return Zt(e).pipe(Vp(i=>p1(function Nle(t,e){return null!==t&&e&&e(new Xue(t)),et(!0)}(i.route.parent,r),function Ple(t,e){return null!==t&&e&&e(new ele(t)),et(!0)}(i.route,r),function kle(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function mle(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>y4(()=>et(o.guards.map(u=>{const l=G_(o.node)??n,d=$p(u,l);return Cc(function Ele(t){return t&&Q_(t.canActivateChild)}(d)?d.canActivateChild(r,t):to(l,()=>d(r,t))).pipe(Ac())})).pipe(Gp())));return et(s).pipe(Gp())}(t,i.path,n),function Rle(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return et(!0);const i=r.map(s=>y4(()=>{const o=G_(e)??n,a=$p(s,o);return Cc(function wle(t){return t&&Q_(t.canActivate)}(a)?a.canActivate(e,t):to(o,()=>a(e,t))).pipe(Ac())}));return et(i).pipe(Gp())}(t,i.route,n))),Ac(i=>!0!==i,!0))}(r,s,t,e):et(a)),Re(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),qr(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&"boolean"!=typeof u.guardsResult)throw nI(0,u.guardsResult);const l=new Wue(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),qo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",fo.GuardRejected),!1)),O1(u=>{if(u.guards.canActivateChecks.length)return et(u).pipe(qr(l=>{const d=new Kue(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),er(l=>{let d=!1;return et(l).pipe(function ece(t,e){return gi(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return et(n);const s=new Set(i.map(u=>u.route)),o=new Set;for(const u of s)if(!o.has(u))for(const l of iH(u))o.add(l);let a=0;return Zt(o).pipe(Vp(u=>s.has(u)?function tce(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!q4(i)&&(s[L_]=i.title),function nce(t,e,n,r){const i=y1(t);if(0===i.length)return et({});const s={};return Zt(i).pipe(gi(o=>function rce(t,e,n,r){const i=G_(e)??r,s=$p(t,i);return Cc(s.resolve?s.resolve(e,n):to(i,()=>s(e,n)))}(t[o],e,n,r).pipe(Ac(),qr(a=>{if(a instanceof R1)throw nI(new GE,a);s[o]=a}))),m1(1),function mue(t){return Re(()=>t)}(s),fs(o=>X4(o)?Ea:Tc(o)))}(s,t,e,r).pipe(Re(o=>(t._resolvedData=o,t.data=ZE(t,t.parent,n).resolve,null)))}(u,r,t,e):(u.data=ZE(u,u.parent,t).resolve,et(void 0))),qr(()=>a++),m1(1),gi(u=>a===o.size?et(n):Ea))})}(this.paramsInheritanceStrategy,this.environmentInjector),qr({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",fo.NoDataFromResolver)}}))}),qr(l=>{const d=new Que(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),O1(u=>{const l=d=>{const g=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(d.routeConfig).pipe(qr(y=>{d.component=y}),Re(()=>{})));for(const y of d.children)g.push(...l(y));return g};return f1(l(u.targetSnapshot.root)).pipe(BE(null),al(1))}),O1(()=>this.afterPreactivation()),er(()=>{const{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Zt(d).pipe(Re(()=>s)):et(s)}),Re(u=>{const l=function lle(t,e,n){const r=q_(t,e._root,n?n._root:void 0);return new H4(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),qr(()=>{this.events.next(new I1)}),((t,e,n,r)=>Re(i=>(new ple(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),al(1),qr({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ll(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function yue(t){return Be((e,n)=>{hs(t).subscribe(We(n,()=>n.complete(),ts)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(qr(u=>{throw u}))),ul(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",fo.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),fs(u=>{if(a=!0,J4(u))this.events.next(new fh(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function hle(t){return J4(t)&&hh(t.url)}(u)?this.events.next(new XE(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{const l=new E1(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{const d=to(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof R1){const{message:g,cancellationCode:y}=nI(0,d);this.events.next(new fh(s.id,this.urlSerializer.serialize(s.extractedUrl),g,y)),this.events.next(new XE(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(l);const g=n.errorHandler(u);s.resolve(!!g)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Ea}))}))}cancelNavigationTransition(n,r,i){const s=new fh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cce(t){return t!==$_}let dce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:()=>ie(fce),providedIn:"root"})}return t})();class hce{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let fce=(()=>{class t extends hce{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=fi(t)))(i||t)}})();static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:()=>ie(pce),providedIn:"root"})}return t})(),pce=(()=>{class t extends dH{constructor(){super(...arguments),this.location=ie(k_),this.urlSerializer=ie(jp),this.options=ie(qp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ie(L1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ch,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$4(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof JE)this.stateMemento=this.createStateMemento();else if(n instanceof Up)this.rawUrlTree=r.initialUrl;else if(n instanceof j4){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof I1?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof fh&&(n.code===fo.GuardRejected||n.code===fo.NoDataFromResolver)?this.restoreHistory(r):n instanceof E1?this.restoreHistory(r,!0):n instanceof ll&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=n instanceof ch?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=fi(t)))(i||t)}})();static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var J_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(J_||{});function hH(t,e){t.events.pipe(qo(n=>n instanceof ll||n instanceof fh||n instanceof E1||n instanceof Up),Re(n=>n instanceof ll||n instanceof Up?J_.COMPLETE:n instanceof fh&&(n.code===fo.Redirect||n.code===fo.SupersededByNewNavigation)?J_.REDIRECTING:J_.FAILED),qo(n=>n!==J_.REDIRECTING),al(1)).subscribe(()=>{e()})}function gce(t){throw t}const mce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lu=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=ie(n3),this.stateManager=ie(dH),this.options=ie(qp,{optional:!0})||{},this.pendingTasks=ie(Ju),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ie(aI),this.urlSerializer=ie(jp),this.location=ie(k_),this.urlHandlingStrategy=ie(L1),this._events=new V,this.errorHandler=this.options.errorHandler||gce,this.navigated=!1,this.routeReuseStrategy=ie(dce),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ie(Wp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ie(tI,{optional:!0}),this.eventsSubscription=new Ut,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof fh&&r.code!==fo.Redirect&&r.code!==fo.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ll)this.navigated=!0;else if(r instanceof XE){const o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||cce(i.source),...o};this.scheduleNavigation(a,$_,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function vce(t){return!(t instanceof I1||t instanceof XE)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(F1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let g,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{g=k4(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),g=this.currentUrlTree.root}return x4(g,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=hh(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,$_,null,r)}navigate(n,r={skipLocationChange:!1}){return function _ce(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new K(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...mce}:!1===r?{...yce}:r,hh(n))return I4(this.currentUrlTree,n,i);const s=this.parseUrl(n);return I4(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((g,y)=>{a=g,u=y});const d=this.pendingTasks.add();return hH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class fH{}let Ece=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qo(n=>n instanceof ll),Vp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Bw(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Zt(i).pipe(Fp())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):et(null);const s=i.pipe(gi(o=>null===o?et(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Zt([s,this.loader.loadComponent(r)]).pipe(Fp()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(le(lu),le(f3),le(Ai),le(fH),le(V1))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const U1=new _e("");let pH=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof JE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ll?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Up&&n.code===YE.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof U4&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new U4(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function qV(){throw new Error("invalid")}()};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();function cu(t,e){return{\u0275kind:t,\u0275providers:e}}function mH(){const t=ie(hr);return e=>{const n=t.get(co);if(e!==n.components[0])return;const r=t.get(lu),i=t.get(yH);1===t.get(B1)&&r.initialNavigation(),t.get(_H,null,Mt.Optional)?.setUpPreloading(),t.get(U1,null,Mt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yH=new _e("",{factory:()=>new V}),B1=new _e("",{providedIn:"root",factory:()=>1}),_H=new _e("");function Cce(t){return cu(0,[{provide:_H,useExisting:Ece},{provide:fH,useExisting:t}])}function Sce(t){return cu(9,[{provide:uH,useValue:uce},{provide:lH,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const vH=new _e("ROUTER_FORROOT_GUARD"),Pce=[k_,{provide:jp,useClass:GE},lu,z_,{provide:Hp,useFactory:function gH(t){return t.routerState.root},deps:[lu]},V1,[]];let H1=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Pce,[],{provide:Wp,multi:!0,useValue:n},{provide:vH,useFactory:xce,deps:[[lu,new $u,new Ef]]},{provide:qp,useValue:r||{}},r?.useHash?{provide:uh,useClass:wse}:{provide:uh,useClass:uB},{provide:U1,useFactory:()=>{const t=ie(Foe),e=ie(St),n=ie(qp),r=ie(aI),i=ie(jp);return n.scrollOffset&&t.setOffset(n.scrollOffset),new pH(i,r,t,e,n)}},r?.preloadingStrategy?Cce(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Mce(r):[],r?.bindToComponentInputs?cu(8,[W4,{provide:tI,useExisting:W4}]).\u0275providers:[],r?.enableViewTransitions?Sce().\u0275providers:[],[{provide:bH,useFactory:mH},{provide:lE,multi:!0,useExisting:bH}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Wp,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(le(vH,8))};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=Sr({})}return t})();function xce(t){return"guarded"}function Mce(t){return["disabled"===t.initialNavigation?cu(3,[{provide:IP,multi:!0,useFactory:()=>{const e=ie(lu);return()=>{e.setUpLocationChangeListener()}}},{provide:B1,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?cu(2,[{provide:B1,useValue:0},{provide:IP,multi:!0,deps:[hr],useFactory:e=>{const n=e.get(vse,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(lu),s=e.get(yH);hH(i,()=>{r(!0)}),e.get(aI).afterPreactivation=()=>(r(!0),s.closed?et(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const bH=new _e("");let wH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(ve(el),ve(io))};static#t=this.\u0275dir=at({type:t})}return t})(),ph=(()=>{class t extends wH{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=fi(t)))(i||t)}})();static#t=this.\u0275dir=at({type:t,features:[bn]})}return t})();const du=new _e(""),Lce={provide:du,useExisting:pn(()=>uI),multi:!0},Uce=new _e("");let uI=(()=>{class t extends wH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jce(){const t=Ic()?Ic().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ve(el),ve(io),ve(Uce,8))};static#t=this.\u0275dir=at({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&pr("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Zn([Lce]),bn]})}return t})();const Hi=new _e(""),Sc=new _e("");function kH(t){return null!=t}function xH(t){return A_(t)?Zt(t):t}function MH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function OH(t,e){return e.map(n=>n(t))}function FH(t){return t.map(e=>function Hce(t){return!t.validate}(e)?e:n=>e.validate(n))}function $1(t){return null!=t?function VH(t){if(!t)return null;const e=t.filter(kH);return 0==e.length?null:function(n){return MH(OH(n,e))}}(FH(t)):null}function G1(t){return null!=t?function LH(t){if(!t)return null;const e=t.filter(kH);return 0==e.length?null:function(n){return function Fce(...t){const e=h4(t),{args:n,keys:r}=f4(t),i=new fn(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let d=0;d<o;d++){let g=!1;hs(n[d]).subscribe(We(s,y=>{g||(g=!0,l--),a[d]=y},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?g4(r,a):a),s.complete())}))}});return e?i.pipe(p4(e)):i}(OH(n,e).map(xH)).pipe(Re(MH))}}(FH(t)):null}function jH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function z1(t){return t?Array.isArray(t)?t:[t]:[]}function cI(t,e){return Array.isArray(t)?t.includes(e):t===e}function HH(t,e){const n=z1(e);return z1(t).forEach(i=>{cI(n,i)||n.push(i)}),n}function $H(t,e){return z1(e).filter(n=>!cI(t,n))}class GH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=G1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ps extends GH{get formDirective(){return null}get path(){return null}}class Pc extends GH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zH{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let qH=(()=>{class t extends zH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ve(Pc,2))};static#t=this.\u0275dir=at({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Jw("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[bn]})}return t})(),WH=(()=>{class t extends zH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ve(ps,10))};static#t=this.\u0275dir=at({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Jw("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[bn]})}return t})();const Y_="VALID",hI="INVALID",Kp="PENDING",X_="DISABLED";class Qp{}class QH extends Qp{constructor(e,n){super(),this.value=e,this.source=n}}class K1 extends Qp{constructor(e,n){super(),this.pristine=e,this.source=n}}class Q1 extends Qp{constructor(e,n){super(),this.touched=e,this.source=n}}class fI extends Qp{constructor(e,n){super(),this.status=e,this.source=n}}function J1(t){return(pI(t)?t.validators:t)||null}function Y1(t,e){return(pI(e)?e.asyncValidators:t)||null}function pI(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class X1{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=R_(()=>this.statusReactive()),this.statusReactive=eu(void 0),this._pristine=R_(()=>this.pristineReactive()),this.pristineReactive=eu(!0),this._touched=R_(()=>this.touchedReactive()),this.touchedReactive=eu(!1),this._events=new V,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return iu(this.statusReactive)}set status(e){iu(()=>this.statusReactive.set(e))}get valid(){return this.status===Y_}get invalid(){return this.status===hI}get pending(){return this.status==Kp}get disabled(){return this.status===X_}get enabled(){return this.status!==X_}get pristine(){return iu(this.pristineReactive)}set pristine(e){iu(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return iu(this.touchedReactive)}set touched(e){iu(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($H(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($H(e,this._rawAsyncValidators))}hasValidator(e){return cI(this._rawValidators,e)}hasAsyncValidator(e){return cI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const n=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new Q1(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&!1!==e.emitEvent&&this._events.next(new Q1(!1,r))}markAsDirty(e={}){const n=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new K1(!1,r))}markAsPristine(e={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&!1!==e.emitEvent&&this._events.next(new K1(!0,r))}markAsPending(e={}){this.status=Kp;const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new fI(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:n})}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=X_,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new QH(this.value,r)),this._events.next(new fI(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Y_,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Y_||this.status===Kp)&&this._runAsyncValidator(r,e.emitEvent)}const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new QH(this.value,n)),this._events.next(new fI(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:n})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?X_:Y_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Kp,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n};const r=xH(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fI(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new vr,this.statusChanges=new vr}_calculateStatus(){return this._allControlsDisabled()?X_:this.errors?hI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kp)?Kp:this._anyControlsHaveStatus(hI)?hI:Y_}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new K1(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Q1(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Qce(t){return Array.isArray(t)?$1(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Jce(t){return Array.isArray(t)?G1(t):t||null}(this._rawAsyncValidators)}}class Z1 extends X1{constructor(e,n,r){super(J1(n),Y1(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function YH(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new K(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function JH(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[n])throw new K(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Jp=new _e("CallSetDisabledState",{providedIn:"root",factory:()=>gI}),gI="always";function Z_(t,e,n=gI){eN(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Zce(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&XH(t,e)})}(t,e),function tde(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ede(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&XH(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Xce(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function _I(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function eN(t,e){const n=function UH(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(jH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function BH(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(jH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();_I(e._rawValidators,i),_I(e._rawAsyncValidators,i)}function XH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const ode={provide:ps,useExisting:pn(()=>bI)},ev=Promise.resolve();let bI=(()=>{class t extends ps{get submitted(){return iu(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=R_(()=>this.submittedReactive()),this.submittedReactive=eu(!1),this._directives=new Set,this.ngSubmit=new vr,this.form=new Z1({},$1(n),G1(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ev.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Z_(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ev.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ev.then(()=>{const r=this._findContainer(n.path),i=new Z1({});(function ZH(t,e){eN(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ev.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ev.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),function e$(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(ve(Hi,10),ve(Sc,10),ve(Jp,8))};static#t=this.\u0275dir=at({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&pr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zn([ode]),bn]})}return t})();function t$(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function n$(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const r$=class extends X1{constructor(e=null,n,r){super(J1(n),Y1(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pI(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=n$(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){t$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){t$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){n$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},lde={provide:Pc,useExisting:pn(()=>iN)},o$=Promise.resolve();let iN=(()=>{class t extends Pc{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new r$,this._registered=!1,this.name="",this.update=new vr,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function rN(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===uI?n=s:function ide(t){return Object.getPrototypeOf(t.constructor)===ph}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function nN(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Z_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){o$.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Rp(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);o$.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function mI(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(ve(ps,9),ve(Hi,10),ve(Sc,10),ve(du,10),ve(D_,8),ve(Jp,8))};static#t=this.\u0275dir=at({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zn([lde]),bn,Vi]})}return t})(),a$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=at({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),xde=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=Sr({})}return t})(),Ode=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Jp,useValue:n.callSetDisabledState??gI}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=Sr({imports:[xde]})}return t})();var ft=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ft||{});const cl="*";function tv(t,e){return{type:ft.Trigger,name:t,definitions:e,options:{}}}function Nc(t,e=null){return{type:ft.Animate,styles:e,timings:t}}function gs(t){return{type:ft.Style,styles:t,offset:null}}function nv(t,e,n){return{type:ft.State,name:t,styles:e,options:n}}function Rc(t,e,n=null){return{type:ft.Transition,expr:t,animation:e,options:n}}class rv{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class C${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Bde extends Ut{constructor(e,n){super()}schedule(e,n=0){return this}}const wI={setInterval(t,e,...n){const{delegate:r}=wI;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=wI;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class D$ extends Bde{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return wI.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&wI.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rn(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const hN={now:()=>(hN.delegate||Date).now(),delegate:void 0};class iv{constructor(e,n=iv.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}iv.now=hN.now;class S$ extends iv{constructor(e,n=iv.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Yp=new S$(D$),Hde=Yp;function P$(t){return t instanceof Date&&!isNaN(t)}function N$(t=0,e,n=Hde){let r=-1;return null!=e&&(d4(e)?n=e:r=e),new fn(i=>{let s=P$(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const zde=Ct(t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function fN(t,e){const{first:n,each:r,with:i=qde,scheduler:s=e??Yp,meta:o=null}=P$(t)?{first:t}:"number"==typeof t?{each:t}:t;if(null==n&&null==r)throw new TypeError("No timeout provided.");return Be((a,u)=>{let l,d,g=null,y=0;const v=E=>{d=su(u,s,()=>{try{l.unsubscribe(),hs(i({meta:o,lastValue:g,seen:y})).subscribe(u)}catch(T){u.error(T)}},E)};l=a.subscribe(We(u,E=>{d?.unsubscribe(),y++,u.next(g=E),r>0&&v(r)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),g=null})),!y&&v(null!=n?"number"==typeof n?n:+n-s.now():r)})}function qde(t){throw new zde(t)}function R$(t=1/0){let e;e=t&&"object"==typeof t?t:{count:t};const{count:n=1/0,delay:r,resetOnSuccess:i=!1}=e;return n<=0?ui:Be((s,o)=>{let u,a=0;const l=()=>{let d=!1;u=s.subscribe(We(o,g=>{i&&(a=0),o.next(g)},void 0,g=>{if(a++<n){const y=()=>{u?(u.unsubscribe(),u=null,l()):d=!0};if(null!=r){const v="number"==typeof r?N$(r):hs(r(g,a)),E=We(o,()=>{E.unsubscribe(),y()},()=>{o.complete()});v.subscribe(E)}else y()}else o.error(g)})),d&&(u.unsubscribe(),u=null,l())};l()})}class Wde extends V{constructor(e=1/0,n=1/0,r=hN){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function pN(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ai({next:()=>{r.unsubscribe(),t()}});return hs(e(...n)).subscribe(r)}function EI(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,function Kde(t={}){const{connector:e=(()=>new V),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,d=!1,g=!1;const y=()=>{a?.unsubscribe(),a=void 0},v=()=>{y(),o=u=void 0,d=g=!1},E=()=>{const T=o;v(),T?.unsubscribe()};return Be((T,C)=>{l++,!g&&!d&&y();const k=u=u??e();C.add(()=>{l--,0===l&&!g&&!d&&(a=pN(E,i))}),k.subscribe(C),!o&&l>0&&(o=new ai({next:R=>k.next(R),error:R=>{g=!0,y(),a=pN(v,n,R),k.error(R)},complete:()=>{d=!0,y(),a=pN(v,r),k.complete()}}),hs(T).subscribe(o))})(s)}}({connector:()=>new Wde(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var Us=nt(345);Us.A.registerVersion("firebase","10.12.4","app-compat"),nt(900);var hu=nt(852);(0,hu.registerVersion)("firebase","10.12.4","app");const the=new class ehe extends S${}(class Zde extends D${constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),sv=new Np("ANGULARFIRE2_VERSION");class II{constructor(){return((t,e)=>{const n=(0,hu.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(rhe)}}const rhe="app-check";function Xp(){}class k${zone;delegate;constructor(e,n=the){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class ihe{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xp,{},Xp,Xp)),n.pipe(qr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let TI=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new k$(Zone.current)),this.insideAngular=n.run(()=>new k$(Zone.current,Yp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(le(St))};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zp(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function x$(t){return t.pipe(ou(Zp().outsideAngular))}function ms(t){return function ohe(t){return function(n){return(n=n.lift(new ihe(t.ngZone))).pipe(Op(t.outsideAngular),ou(t.insideAngular))}}(Zp())(t)}const uhe=["ngOnDestroy"],M$=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(uhe.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const u=a?.[s];return"function"==typeof u?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,l)=>o.then(d=>{const g=d?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,g),g})})})});class F${constructor(e){return e}}const eg=new _e("angularfire2.app.options"),tg=new _e("angularfire2.app.name");function ov(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const o=Us.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Us.A.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){const a=!!module.hot;lhe("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new F$(o)}const lhe=(t,...e)=>{},che={provide:F$,useFactory:ov,deps:[eg,St,[new $u,tg]]};let dhe=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:eg,useValue:n},{provide:tg,useValue:r}]}}constructor(n){Us.A.registerVersion("angularfire",sv.full,"core"),Us.A.registerVersion("angularfire",sv.full,"app-compat"),Us.A.registerVersion("angular",Cre.full,n.toString())}static \u0275fac=function(r){return new(r||t)(le(Ho))};static \u0275mod=Zr({type:t});static \u0275inj=Sr({providers:[che]})}return t})();function AI(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return function hhe(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,o)||(V$("error",`${e} was already initialized on the ${n} Firebase App with different settings.${fhe?" You may need to reload as Firebase is not HMR aware.":""}`),V$("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const fhe=typeof module<"u"&&!!module.hot,V$=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const ghe=new _e("angularfire2.functions.origin"),mhe=new _e("angularfire2.functions.region"),yhe=new _e("angularfire2.functions.use-emulator");let gN=(()=>{class t{httpsCallable;constructor(n,r,i,s,o,a,u,l){const d=u,g=et(void 0).pipe(ou(s.outsideAngular),er(()=>Promise.resolve().then(nt.bind(nt,900))),Re(()=>ov(n,i,r)),Re(y=>AI(`${y.name}.functions.${o||a}`,"AngularFireFunctions",y.name,()=>{let v;if(o&&a)throw new Error("REGION and ORIGIN can't be used at the same time.");return v=y.functions(o||a||void 0),d&&v.useEmulator(...d),v},[o,a,d])),EI({bufferSize:1,refCount:!1}));return this.httpsCallable=(y,v)=>E=>Zt(g).pipe(ou(s.insideAngular),er(T=>T.httpsCallable(y,v)(E)),Re(T=>T.data)),M$(this,g,i)}static \u0275fac=function(r){return new(r||t)(le(eg),le(tg,8),le(St),le(TI),le(mhe,8),le(ghe,8),le(yhe,8),le(II,8))};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();function L$(t,e){return Me(e)?er(()=>t,e):er(()=>t)}nt(492);const j$=new _e("angularfire2.auth.use-emulator"),U$=new _e("angularfire2.auth.settings"),B$=new _e("angularfire2.auth.tenant-id"),H$=new _e("angularfire2.auth.langugage-code"),$$=new _e("angularfire2.auth.use-device-language"),G$=new _e("angularfire.auth.persistence"),z$=(t,e,n,r,i,s,o,a)=>AI(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[l,d]of Object.entries(o))u.settings[l]=d;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let mN=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,u,l,d,g,y,v){const E=new V,T=et(void 0).pipe(ou(o.outsideAngular),er(()=>s.runOutsideAngular(()=>Promise.resolve().then(nt.bind(nt,492)))),Re(()=>ov(n,s,r)),Re(C=>z$(C,s,a,l,d,g,u,y)),EI({bufferSize:1,refCount:!1}));if(xE(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{T.pipe(Ac()).subscribe();const C=T.pipe(er(L=>L.getRedirectResult().then(Q=>Q,()=>null)),ms,EI({bufferSize:1,refCount:!1})),k=T.pipe(er(L=>new fn(Q=>({unsubscribe:s.runOutsideAngular(()=>L.onAuthStateChanged(Ee=>Q.next(Ee),Ee=>Q.error(Ee),()=>Q.complete()))})))),R=T.pipe(er(L=>new fn(Q=>({unsubscribe:s.runOutsideAngular(()=>L.onIdTokenChanged(Ee=>Q.next(Ee),Ee=>Q.error(Ee),()=>Q.complete()))}))));this.authState=C.pipe(L$(k),Op(o.outsideAngular),ou(o.insideAngular)),this.user=C.pipe(L$(R),Op(o.outsideAngular),ou(o.insideAngular)),this.idToken=this.user.pipe(er(L=>L?Zt(L.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(er(L=>L?Zt(L.getIdTokenResult()):et(null))),this.credential=function _he(...t){const e=V_(t),n=function tue(t,e){return"number"==typeof h1(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?hs(r[0]):Fp(n)(Zt(r,e)):Ea}(C,E,this.authState.pipe(qo(L=>!L))).pipe(Re(L=>L?.user?L:null),Op(o.outsideAngular),ou(o.insideAngular))}return M$(this,T,s,{spy:{apply:(C,k,R)=>{(C.startsWith("signIn")||C.startsWith("createUser"))&&R.then(L=>E.next(L))}}})}static \u0275fac=function(r){return new(r||t)(le(eg),le(tg,8),le(Ho),le(St),le(TI),le(j$,8),le(U$,8),le(B$,8),le(H$,8),le($$,8),le(G$,8),le(II,8))};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),bhe=(()=>{class t{constructor(){Us.A.registerVersion("angularfire",sv.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zr({type:t});static \u0275inj=Sr({providers:[mN]})}return t})();function yN(){return Be((t,e)=>{let n,r=!1;t.subscribe(We(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}function Ehe(t,e){return t===e}var yh,K$,re=nt(467),CI=nt(362),fu=nt(41),Rt=nt(76),q$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W$={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(x,D,M){M||(M=0);var j=Array(16);if("string"==typeof D)for(var B=0;16>B;++B)j[B]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(B=0;16>B;++B)j[B]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;var q=x.g[3],F=(D=x.g[0])+(q^(M=x.g[1])&((B=x.g[2])^q))+j[0]+3614090360&4294967295;F=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=(M=(B=(q=(D=M+(F<<7&4294967295|F>>>25))+((F=q+(B^D&(M^B))+j[1]+3905402710&4294967295)<<12&4294967295|F>>>20))+((F=B+(M^q&(D^M))+j[2]+606105819&4294967295)<<17&4294967295|F>>>15))+((F=M+(D^B&(q^D))+j[3]+3250441966&4294967295)<<22&4294967295|F>>>10))+((F=D+(q^M&(B^q))+j[4]+4118548399&4294967295)<<7&4294967295|F>>>25))+((F=q+(B^D&(M^B))+j[5]+1200080426&4294967295)<<12&4294967295|F>>>20))+((F=B+(M^q&(D^M))+j[6]+2821735955&4294967295)<<17&4294967295|F>>>15))+((F=M+(D^B&(q^D))+j[7]+4249261313&4294967295)<<22&4294967295|F>>>10))+((F=D+(q^M&(B^q))+j[8]+1770035416&4294967295)<<7&4294967295|F>>>25))+((F=q+(B^D&(M^B))+j[9]+2336552879&4294967295)<<12&4294967295|F>>>20))+((F=B+(M^q&(D^M))+j[10]+4294925233&4294967295)<<17&4294967295|F>>>15))+((F=M+(D^B&(q^D))+j[11]+2304563134&4294967295)<<22&4294967295|F>>>10))+((F=D+(q^M&(B^q))+j[12]+1804603682&4294967295)<<7&4294967295|F>>>25))+((F=q+(B^D&(M^B))+j[13]+4254626195&4294967295)<<12&4294967295|F>>>20))+((F=B+(M^q&(D^M))+j[14]+2792965006&4294967295)<<17&4294967295|F>>>15))+((F=M+(D^B&(q^D))+j[15]+1236535329&4294967295)<<22&4294967295|F>>>10))+((F=D+(B^q&(M^B))+j[1]+4129170786&4294967295)<<5&4294967295|F>>>27))+((F=q+(M^B&(D^M))+j[6]+3225465664&4294967295)<<9&4294967295|F>>>23))+((F=B+(D^M&(q^D))+j[11]+643717713&4294967295)<<14&4294967295|F>>>18))+((F=M+(q^D&(B^q))+j[0]+3921069994&4294967295)<<20&4294967295|F>>>12))+((F=D+(B^q&(M^B))+j[5]+3593408605&4294967295)<<5&4294967295|F>>>27))+((F=q+(M^B&(D^M))+j[10]+38016083&4294967295)<<9&4294967295|F>>>23))+((F=B+(D^M&(q^D))+j[15]+3634488961&4294967295)<<14&4294967295|F>>>18))+((F=M+(q^D&(B^q))+j[4]+3889429448&4294967295)<<20&4294967295|F>>>12))+((F=D+(B^q&(M^B))+j[9]+568446438&4294967295)<<5&4294967295|F>>>27))+((F=q+(M^B&(D^M))+j[14]+3275163606&4294967295)<<9&4294967295|F>>>23))+((F=B+(D^M&(q^D))+j[3]+4107603335&4294967295)<<14&4294967295|F>>>18))+((F=M+(q^D&(B^q))+j[8]+1163531501&4294967295)<<20&4294967295|F>>>12))+((F=D+(B^q&(M^B))+j[13]+2850285829&4294967295)<<5&4294967295|F>>>27))+((F=q+(M^B&(D^M))+j[2]+4243563512&4294967295)<<9&4294967295|F>>>23))+((F=B+(D^M&(q^D))+j[7]+1735328473&4294967295)<<14&4294967295|F>>>18))+((F=M+(q^D&(B^q))+j[12]+2368359562&4294967295)<<20&4294967295|F>>>12))+((F=D+(M^B^q)+j[5]+4294588738&4294967295)<<4&4294967295|F>>>28))+((F=q+(D^M^B)+j[8]+2272392833&4294967295)<<11&4294967295|F>>>21))+((F=B+(q^D^M)+j[11]+1839030562&4294967295)<<16&4294967295|F>>>16))+((F=M+(B^q^D)+j[14]+4259657740&4294967295)<<23&4294967295|F>>>9))+((F=D+(M^B^q)+j[1]+2763975236&4294967295)<<4&4294967295|F>>>28))+((F=q+(D^M^B)+j[4]+1272893353&4294967295)<<11&4294967295|F>>>21))+((F=B+(q^D^M)+j[7]+4139469664&4294967295)<<16&4294967295|F>>>16))+((F=M+(B^q^D)+j[10]+3200236656&4294967295)<<23&4294967295|F>>>9))+((F=D+(M^B^q)+j[13]+681279174&4294967295)<<4&4294967295|F>>>28))+((F=q+(D^M^B)+j[0]+3936430074&4294967295)<<11&4294967295|F>>>21))+((F=B+(q^D^M)+j[3]+3572445317&4294967295)<<16&4294967295|F>>>16))+((F=M+(B^q^D)+j[6]+76029189&4294967295)<<23&4294967295|F>>>9))+((F=D+(M^B^q)+j[9]+3654602809&4294967295)<<4&4294967295|F>>>28))+((F=q+(D^M^B)+j[12]+3873151461&4294967295)<<11&4294967295|F>>>21))+((F=B+(q^D^M)+j[15]+530742520&4294967295)<<16&4294967295|F>>>16))+((F=M+(B^q^D)+j[2]+3299628645&4294967295)<<23&4294967295|F>>>9))+((F=D+(B^(M|~q))+j[0]+4096336452&4294967295)<<6&4294967295|F>>>26))+((F=q+(M^(D|~B))+j[7]+1126891415&4294967295)<<10&4294967295|F>>>22))+((F=B+(D^(q|~M))+j[14]+2878612391&4294967295)<<15&4294967295|F>>>17))+((F=M+(q^(B|~D))+j[5]+4237533241&4294967295)<<21&4294967295|F>>>11))+((F=D+(B^(M|~q))+j[12]+1700485571&4294967295)<<6&4294967295|F>>>26))+((F=q+(M^(D|~B))+j[3]+2399980690&4294967295)<<10&4294967295|F>>>22))+((F=B+(D^(q|~M))+j[10]+4293915773&4294967295)<<15&4294967295|F>>>17))+((F=M+(q^(B|~D))+j[1]+2240044497&4294967295)<<21&4294967295|F>>>11))+((F=D+(B^(M|~q))+j[8]+1873313359&4294967295)<<6&4294967295|F>>>26))+((F=q+(M^(D|~B))+j[15]+4264355552&4294967295)<<10&4294967295|F>>>22))+((F=B+(D^(q|~M))+j[6]+2734768916&4294967295)<<15&4294967295|F>>>17))+((F=M+(q^(B|~D))+j[13]+1309151649&4294967295)<<21&4294967295|F>>>11))+((q=(D=M+((F=D+(B^(M|~q))+j[4]+4149444226&4294967295)<<6&4294967295|F>>>26))+((F=q+(M^(D|~B))+j[11]+3174756917&4294967295)<<10&4294967295|F>>>22))^((B=q+((F=B+(D^(q|~M))+j[2]+718787259&4294967295)<<15&4294967295|F>>>17))|~D))+j[9]+3951481745&4294967295,x.g[0]=x.g[0]+D&4294967295,x.g[1]=x.g[1]+(B+(F<<21&4294967295|F>>>11))&4294967295,x.g[2]=x.g[2]+B&4294967295,x.g[3]=x.g[3]+q&4294967295}function o(x,D){this.h=D;for(var M=[],j=!0,B=x.length-1;0<=B;B--){var q=0|x[B];j&&q==D||(M[B]=q,j=!1)}this.g=M}(function e(x,D){function M(){}M.prototype=D.prototype,x.D=D.prototype,x.prototype=new M,x.prototype.constructor=x,x.C=function(j,B,q){for(var F=Array(arguments.length-2),ea=2;ea<arguments.length;ea++)F[ea-2]=arguments[ea];return D.prototype[B].apply(j,F)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(x,D){void 0===D&&(D=x.length);for(var M=D-this.blockSize,j=this.B,B=this.h,q=0;q<D;){if(0==B)for(;q<=M;)i(this,x,q),q+=this.blockSize;if("string"==typeof x){for(;q<D;)if(j[B++]=x.charCodeAt(q++),B==this.blockSize){i(this,j),B=0;break}}else for(;q<D;)if(j[B++]=x[q++],B==this.blockSize){i(this,j),B=0;break}}this.h=B,this.o+=D},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var D=1;D<x.length-8;++D)x[D]=0;var M=8*this.o;for(D=x.length-8;D<x.length;++D)x[D]=255&M,M/=256;for(this.u(x),x=Array(16),D=M=0;4>D;++D)for(var j=0;32>j;j+=8)x[M++]=this.g[D]>>>j&255;return x};var a={};function u(x){return-128<=x&&128>x?function s(x,D){var M=a;return Object.prototype.hasOwnProperty.call(M,x)?M[x]:M[x]=D(x)}(x,function(D){return new o([0|D],0>D?-1:0)}):new o([0|x],0>x?-1:0)}function l(x){if(isNaN(x)||!isFinite(x))return g;if(0>x)return C(l(-x));for(var D=[],M=1,j=0;x>=M;j++)D[j]=x/M|0,M*=4294967296;return new o(D,0)}var g=u(0),y=u(1),v=u(16777216);function E(x){if(0!=x.h)return!1;for(var D=0;D<x.g.length;D++)if(0!=x.g[D])return!1;return!0}function T(x){return-1==x.h}function C(x){for(var D=x.g.length,M=[],j=0;j<D;j++)M[j]=~x.g[j];return new o(M,~x.h).add(y)}function k(x,D){return x.add(C(D))}function R(x,D){for(;(65535&x[D])!=x[D];)x[D+1]+=x[D]>>>16,x[D]&=65535,D++}function L(x,D){this.g=x,this.h=D}function Q(x,D){if(E(D))throw Error("division by zero");if(E(x))return new L(g,g);if(T(x))return D=Q(C(x),D),new L(C(D.g),C(D.h));if(T(D))return D=Q(x,C(D)),new L(C(D.g),D.h);if(30<x.g.length){if(T(x)||T(D))throw Error("slowDivide_ only works with positive integers.");for(var M=y,j=D;0>=j.l(x);)M=Ee(M),j=Ee(j);var B=Ce(M,1),q=Ce(j,1);for(j=Ce(j,2),M=Ce(M,2);!E(j);){var F=q.add(j);0>=F.l(x)&&(B=B.add(M),q=F),j=Ce(j,1),M=Ce(M,1)}return D=k(x,B.j(D)),new L(B,D)}for(B=g;0<=x.l(D);){for(M=Math.max(1,Math.floor(x.m()/D.m())),j=48>=(j=Math.ceil(Math.log(M)/Math.LN2))?1:Math.pow(2,j-48),F=(q=l(M)).j(D);T(F)||0<F.l(x);)F=(q=l(M-=j)).j(D);E(q)&&(q=y),B=B.add(q),x=k(x,F)}return new L(B,x)}function Ee(x){for(var D=x.g.length+1,M=[],j=0;j<D;j++)M[j]=x.i(j)<<1|x.i(j-1)>>>31;return new o(M,x.h)}function Ce(x,D){var M=D>>5;D%=32;for(var j=x.g.length-M,B=[],q=0;q<j;q++)B[q]=0<D?x.i(q+M)>>>D|x.i(q+M+1)<<32-D:x.i(q+M);return new o(B,x.h)}(t=o.prototype).m=function(){if(T(this))return-C(this).m();for(var x=0,D=1,M=0;M<this.g.length;M++){var j=this.i(M);x+=(0<=j?j:4294967296+j)*D,D*=4294967296}return x},t.toString=function(x){if(2>(x=x||10)||36<x)throw Error("radix out of range: "+x);if(E(this))return"0";if(T(this))return"-"+C(this).toString(x);for(var D=l(Math.pow(x,6)),M=this,j="";;){var B=Q(M,D).g,q=((0<(M=k(M,B.j(D))).g.length?M.g[0]:M.h)>>>0).toString(x);if(E(M=B))return q+j;for(;6>q.length;)q="0"+q;j=q+j}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h},t.l=function(x){return T(x=k(this,x))?-1:E(x)?0:1},t.abs=function(){return T(this)?C(this):this},t.add=function(x){for(var D=Math.max(this.g.length,x.g.length),M=[],j=0,B=0;B<=D;B++){var q=j+(65535&this.i(B))+(65535&x.i(B)),F=(q>>>16)+(this.i(B)>>>16)+(x.i(B)>>>16);j=F>>>16,M[B]=(F&=65535)<<16|(q&=65535)}return new o(M,-2147483648&M[M.length-1]?-1:0)},t.j=function(x){if(E(this)||E(x))return g;if(T(this))return T(x)?C(this).j(C(x)):C(C(this).j(x));if(T(x))return C(this.j(C(x)));if(0>this.l(v)&&0>x.l(v))return l(this.m()*x.m());for(var D=this.g.length+x.g.length,M=[],j=0;j<2*D;j++)M[j]=0;for(j=0;j<this.g.length;j++)for(var B=0;B<x.g.length;B++){var q=this.i(j)>>>16,F=65535&this.i(j),ea=x.i(B)>>>16,ad=65535&x.i(B);M[2*j+2*B]+=F*ad,R(M,2*j+2*B),M[2*j+2*B+1]+=q*ad,R(M,2*j+2*B+1),M[2*j+2*B+1]+=F*ea,R(M,2*j+2*B+1),M[2*j+2*B+2]+=q*ea,R(M,2*j+2*B+2)}for(j=0;j<D;j++)M[j]=M[2*j+1]<<16|M[2*j];for(j=D;j<2*D;j++)M[j]=0;return new o(M,0)},t.A=function(x){return Q(this,x).h},t.and=function(x){for(var D=Math.max(this.g.length,x.g.length),M=[],j=0;j<D;j++)M[j]=this.i(j)&x.i(j);return new o(M,this.h&x.h)},t.or=function(x){for(var D=Math.max(this.g.length,x.g.length),M=[],j=0;j<D;j++)M[j]=this.i(j)|x.i(j);return new o(M,this.h|x.h)},t.xor=function(x){for(var D=Math.max(this.g.length,x.g.length),M=[],j=0;j<D;j++)M[j]=this.i(j)^x.i(j);return new o(M,this.h^x.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,K$=W$.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=function d(x,D){if(0==x.length)throw Error("number format error: empty string");if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if("-"==x.charAt(0))return C(d(x.substring(1),D));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=l(Math.pow(D,8)),j=g,B=0;B<x.length;B+=8){var q=Math.min(8,x.length-B),F=parseInt(x.substring(B,B+q),D);8>q?(q=l(Math.pow(D,q)),j=j.j(q).add(l(F))):j=(j=j.j(M)).add(l(F))}return j},yh=W$.Integer=o}).apply(typeof q$<"u"?q$:typeof self<"u"?self:typeof window<"u"?window:{});var Q$,J$,av,Y$,SI,_N,X$,Z$,eG,DI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dl={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,_,w){return f==Array.prototype||f==Object.prototype||(f[_]=w.value),f},r=function n(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof DI&&DI];for(var _=0;_<f.length;++_){var w=f[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}(this);!function i(f,_){if(_)e:{var w=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var G=f[A];if(!(G in w))break e;w=w[G]}(_=_(A=w[f=f[f.length-1]]))!=A&&null!=_&&e(w,f,{configurable:!0,writable:!0,value:_})}}("Array.prototype.values",function(f){return f||function(){return function s(f,_){f instanceof String&&(f+="");var w=0,A=!1,G={next:function(){if(!A&&w<f.length){var ee=w++;return{value:_(ee,f[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}(this,function(_,w){return w})}});var o=o||{},a=this||self;function u(f){var _=typeof f;return"array"==(_="object"!=_?_:f?Array.isArray(f)?"array":_:"null")||"object"==_&&"number"==typeof f.length}function l(f){var _=typeof f;return"object"==_&&null!=f||"function"==_}function d(f,_,w){return f.call.apply(f.bind,arguments)}function g(f,_,w){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),f.apply(_,G)}}return function(){return f.apply(_,arguments)}}function y(f,_,w){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:g).apply(null,arguments)}function v(f,_){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function E(f,_){function w(){}w.prototype=_.prototype,f.aa=_.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(A,G,ee){for(var Ne=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)Ne[Pn-2]=arguments[Pn];return _.prototype[G].apply(A,Ne)}}function T(f){const _=f.length;if(0<_){const w=Array(_);for(let A=0;A<_;A++)w[A]=f[A];return w}return[]}function C(f,_){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(u(A)){const G=f.length||0,ee=A.length||0;f.length=G+ee;for(let Ne=0;Ne<ee;Ne++)f[G+Ne]=A[Ne]}else f.push(A)}}function R(f){return/^[\s\xa0]*$/.test(f)}function L(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function Q(f){return Q[" "](f),f}Q[" "]=function(){};var Ee=!(-1==L().indexOf("Gecko")||-1!=L().toLowerCase().indexOf("webkit")&&-1==L().indexOf("Edge")||-1!=L().indexOf("Trident")||-1!=L().indexOf("MSIE")||-1!=L().indexOf("Edge"));function Ce(f,_,w){for(const A in f)_.call(w,f[A],A,f)}function D(f){const _={};for(const w in f)_[w]=f[w];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,_){let w,A;for(let G=1;G<arguments.length;G++){for(w in A=arguments[G],A)f[w]=A[w];for(let ee=0;ee<M.length;ee++)w=M[ee],Object.prototype.hasOwnProperty.call(A,w)&&(f[w]=A[w])}}function B(f){var _=1;f=f.split(":");const w=[];for(;0<_&&f.length;)w.push(f.shift()),_--;return f.length&&w.push(f.join(":")),w}function q(f){a.setTimeout(()=>{throw f},0)}function F(){var f=Bt;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}var ad=new class k{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}(()=>new Ke,f=>f.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ze,rt=!1,Bt=new class ea{constructor(){this.h=this.g=null}add(_,w){const A=ad.get();A.set(_,w),this.h?this.h.next=A:this.g=A,this.h=A}},Vr=()=>{const f=a.Promise.resolve(void 0);Ze=()=>{f.then(ta)}};var ta=()=>{for(var f;f=F();){try{f.h.call(f.g)}catch(w){q(w)}var _=ad;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}rt=!1};function wr(){this.s=this.s,this.C=this.C}function Jn(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}wr.prototype.s=!1,wr.prototype.ma=function(){this.s||(this.s=!0,this.N())},wr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jn.prototype.h=function(){this.defaultPrevented=!0};var Yn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};a.addEventListener("test",w,_),a.removeEventListener("test",w,_)}catch{}return f}();function ud(f,_){if(Jn.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(Ee){e:{try{Q(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else"mouseover"==w?_=f.fromElement:"mouseout"==w&&(_=f.toElement);this.relatedTarget=_,A?(this.clientX=void 0!==A.clientX?A.clientX:A.pageX,this.clientY=void 0!==A.clientY?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:jM[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ud.aa.h.call(this)}}E(ud,Jn);var jM={2:"touch",3:"pen",4:"mouse"};ud.prototype.h=function(){ud.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Er="closure_listenable_"+(1e6*Math.random()|0),Ol=0;function qs(f,_,w,A,G){this.listener=f,this.proxy=null,this.src=_,this.type=w,this.capture=!!A,this.ha=G,this.key=++Ol,this.da=this.fa=!1}function Fl(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ld(f){this.src=f,this.g={},this.h=0}function UM(f,_){var w=_.type;if(w in f.g){var ee,A=f.g[w],G=Array.prototype.indexOf.call(A,_,void 0);(ee=0<=G)&&Array.prototype.splice.call(A,G,1),ee&&(Fl(_),0==f.g[w].length&&(delete f.g[w],f.h--))}}function BM(f,_,w,A){for(var G=0;G<f.length;++G){var ee=f[G];if(!ee.da&&ee.listener==_&&ee.capture==!!w&&ee.ha==A)return G}return-1}ld.prototype.add=function(f,_,w,A,G){var ee=f.toString();(f=this.g[ee])||(f=this.g[ee]=[],this.h++);var Ne=BM(f,_,A,G);return-1<Ne?(_=f[Ne],w||(_.fa=!1)):((_=new qs(_,this.src,ee,!!A,G)).fa=w,f.push(_)),_};var HM="closure_lm_"+(1e6*Math.random()|0),$M={};function $7(f,_,w,A,G){if(A&&A.once)return z7(f,_,w,A,G);if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)$7(f,_[ee],w,A,G);return null}return w=WM(w),f&&f[Er]?f.K(_,w,l(A)?!!A.capture:!!A,G):G7(f,_,w,!1,A,G)}function G7(f,_,w,A,G,ee){if(!_)throw Error("Invalid event type");var Ne=l(G)?!!G.capture:!!G,Pn=zM(f);if(Pn||(f[HM]=Pn=new ld(f)),(w=Pn.add(_,w,A,Ne,ee)).proxy)return w;if(A=function uRe(){const _=lRe;return function f(w){return _.call(f.src,f.listener,w)}}(),w.proxy=A,A.src=f,A.listener=w,f.addEventListener)Yn||(G=Ne),void 0===G&&(G=!1),f.addEventListener(_.toString(),A,G);else if(f.attachEvent)f.attachEvent(W7(_.toString()),A);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(A)}return w}function z7(f,_,w,A,G){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)z7(f,_[ee],w,A,G);return null}return w=WM(w),f&&f[Er]?f.L(_,w,l(A)?!!A.capture:!!A,G):G7(f,_,w,!0,A,G)}function q7(f,_,w,A,G){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)q7(f,_[ee],w,A,G);else A=l(A)?!!A.capture:!!A,w=WM(w),f&&f[Er]?(f=f.i,(_=String(_).toString())in f.g&&-1<(w=BM(ee=f.g[_],w,A,G))&&(Fl(ee[w]),Array.prototype.splice.call(ee,w,1),0==ee.length&&(delete f.g[_],f.h--))):f&&(f=zM(f))&&(_=f.g[_.toString()],f=-1,_&&(f=BM(_,w,A,G)),(w=-1<f?_[f]:null)&&GM(w))}function GM(f){if("number"!=typeof f&&f&&!f.da){var _=f.src;if(_&&_[Er])UM(_.i,f);else{var w=f.type,A=f.proxy;_.removeEventListener?_.removeEventListener(w,A,f.capture):_.detachEvent?_.detachEvent(W7(w),A):_.addListener&&_.removeListener&&_.removeListener(A),(w=zM(_))?(UM(w,f),0==w.h&&(w.src=null,_[HM]=null)):Fl(f)}}}function W7(f){return f in $M?$M[f]:$M[f]="on"+f}function lRe(f,_){if(f.da)f=!0;else{_=new ud(_,this);var w=f.listener,A=f.ha||f.src;f.fa&&GM(f),f=w.call(A,_)}return f}function zM(f){return(f=f[HM])instanceof ld?f:null}var qM="__closure_events_fn_"+(1e9*Math.random()>>>0);function WM(f){return"function"==typeof f?f:(f[qM]||(f[qM]=function(_){return f.handleEvent(_)}),f[qM])}function Yi(){wr.call(this),this.i=new ld(this),this.M=this,this.F=null}function Ts(f,_){var w,A=f.F;if(A)for(w=[];A;A=A.F)w.push(A);if(f=f.M,A=_.type||_,"string"==typeof _)_=new Jn(_,f);else if(_ instanceof Jn)_.target=_.target||f;else{var G=_;j(_=new Jn(A,f),G)}if(G=!0,w)for(var ee=w.length-1;0<=ee;ee--){var Ne=_.g=w[ee];G=kA(Ne,A,!0,_)&&G}if(G=kA(Ne=_.g=f,A,!0,_)&&G,G=kA(Ne,A,!1,_)&&G,w)for(ee=0;ee<w.length;ee++)G=kA(Ne=_.g=w[ee],A,!1,_)&&G}function kA(f,_,w,A){if(!(_=f.i.g[String(_)]))return!0;_=_.concat();for(var G=!0,ee=0;ee<_.length;++ee){var Ne=_[ee];if(Ne&&!Ne.da&&Ne.capture==w){var Pn=Ne.listener,xi=Ne.ha||Ne.src;Ne.fa&&UM(f.i,Ne),G=!1!==Pn.call(xi,A)&&G}}return G&&!A.defaultPrevented}function K7(f,_,w){if("function"==typeof f)w&&(f=y(f,w));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=y(f.handleEvent,f)}return 2147483647<Number(_)?-1:a.setTimeout(f,_||0)}function Q7(f){f.g=K7(()=>{f.g=null,f.i&&(f.i=!1,Q7(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}E(Yi,wr),Yi.prototype[Er]=!0,Yi.prototype.removeEventListener=function(f,_,w,A){q7(this,f,_,w,A)},Yi.prototype.N=function(){if(Yi.aa.N.call(this),this.i){var _,f=this.i;for(_ in f.g){for(var w=f.g[_],A=0;A<w.length;A++)Fl(w[A]);delete f.g[_],f.h--}}this.F=null},Yi.prototype.K=function(f,_,w,A){return this.i.add(String(f),_,!1,w,A)},Yi.prototype.L=function(f,_,w,A){return this.i.add(String(f),_,!0,w,A)};class cRe extends wr{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Q7(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function I0(f){wr.call(this),this.h=f,this.g={}}E(I0,wr);var J7=[];function Y7(f){Ce(f.g,function(_,w){this.g.hasOwnProperty(w)&&GM(_)},f),f.g={}}I0.prototype.N=function(){I0.aa.N.call(this),Y7(this)},I0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var KM=a.JSON.stringify,dRe=a.JSON.parse,hRe=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function QM(){}function Z7(){}QM.prototype.h=null;var T0={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function JM(){Jn.call(this,"d")}function YM(){Jn.call(this,"c")}E(JM,Jn),E(YM,Jn);var tf={},eK=null;function xA(){return eK=eK||new Yi}function tK(f){Jn.call(this,tf.La,f)}function A0(f){const _=xA();Ts(_,new tK(_))}function nK(f,_){Jn.call(this,tf.STAT_EVENT,f),this.stat=_}function As(f){const _=xA();Ts(_,new nK(_,f))}function rK(f,_){Jn.call(this,tf.Ma,f),this.size=_}function C0(f,_){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},_)}function D0(){this.g=!0}function um(f,_,w,A){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+function mRe(f,_){if(!f.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w)for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var A=w[f];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var ee=G[0];if("noop"!=ee&&"stop"!=ee&&"close"!=ee)for(var Ne=1;Ne<G.length;Ne++)G[Ne]=""}}}return KM(w)}catch{return _}}(f,w)+(A?" "+A:"")})}tf.La="serverreachability",E(tK,Jn),tf.STAT_EVENT="statevent",E(nK,Jn),tf.Ma="timingevent",E(rK,Jn),D0.prototype.xa=function(){this.g=!1},D0.prototype.info=function(){};var XM,MA={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iK={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function OA(){}function cd(f,_,w,A){this.j=f,this.i=_,this.l=w,this.R=A||1,this.U=new I0(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sK}function sK(){this.i=null,this.g="",this.h=!1}E(OA,QM),OA.prototype.g=function(){return new XMLHttpRequest},OA.prototype.i=function(){return{}},XM=new OA;var oK={},ZM={};function eO(f,_,w){f.L=1,f.v=jA(Vl(_)),f.m=w,f.P=!0,aK(f,null)}function aK(f,_){f.F=Date.now(),FA(f),f.A=Vl(f.v);var w=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),wK(w.i,"t",A),f.C=0,w=f.j.J,f.h=new sK,f.g=jK(f.j,w?_:null,!f.m),0<f.O&&(f.M=new cRe(y(f.Y,f,f.g),f.O)),_=f.U,w=f.g,A=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(J7[0]=G.toString()),G=J7);for(var ee=0;ee<G.length;ee++){var Ne=$7(w,G[ee],A||_.handleEvent,!1,_.h||_);if(!Ne)break;_.g[Ne.key]=Ne}_=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),A0(),function fRe(f,_,w,A,G,ee){f.info(function(){if(f.g)if(ee)for(var Ne="",Pn=ee.split("&"),xi=0;xi<Pn.length;xi++){var un=Pn[xi].split("=");if(1<un.length){var Xi=un[0];un=un[1];var Zi=Xi.split("_");Ne=2<=Zi.length&&"type"==Zi[1]?Ne+(Xi+"=")+un+"&":Ne+(Xi+"=redacted&")}}else Ne=null;else Ne=ee;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+_+"\n"+w+"\n"+Ne})}(f.i,f.u,f.A,f.l,f.R,f.m)}function uK(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function yRe(f,_){var w=f.C,A=_.indexOf("\n",w);return-1==A?ZM:(w=Number(_.substring(w,A)),isNaN(w)?oK:(A+=1)+w>_.length?ZM:(_=_.slice(A,A+w),f.C=A+w,_))}function FA(f){f.S=Date.now()+f.I,lK(f,f.I)}function lK(f,_){if(null!=f.B)throw Error("WatchDog timer not null");f.B=C0(y(f.ba,f),_)}function tO(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function S0(f){0==f.j.G||f.J||OK(f.j,f)}function nf(f){tO(f);var _=f.M;_&&"function"==typeof _.ma&&_.ma(),f.M=null,Y7(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function nO(f,_){try{var w=f.j;if(0!=w.G&&(w.g==f||rO(w.h,f)))if(!f.K&&rO(w.h,f)&&3==w.G){try{var A=w.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&3==A.length){var G=A;if(0==G[0]){e:if(!w.u){if(w.g){if(!(w.g.F+3e3<f.F))break e;GA(w),HA(w)}aO(w),As(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&0==w.v&&!w.C&&(w.C=C0(y(w.Za,w),6e3));if(1>=hK(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else sf(w,11)}else if((f.K||w.g==f)&&GA(w),!R(_))for(G=w.Da.g.parse(_),_=0;_<G.length;_++){let un=G[_];if(w.T=un[0],un=un[1],2==w.G)if("c"==un[0]){w.K=un[1],w.ia=un[2];const Xi=un[3];null!=Xi&&(w.la=Xi,w.j.info("VER="+w.la));const Zi=un[4];null!=Zi&&(w.Aa=Zi,w.j.info("SVER="+w.Aa));const dm=un[5];null!=dm&&"number"==typeof dm&&0<dm&&(w.L=A=1.5*dm,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const Oa=f.g;if(Oa){const qA=Oa.g?Oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qA){var ee=A.h;ee.g||-1==qA.indexOf("spdy")&&-1==qA.indexOf("quic")&&-1==qA.indexOf("h2")||(ee.j=ee.l,ee.g=new Set,ee.h&&(iO(ee,ee.h),ee.h=null))}if(A.D){const lO=Oa.g?Oa.g.getResponseHeader("X-HTTP-Session-Id"):null;lO&&(A.ya=lO,Xn(A.I,A.D,lO))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms"));var Ne=f;if((A=w).qa=LK(A,A.J?A.ia:null,A.W),Ne.K){fK(A.h,Ne);var Pn=Ne,xi=A.L;xi&&(Pn.I=xi),Pn.B&&(tO(Pn),FA(Pn)),A.g=Ne}else xK(A);0<w.i.length&&$A(w)}else"stop"!=un[0]&&"close"!=un[0]||sf(w,7);else 3==w.G&&("stop"==un[0]||"close"==un[0]?"stop"==un[0]?sf(w,7):oO(w):"noop"!=un[0]&&w.l&&w.l.ta(un),w.v=0)}A0()}catch{}}cd.prototype.ca=function(f){f=f.target;const _=this.M;_&&3==Ll(f)?_.j():this.Y(f)},cd.prototype.Y=function(f){try{if(f==this.g)e:{const Zi=Ll(this.g);var _=this.g.Ba();if(this.g.Z(),!(3>Zi)&&(3!=Zi||this.g&&(this.h.h||this.g.oa()||SK(this.g)))){this.J||4!=Zi||7==_||A0(),tO(this);var w=this.g.Z();this.X=w;t:if(uK(this)){var A=SK(this.g);f="";var G=A.length,ee=4==Ll(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nf(this),S0(this);var Ne="";break t}this.h.i=new a.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,f+=this.h.i.decode(A[_],{stream:!(ee&&_==G-1)});A.length=0,this.h.g+=f,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=200==w,function pRe(f,_,w,A,G,ee,Ne){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+_+"\n"+w+"\n"+ee+" "+Ne})}(this.i,this.u,this.A,this.l,this.R,Zi,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Pn,xi=this.g;if((Pn=xi.g?xi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Pn)){var un=Pn;break t}}un=null}if(!(w=un)){this.o=!1,this.s=3,As(12),nf(this),S0(this);break e}um(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nO(this,w)}if(this.P){let Oa;for(w=!0;!this.J&&this.C<Ne.length;){if(Oa=yRe(this,Ne),Oa==ZM){4==Zi&&(this.s=4,As(14),w=!1),um(this.i,this.l,null,"[Incomplete Response]");break}if(Oa==oK){this.s=4,As(15),um(this.i,this.l,Ne,"[Invalid Chunk]"),w=!1;break}um(this.i,this.l,Oa,null),nO(this,Oa)}if(uK(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Zi||0!=Ne.length||this.h.h||(this.s=1,As(16),w=!1),this.o=this.o&&w,w){if(0<Ne.length&&!this.W){this.W=!0;var Xi=this.j;Xi.g==this&&Xi.ba&&!Xi.M&&(Xi.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),uO(Xi),Xi.M=!0,As(11))}}else um(this.i,this.l,Ne,"[Invalid Chunked Response]"),nf(this),S0(this)}else um(this.i,this.l,Ne,null),nO(this,Ne);4==Zi&&nf(this),this.o&&!this.J&&(4==Zi?OK(this.j,this):(this.o=!1,FA(this)))}else(function MRe(f){const _={};f=(f.g&&2<=Ll(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let A=0;A<f.length;A++){if(R(f[A]))continue;var w=B(f[A]);const G=w[0];if("string"!=typeof(w=w[1]))continue;w=w.trim();const ee=_[G]||[];_[G]=ee,ee.push(w)}!function x(f,_){for(const w in f)_.call(void 0,f[w],w,f)}(_,function(A){return A.join(", ")})})(this.g),400==w&&0<Ne.indexOf("Unknown SID")?(this.s=3,As(12)):(this.s=0,As(13)),nf(this),S0(this)}}}catch{}},cd.prototype.cancel=function(){this.J=!0,nf(this)},cd.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function gRe(f,_){f.info(function(){return"TIMEOUT: "+_})}(this.i,this.A),2!=this.L&&(A0(),As(17)),nf(this),this.s=2,S0(this)):lK(this,this.S-f)};var _Re=class{constructor(f,_){this.g=f,this.map=_}};function cK(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dK(f){return!!f.h||!!f.g&&f.g.size>=f.j}function hK(f){return f.h?1:f.g?f.g.size:0}function rO(f,_){return f.h?f.h==_:!!f.g&&f.g.has(_)}function iO(f,_){f.g?f.g.add(_):f.h=_}function fK(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}function pK(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let _=f.i;for(const w of f.g.values())_=_.concat(w.D);return _}return T(f.i)}function gK(f,_){if(f.forEach&&"function"==typeof f.forEach)f.forEach(_,void 0);else if(u(f)||"string"==typeof f)Array.prototype.forEach.call(f,_,void 0);else for(var w=function bRe(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||"string"==typeof f){var _=[];f=f.length;for(var w=0;w<f;w++)_.push(w);return _}_=[],w=0;for(const A in f)_[w++]=A;return _}}}(f),A=function vRe(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(u(f)){for(var _=[],w=f.length,A=0;A<w;A++)_.push(f[A]);return _}for(A in _=[],w=0,f)_[w++]=f[A];return _}(f),G=A.length,ee=0;ee<G;ee++)_.call(void 0,A[ee],w&&w[ee],f)}cK.prototype.cancel=function(){if(this.i=pK(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var mK=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rf(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof rf){this.h=f.h,VA(this,f.j),this.o=f.o,this.g=f.g,LA(this,f.s),this.l=f.l;var _=f.i,w=new R0;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),yK(this,w),this.m=f.m}else f&&(_=String(f).match(mK))?(this.h=!1,VA(this,_[1]||"",!0),this.o=P0(_[2]||""),this.g=P0(_[3]||"",!0),LA(this,_[4]),this.l=P0(_[5]||"",!0),yK(this,_[6]||"",!0),this.m=P0(_[7]||"")):(this.h=!1,this.i=new R0(null,this.h))}function Vl(f){return new rf(f)}function VA(f,_,w){f.j=w?P0(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function LA(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function yK(f,_,w){_ instanceof R0?(f.i=_,function DRe(f,_){_&&!f.j&&(dd(f),f.i=null,f.g.forEach(function(w,A){var G=A.toLowerCase();A!=G&&(vK(this,A),wK(this,G,w))},f)),f.j=_}(f.i,f.h)):(w||(_=N0(_,ARe)),f.i=new R0(_,f.h))}function Xn(f,_,w){f.i.set(_,w)}function jA(f){return Xn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function P0(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function N0(f,_,w){return"string"==typeof f?(f=encodeURI(f).replace(_,ERe),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ERe(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}rf.prototype.toString=function(){var f=[],_=this.j;_&&f.push(N0(_,_K,!0),":");var w=this.g;return(w||"file"==_)&&(f.push("//"),(_=this.o)&&f.push(N0(_,_K,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(w=this.s)&&f.push(":",String(w))),(w=this.l)&&(this.g&&"/"!=w.charAt(0)&&f.push("/"),f.push(N0(w,"/"==w.charAt(0)?TRe:IRe,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",N0(w,CRe)),f.join("")};var _K=/[#\/\?@]/g,IRe=/[#\?:]/g,TRe=/[#\?]/g,ARe=/[#\?@]/g,CRe=/#/g;function R0(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function dd(f){f.g||(f.g=new Map,f.h=0,f.i&&function wRe(f,_){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var A=f[w].indexOf("="),G=null;if(0<=A){var ee=f[w].substring(0,A);G=f[w].substring(A+1)}else ee=f[w];_(ee,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}(f.i,function(_,w){f.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}function vK(f,_){dd(f),_=lm(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function bK(f,_){return dd(f),_=lm(f,_),f.g.has(_)}function wK(f,_,w){vK(f,_),0<w.length&&(f.i=null,f.g.set(lm(f,_),T(w)),f.h+=w.length)}function lm(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function hd(f,_,w,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(w)}catch{}}function NRe(){this.g=new hRe}function RRe(f,_,w){const A=w||"";try{gK(f,function(G,ee){let Ne=G;l(G)&&(Ne=KM(G)),_.push(A+ee+"="+encodeURIComponent(Ne))})}catch(G){throw _.push(A+"type="+encodeURIComponent("_badmap")),G}}function k0(f){this.l=f.Ub||null,this.j=f.eb||!1}function UA(f,_){Yi.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function EK(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function x0(f){f.readyState=4,f.l=null,f.j=null,f.v=null,M0(f)}function M0(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function IK(f){let _="";return Ce(f,function(w,A){_+=A,_+=":",_+=w,_+="\r\n"}),_}function sO(f,_,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=IK(w),"string"==typeof f?null!=w&&encodeURIComponent(String(w)):Xn(f,_,w))}function Ir(f){Yi.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=R0.prototype).add=function(f,_){dd(this),this.i=null,f=lm(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(_),this.h+=1,this},t.forEach=function(f,_){dd(this),this.g.forEach(function(w,A){w.forEach(function(G){f.call(_,G,A,this)},this)},this)},t.na=function(){dd(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let A=0;A<_.length;A++){const G=f[A];for(let ee=0;ee<G.length;ee++)w.push(_[A])}return w},t.V=function(f){dd(this);let _=[];if("string"==typeof f)bK(this,f)&&(_=_.concat(this.g.get(lm(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)_=_.concat(f[w])}return _},t.set=function(f,_){return dd(this),this.i=null,bK(this,f=lm(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f&&0<(f=this.V(f)).length?String(f[0]):_},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var A=_[w];const ee=encodeURIComponent(String(A)),Ne=this.V(A);for(A=0;A<Ne.length;A++){var G=ee;""!==Ne[A]&&(G+="="+encodeURIComponent(String(Ne[A]))),f.push(G)}}return this.i=f.join("&")},E(k0,QM),k0.prototype.g=function(){return new UA(this.l,this.j)},k0.prototype.i=function(f){return function(){return f}}({}),E(UA,Yi),(t=UA.prototype).open=function(f,_){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,M0(this)},t.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,x0(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,M0(this)),this.g&&(this.readyState=3,M0(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;EK(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?x0(this):M0(this),3==this.readyState&&EK(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,x0(this))},t.Qa=function(f){this.g&&(this.response=f,x0(this))},t.ga=function(){this.g&&x0(this)},t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var w=_.next();!w.done;)f.push((w=w.value)[0]+": "+w[1]),w=_.next();return f.join("\r\n")},Object.defineProperty(UA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),E(Ir,Yi);var kRe=/^https?$/i,xRe=["POST","PUT"];function TK(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,AK(f),BA(f)}function AK(f){f.A||(f.A=!0,Ts(f,"complete"),Ts(f,"error"))}function CK(f){if(f.h&&typeof o<"u"&&(!f.v[1]||4!=Ll(f)||2!=f.Z()))if(f.u&&4==Ll(f))K7(f.Ea,0,f);else if(Ts(f,"readystatechange"),4==Ll(f)){f.h=!1;try{const Ne=f.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var A;if(A=0===Ne){var G=String(f.D).match(mK)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),A=!kRe.test(G?G.toLowerCase():"")}w=A}if(w)Ts(f,"complete"),Ts(f,"success");else{f.m=6;try{var ee=2<Ll(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",AK(f)}}finally{BA(f)}}}function BA(f,_){if(f.g){DK(f);const w=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Ts(f,"ready");try{w.onreadystatechange=A}catch{}}}function DK(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function Ll(f){return f.g?f.g.readyState:0}function SK(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function O0(f,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||_}function PK(f){this.Aa=0,this.i=[],this.j=new D0,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=O0("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=O0("baseRetryDelayMs",5e3,f),this.cb=O0("retryDelaySeedMs",1e4,f),this.Wa=O0("forwardChannelMaxRetries",2,f),this.wa=O0("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new cK(f&&f.concurrentRequestLimit),this.Da=new NRe,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function oO(f){if(NK(f),3==f.G){var _=f.U++,w=Vl(f.I);if(Xn(w,"SID",f.K),Xn(w,"RID",_),Xn(w,"TYPE","terminate"),F0(f,w),(_=new cd(f,f.j,_)).L=2,_.v=jA(Vl(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&a.Image&&((new Image).src=_.v,w=!0),w||(_.g=jK(_.j,null),_.g.ea(_.v)),_.F=Date.now(),FA(_)}VK(f)}function HA(f){f.g&&(uO(f),f.g.cancel(),f.g=null)}function NK(f){HA(f),f.u&&(a.clearTimeout(f.u),f.u=null),GA(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function $A(f){if(!dK(f.h)&&!f.s){f.s=!0;var _=f.Ga;Ze||Vr(),rt||(Ze(),rt=!0),Bt.add(_,f),f.B=0}}function RK(f,_){var w;w=_?_.l:f.U++;const A=Vl(f.I);Xn(A,"SID",f.K),Xn(A,"RID",w),Xn(A,"AID",f.T),F0(f,A),f.m&&f.o&&sO(A,f.m,f.o),w=new cd(f,f.j,w,f.B+1),null===f.m&&(w.H=f.o),_&&(f.i=_.D.concat(f.i)),_=kK(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),iO(f.h,w),eO(w,A,_)}function F0(f,_){f.H&&Ce(f.H,function(w,A){Xn(_,A,w)}),f.l&&gK({},function(w,A){Xn(_,A,w)})}function kK(f,_,w){w=Math.min(f.i.length,w);var A=f.l?y(f.l.Na,f.l,f):null;e:{var G=f.i;let ee=-1;for(;;){const Ne=["count="+w];-1==ee?0<w?(ee=G[0].g,Ne.push("ofs="+ee)):ee=0:Ne.push("ofs="+ee);let Pn=!0;for(let xi=0;xi<w;xi++){let un=G[xi].g;const Xi=G[xi].map;if(un-=ee,0>un)ee=Math.max(0,G[xi].g-100),Pn=!1;else try{RRe(Xi,Ne,"req"+un+"_")}catch{A&&A(Xi)}}if(Pn){A=Ne.join("&");break e}}}return f=f.i.splice(0,w),_.D=f,A}function xK(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;Ze||Vr(),rt||(Ze(),rt=!0),Bt.add(_,f),f.v=0}}function aO(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=C0(y(f.Fa,f),FK(f,f.v)),f.v++,0))}function uO(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function MK(f){f.g=new cd(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var _=Vl(f.qa);Xn(_,"RID","rpc"),Xn(_,"SID",f.K),Xn(_,"AID",f.T),Xn(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Xn(_,"TO",f.ja),Xn(_,"TYPE","xmlhttp"),F0(f,_),f.m&&f.o&&sO(_,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=jA(Vl(_)),w.m=null,w.P=!0,aK(w,f)}function GA(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function OK(f,_){var w=null;if(f.g==_){GA(f),uO(f),f.g=null;var A=2}else{if(!rO(f.h,_))return;w=_.D,fK(f.h,_),A=1}if(0!=f.G)if(_.o)if(1==A){w=_.m?_.m.length:0,_=Date.now()-_.F;var G=f.B;Ts(A=xA(),new rK(A,w)),$A(f)}else xK(f);else if(3==(G=_.s)||0==G&&0<_.X||!(1==A&&function ORe(f,_){return!(hK(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=_.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=C0(y(f.Ga,f,_),FK(f,f.B)),f.B++,0)))}(f,_)||2==A&&aO(f)))switch(w&&0<w.length&&(_=f.h,_.i=_.i.concat(w)),G){case 1:sf(f,5);break;case 4:sf(f,10);break;case 3:sf(f,6);break;default:sf(f,2)}}function FK(f,_){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*_}function sf(f,_){if(f.j.info("Error code "+_),2==_){var w=y(f.fb,f),A=f.Xa;const G=!A;A=new rf(A||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||VA(A,"https"),jA(A),G?function SRe(f,_){const w=new D0;if(a.Image){const A=new Image;A.onload=v(hd,w,"TestLoadImage: loaded",!0,_,A),A.onerror=v(hd,w,"TestLoadImage: error",!1,_,A),A.onabort=v(hd,w,"TestLoadImage: abort",!1,_,A),A.ontimeout=v(hd,w,"TestLoadImage: timeout",!1,_,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else _(!1)}(A.toString(),w):function PRe(f,_){new D0;const A=new AbortController,G=setTimeout(()=>{A.abort(),hd(0,0,!1,_)},1e4);fetch(f,{signal:A.signal}).then(ee=>{clearTimeout(G),hd(0,0,!!ee.ok,_)}).catch(()=>{clearTimeout(G),hd(0,0,!1,_)})}(A.toString(),w)}else As(2);f.G=0,f.l&&f.l.sa(_),VK(f),NK(f)}function VK(f){if(f.G=0,f.ka=[],f.l){const _=pK(f.h);(0!=_.length||0!=f.i.length)&&(C(f.ka,_),C(f.ka,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.ra()}}function LK(f,_,w){var A=w instanceof rf?Vl(w):new rf(w);if(""!=A.g)_&&(A.g=_+"."+A.g),LA(A,A.s);else{var G=a.location;A=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var ee=new rf(null);A&&VA(ee,A),_&&(ee.g=_),G&&LA(ee,G),w&&(ee.l=w),A=ee}return _=f.ya,(w=f.D)&&_&&Xn(A,w,_),Xn(A,"VER",f.la),F0(f,A),A}function jK(f,_,w){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(_=new Ir(f.Ca&&!f.pa?new k0({eb:w}):f.pa)).Ha(f.J),_}function UK(){}function zA(){}function Do(f,_){Yi.call(this),this.g=new PK(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!R(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.D=_,null!==(f=this.h)&&_ in f&&_ in(f=this.h)&&delete f[_]),this.j=new cm(this)}function BK(f){JM.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const w in _){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,_=null!==_&&f in _?_[f]:void 0),this.data=_}else this.data=f}function HK(){YM.call(this),this.status=1}function cm(f){this.g=f}(t=Ir.prototype).Ha=function(f){this.J=f},t.ea=function(f,_,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():XM.g(),this.v=function X7(f){return f.h||(f.h=f.i())}(this.o?this.o:XM),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ee){return void TK(this,ee)}if(f=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)w.set(G,A[G]);else{if("function"!=typeof A.keys||"function"!=typeof A.get)throw Error("Unknown input type for opt_headers: "+String(A));for(const ee of A.keys())w.set(ee,A.get(ee))}A=Array.from(w.keys()).find(ee=>"content-type"==ee.toLowerCase()),G=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xRe,_,void 0))||A||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,Ne]of w)this.g.setRequestHeader(ee,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DK(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){TK(this,ee)}},t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ts(this,"complete"),Ts(this,"abort"),BA(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),BA(this,!0)),Ir.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?CK(this):this.bb())},t.bb=function(){CK(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Ll(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&0==_.indexOf(f)&&(_=_.substring(f.length)),dRe(_)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=PK.prototype).la=8,t.G=1,t.connect=function(f,_,w,A){As(0),this.W=f,this.H=_||{},w&&void 0!==A&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=LK(this,null,this.W),$A(this)},t.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new cd(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=D(ee),j(ee,this.S)):ee=this.S),null!==this.m||this.O||(G.H=ee,ee=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){var A=this.i[w];if(void 0===(A="__data__"in A.map&&"string"==typeof(A=A.map.__data__)?A.length:void 0))break;if(4096<(_+=A)){_=w;break e}if(4096===_||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=kK(this,G,_),Xn(w=Vl(this.I),"RID",f),Xn(w,"CVER",22),this.D&&Xn(w,"X-HTTP-Session-Id",this.D),F0(this,w),ee&&(this.O?_="headers="+encodeURIComponent(String(IK(ee)))+"&"+_:this.m&&sO(w,this.m,ee)),iO(this.h,G),this.Ua&&Xn(w,"TYPE","init"),this.P?(Xn(w,"$req",_),Xn(w,"SID","null"),G.T=!0,eO(G,w,null)):eO(G,w,_),this.G=2}}else 3==this.G&&(f?RK(this,f):0==this.i.length||dK(this.h)||RK(this))},t.Fa=function(){if(this.u=null,MK(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=C0(y(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,As(10),HA(this),MK(this))},t.Za=function(){null!=this.C&&(this.C=null,HA(this),aO(this),As(19))},t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),As(2)):(this.j.info("Failed to ping google.com"),As(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=UK.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},zA.prototype.g=function(f,_){return new Do(f,_)},E(Do,Yi),Do.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Do.prototype.close=function(){oO(this.g)},Do.prototype.o=function(f){var _=this.g;if("string"==typeof f){var w={};w.__data__=f,f=w}else this.u&&((w={}).__data__=KM(f),f=w);_.i.push(new _Re(_.Ya++,f)),3==_.G&&$A(_)},Do.prototype.N=function(){this.g.l=null,delete this.j,oO(this.g),delete this.g,Do.aa.N.call(this)},E(BK,JM),E(HK,YM),E(cm,UK),cm.prototype.ua=function(){Ts(this.g,"a")},cm.prototype.ta=function(f){Ts(this.g,new BK(f))},cm.prototype.sa=function(f){Ts(this.g,new HK)},cm.prototype.ra=function(){Ts(this.g,"b")},zA.prototype.createWebChannel=zA.prototype.g,Do.prototype.send=Do.prototype.o,Do.prototype.open=Do.prototype.m,Do.prototype.close=Do.prototype.close,eG=dl.createWebChannelTransport=function(){return new zA},Z$=dl.getStatEventTarget=function(){return xA()},X$=dl.Event=tf,_N=dl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},MA.NO_ERROR=0,MA.TIMEOUT=8,MA.HTTP_ERROR=6,SI=dl.ErrorCode=MA,iK.COMPLETE="complete",Y$=dl.EventType=iK,Z7.EventType=T0,T0.OPEN="a",T0.CLOSE="b",T0.ERROR="c",T0.MESSAGE="d",Yi.prototype.listen=Yi.prototype.K,av=dl.WebChannel=Z7,J$=dl.FetchXmlHttpFactory=k0,Ir.prototype.listenOnce=Ir.prototype.L,Ir.prototype.getLastError=Ir.prototype.Ka,Ir.prototype.getLastErrorCode=Ir.prototype.Ba,Ir.prototype.getStatus=Ir.prototype.Z,Ir.prototype.getResponseJson=Ir.prototype.Oa,Ir.prototype.getResponseText=Ir.prototype.oa,Ir.prototype.send=Ir.prototype.ea,Ir.prototype.setWithCredentials=Ir.prototype.Ha,Q$=dl.XhrIo=Ir}).apply(typeof DI<"u"?DI:typeof self<"u"?self:typeof window<"u"?window:{});const tG="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let ng="10.12.3";const kc=new fu.Vy("@firebase/firestore");function rg(){return kc.logLevel}function be(t,...e){if(kc.logLevel<=fu.$b.DEBUG){const n=e.map(vN);kc.debug(`Firestore (${ng}): ${t}`,...n)}}function Mr(t,...e){if(kc.logLevel<=fu.$b.ERROR){const n=e.map(vN);kc.error(`Firestore (${ng}): ${t}`,...n)}}function Bs(t,...e){if(kc.logLevel<=fu.$b.WARN){const n=e.map(vN);kc.warn(`Firestore (${ng}): ${t}`,...n)}}function vN(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ge(t="Unexpected state"){const e=`FIRESTORE (${ng}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function Je(t,e){t||Ge()}function Pe(t,e){return t}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Rt.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class nG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ahe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mi.UNAUTHENTICATED))}shutdown(){}}class Che{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Dhe{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ri,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,re.A)(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ri)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je("string"==typeof r.accessToken),new nG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Je(null===e||"string"==typeof e),new mi(e)}}class She{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Phe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new She(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nhe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je("string"==typeof n.token),this.R=n.token,new rG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rhe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class iG{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Rhe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function _t(t,e){return t<e?-1:t>e?1:0}function ig(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function sG(t){return t+"\0"}class tr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new tr(0,0))}static max(){return new Xe(new tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class uv{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ge(),void 0===r?r=e.length-n:r>e.length-n&&Ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===uv.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uv?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wt extends uv{construct(e,n,r){return new Wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const khe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends uv{construct(e,n,r){return new qn(e,n,r)}static isValidIdentifier(e){return khe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new me(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new me(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new me(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new me(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Wt.fromString(e))}static fromName(e){return new xe(Wt.fromString(e).popFirst(5))}static empty(){return new xe(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Wt(e.slice()))}}class sg{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function bN(t){return t.fields.find(e=>2===e.kind)}function _h(t){return t.fields.filter(e=>2!==e.kind)}sg.UNKNOWN_ID=-1;class vh{constructor(e,n){this.fieldPath=e,this.kind=n}}class og{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new og(0,po.min())}}function oG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(1e9===r?new tr(n+1,0):new tr(n,r));return new po(i,xe.empty(),e)}function aG(t){return new po(t.readTime,t.key,-1)}class po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new po(Xe.min(),xe.empty(),-1)}static max(){return new po(Xe.max(),xe.empty(),-1)}}function wN(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=xe.comparator(t.documentKey,e.documentKey),0!==n?n:_t(t.largestBatchId,e.largestBatchId))}const uG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xc(t){return EN.apply(this,arguments)}function EN(){return(EN=(0,re.A)(function*(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==uG)throw t;be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}class PI{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ri,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new lv(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=IN(r.target.error);this.V.reject(new lv(e,i))}}static open(e,n,r,i){try{return new PI(n,e.transaction(i,r))}catch(s){throw new lv(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Fhe(n)}}class pu{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===pu.S((0,Rt.ZQ)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return be("SimpleDb","Removing database:",e),bh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Rt.zW)())return!1;if(pu.C())return!0;const e=(0,Rt.ZQ)(),n=pu.S(e),r=0<n&&n<10,i=cG(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var n=this;return(0,re.A)(function*(){return n.db||(be("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new lv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new me(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new me(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new lv(e,a))},s.onupgradeneeded=o=>{be("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',o.oldVersion),n.p.O(o.target.result,s.transaction,o.oldVersion,n.version).next(()=>{be("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.N&&(n.db.onversionchange=r=>n.N(r)),n.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var s=this;return(0,re.A)(function*(){const o="readonly"===n;let a=0;for(;;){++a;try{s.db=yield s.M(e);const u=PI.open(s.db,e,o?"readonly":"readwrite",r),l=i(u).next(d=>(u.g(),d)).catch(d=>(u.abort(d),z.reject(d))).toPromise();return l.catch(()=>{}),yield u.m,l}catch(u){const l=u,d="FirebaseError"!==l.name&&a<3;if(be("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),s.close(),!d)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function cG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Ohe{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return bh(this.B.delete())}}class lv extends me{constructor(e,n){super(Y.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Mc(t){return"IndexedDbTransactionError"===t.name}class Fhe{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(be("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),bh(r)}add(e){return be("SimpleDb","ADD",this.store.name,e,e),bh(this.store.add(e))}get(e){return bh(this.store.get(e)).next(n=>(void 0===n&&(n=null),be("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return be("SimpleDb","DELETE",this.store.name,e),bh(this.store.delete(e))}count(){return be("SimpleDb","COUNT",this.store.name),bh(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const s=i.getAll(r.range);return new z((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,u)=>{o.push(u)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new z((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const o=IN(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new z((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new Ohe(a),l=n(a.primaryKey,a.value,u);if(l instanceof z){const d=l.catch(g=>(u.done(),z.reject(g)));r.push(d)}u.isDone?i():null===u.K?a.continue():a.continue(u.K)}}).next(()=>z.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function bh(t){return new z((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=IN(r.target.error);n(i)}})}let dG=!1;function IN(t){const e=pu.S((0,Rt.ZQ)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dG||(dG=!0,setTimeout(()=>{throw r},0)),r}}return t}class Vhe{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var n=this;be("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,re.A)(function*(){n.task=null;try{be("IndexBackfiller",`Documents written: ${yield n.Z.ee()}`)}catch(r){Mc(r)?be("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield xc(r)}yield n.X(6e4)}))}}class Lhe{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){var n=this;return(0,re.A)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.te(r,e))})()}te(e,n){const r=new Set;let i=n,s=!0;return z.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return be("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(be("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=aG(s);wN(o,r)>0&&(r=o)}),new po(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let go=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function cv(t){return null==t}function dv(t){return 0===t&&1/t==-1/0}function hG(t){return"number"==typeof t&&Number.isInteger(t)&&!dv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function $i(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fG(e)),e=jhe(t.get(n),e);return fG(e)}function jhe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function fG(t){return t+"\x01\x01"}function gu(t){const e=t.length;if(Je(e>=2),2===e)return Je("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ge(),t.charAt(o+1)){case"\x01":const a=t.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ge()}s=o+2}return new Wt(r)}const pG=["userId","batchId"];function NI(t,e){return[t,$i(e)]}function gG(t,e,n){return[t,$i(e),n]}const Uhe={},Bhe=["prefixPath","collectionGroup","readTime","documentId"],Hhe=["prefixPath","collectionGroup","documentId"],$he=["collectionGroup","readTime","prefixPath","documentId"],Ghe=["canonicalId","targetId"],zhe=["targetId","path"],qhe=["path","targetId"],Whe=["collectionId","parent"],Khe=["indexId","uid"],Qhe=["uid","sequenceNumber"],Jhe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yhe=["indexId","uid","orderedDocumentKey"],Xhe=["userId","collectionPath","documentId"],Zhe=["userId","collectionPath","largestBatchId"],efe=["userId","collectionGroup","largestBatchId"],mG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tfe=[...mG,"documentOverlays"],yG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_G=yG,vG=[..._G,"indexConfiguration","indexState","indexEntries"],nfe=vG;class TN extends lG{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function yi(t,e){const n=Pe(t);return pu.F(n._e,e)}function bG(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class jn{constructor(e,n){this.comparator=e,this.root=n||Si.EMPTY}insert(e,n){return new jn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new RI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new RI(this.root,e,this.comparator,!1)}getReverseIterator(){return new RI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new RI(this.root,e,this.comparator,!0)}}class RI{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Si{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Si.RED,this.left=i??Si.EMPTY,this.right=s??Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Si(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1,Si.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Si(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IG(this.data.getIterator())}getIteratorFrom(e){return new IG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new In(this.comparator);return n.data=e,n}}class IG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ag(t){return t.hasNext()?t.getNext():void 0}class Hs{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new Hs([])}unionWith(e){let n=new In(qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ig(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class TG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TG("Invalid base64 string: "+s):s}}(e);return new ii(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ii(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const ife=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(t){if(Je(!!t),"string"==typeof t){let e=0;const n=ife.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(t.seconds),nanos:br(t.nanos)}}function br(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function fl(t){return"string"==typeof t?ii.fromBase64String(t):ii.fromUint8Array(t)}function kI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xI(t){const e=t.mapValue.fields.__previous_value__;return kI(e)?xI(e):e}function hv(t){const e=hl(t.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}class sfe{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Fc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}const Vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},MI={nullValue:"NULL_VALUE"};function Lc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kI(t)?4:SG(t)?9007199254740991:10:Ge()}function mu(t,e){if(t===e)return!0;const n=Lc(t);if(n!==Lc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hv(t).isEqual(hv(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=hl(i.timestampValue),a=hl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,fl(t.bytesValue).isEqual(fl(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return br(i.geoPointValue.latitude)===br(s.geoPointValue.latitude)&&br(i.geoPointValue.longitude)===br(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return br(i.integerValue)===br(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=br(i.doubleValue),a=br(s.doubleValue);return o===a?dv(o)===dv(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ig(t.arrayValue.values||[],e.arrayValue.values||[],mu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(bG(o)!==bG(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!mu(o[u],a[u])))return!1;return!0}(t,e);default:return Ge()}var s}function fv(t,e){return void 0!==(t.values||[]).find(n=>mu(n,e))}function jc(t,e){if(t===e)return 0;const n=Lc(t),r=Lc(e);if(n!==r)return _t(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=br(s.integerValue||s.doubleValue),u=br(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return AG(t.timestampValue,e.timestampValue);case 4:return AG(hv(t),hv(e));case 5:return _t(t.stringValue,e.stringValue);case 6:return function(s,o){const a=fl(s),u=fl(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const d=_t(a[l],u[l]);if(0!==d)return d}return _t(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=_t(br(s.latitude),br(o.latitude));return 0!==a?a:_t(br(s.longitude),br(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const d=jc(a[l],u[l]);if(d)return d}return _t(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Vc.mapValue&&o===Vc.mapValue)return 0;if(s===Vc.mapValue)return 1;if(o===Vc.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},d=Object.keys(l);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const y=_t(u[g],d[g]);if(0!==y)return y;const v=jc(a[u[g]],l[d[g]]);if(0!==v)return v}return _t(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Ge()}}function AG(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _t(t,e);const n=hl(t),r=hl(e),i=_t(n.seconds,r.seconds);return 0!==i?i:_t(n.nanos,r.nanos)}function ug(t){return AN(t)}function AN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fl(t.bytesValue).toBase64():"referenceValue"in t?xe.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=AN(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${AN(n.fields[o])}`;return i+"}"}(t.mapValue):Ge()}function wh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function CN(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function CG(t){return!!t&&"nullValue"in t}function DG(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function FI(t){return!!t&&"mapValue"in t}function gv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gv(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gv(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SG(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function ofe(t){return"nullValue"in t?MI:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?wh(Fc.empty(),xe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ge()}function afe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?wh(Fc.empty(),xe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Vc:Ge()}function PG(t,e){const n=jc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function NG(t,e){const n=jc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!FI(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gv(n)}setAll(e){let n=qn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gv(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());FI(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];FI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pi(gv(this.value))}}function RG(t){const e=[];return Oc(t.fields,(n,r)=>{const i=new qn([n]);if(FI(r)){const s=RG(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Hs(e)}class Wn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wn(e,0,Xe.min(),Xe.min(),Xe.min(),Pi.empty(),0)}static newFoundDocument(e,n,r,i){return new Wn(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new Wn(e,2,n,Xe.min(),Xe.min(),Pi.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,Xe.min(),Xe.min(),Pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uc{constructor(e,n){this.position=e,this.inclusive=n}}function kG(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?xe.comparator(xe.fromName(o.referenceValue),n.key):jc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function xG(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mu(t.position[n],e.position[n]))return!1;return!0}class mv{constructor(e,n="asc"){this.field=e,this.dir=n}}function ufe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class MG{}class Kt extends MG{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new lfe(e,n,r):"array-contains"===n?new hfe(e,r):"in"===n?new UG(e,r):"not-in"===n?new ffe(e,r):"array-contains-any"===n?new pfe(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new cfe(e,r):new dfe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(jc(n,this.value)):null!==n&&Lc(this.value)===Lc(n)&&this.matchesComparison(jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wn extends MG{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wn(e,n)}matches(e){return lg(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lg(t){return"and"===t.op}function DN(t){return"or"===t.op}function SN(t){return OG(t)&&lg(t)}function OG(t){for(const e of t.filters)if(e instanceof wn)return!1;return!0}function PN(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+ug(t.value);if(SN(t))return t.filters.map(e=>PN(e)).join(",");{const e=t.filters.map(n=>PN(n)).join(",");return`${t.op}(${e})`}}function FG(t,e){return t instanceof Kt?(r=t,(i=e)instanceof Kt&&r.op===i.op&&r.field.isEqual(i.field)&&mu(r.value,i.value)):t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&FG(o,i.filters[a]),!0)}(t,e):void Ge();var r,i}function VG(t,e){const n=t.filters.concat(e);return wn.create(n,t.op)}function LG(t){return t instanceof Kt?`${(n=t).field.canonicalString()} ${n.op} ${ug(n.value)}`:t instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(LG).join(" ,")+"}"}(t):"Filter";var n}class lfe extends Kt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cfe extends Kt{constructor(e,n){super(e,"in",n),this.keys=jG(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dfe extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=jG(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jG(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class hfe extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pv(n)&&fv(n.arrayValue,this.value)}}class UG extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&fv(this.value.arrayValue,n)}}class ffe extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!fv(this.value.arrayValue,n)}}class pfe extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fv(this.value.arrayValue,r))}}class gfe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function NN(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gfe(t,e,n,r,i,s,o)}function Eh(t){const e=Pe(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>PN(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),cv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ug(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ug(r)).join(",")),e.ue=n}return e.ue}function yv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ufe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xG(t.startAt,e.startAt)&&xG(t.endAt,e.endAt)}function VI(t){return xe.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function LI(t,e){return t.filters.filter(n=>n instanceof Kt&&n.field.isEqual(e))}function BG(t,e,n){let r=MI,i=!0;for(const s of LI(t,e)){let o=MI,a=!0;switch(s.op){case"<":case"<=":o=ofe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=MI}PG({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];PG({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}function HG(t,e,n){let r=Vc,i=!0;for(const s of LI(t,e)){let o=Vc,a=!0;switch(s.op){case">=":case">":o=afe(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Vc}NG({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];NG({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}class pl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function $G(t,e,n,r,i,s,o,a){return new pl(t,e,n,r,i,s,o,a)}function cg(t){return new pl(t)}function GG(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function RN(t){return null!==t.collectionGroup}function dg(t){const e=Pe(t);if(null===e.ce){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new In(qn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new mv(s,r))}),n.has(qn.keyField().canonicalString())||e.ce.push(new mv(qn.keyField(),r))}return e.ce}function Gi(t){const e=Pe(t);return e.le||(e.le=function qG(t,e){if("F"===t.limitType)return NN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new mv(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Uc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uc(t.startAt.position,t.startAt.inclusive):null;return NN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,dg(t))),e.le}function kN(t,e){const n=t.filters.concat([e]);return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jI(t,e,n){return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _v(t,e){return yv(Gi(t),Gi(e))&&t.limitType===e.limitType}function WG(t){return`${Eh(Gi(t))}|lt:${t.limitType}`}function hg(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LG(i)).join(", ")}]`),cv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ug(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ug(i)).join(",")),`Target(${r})`}(Gi(t))}; limitType=${t.limitType})`}function vv(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of dg(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const l=kG(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,dg(r),i)||r.endAt&&!function(o,a,u){const l=kG(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,dg(r),i)));var r,i}function KG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QG(t){return(e,n)=>{let r=!1;for(const i of dg(t)){const s=mfe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function mfe(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return null!==u&&null!==l?jc(u,l):Ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge()}}class gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EG(this.inner)}size(){return this.innerSize}}const yfe=new jn(xe.comparator);function $s(){return yfe}const JG=new jn(xe.comparator);function bv(...t){let e=JG;for(const n of t)e=e.insert(n.key,n);return e}function YG(t){let e=JG;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yu(){return wv()}function XG(){return wv()}function wv(){return new gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const _fe=new jn(xe.comparator),vfe=new In(xe.comparator);function Tt(...t){let e=vfe;for(const n of t)e=e.add(n);return e}const bfe=new In(_t);function xN(){return bfe}function ZG(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dv(e)?"-0":e}}function ez(t){return{integerValue:""+t}}function tz(t,e){return hG(e)?ez(e):ZG(t,e)}class UI{constructor(){this._=void 0}}function wfe(t,e,n){return t instanceof fg?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kI(s)&&(s=xI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ih?rz(t,e):t instanceof Th?iz(t,e):function(i,s){const o=nz(i,s),a=sz(o)+sz(i.Pe);return CN(o)&&CN(i.Pe)?ez(a):ZG(i.serializer,a)}(t,e)}function Efe(t,e,n){return t instanceof Ih?rz(t,e):t instanceof Th?iz(t,e):n}function nz(t,e){return t instanceof pg?CN(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class fg extends UI{}class Ih extends UI{constructor(e){super(),this.elements=e}}function rz(t,e){const n=oz(e);for(const r of t.elements)n.some(i=>mu(i,r))||n.push(r);return{arrayValue:{values:n}}}class Th extends UI{constructor(e){super(),this.elements=e}}function iz(t,e){let n=oz(e);for(const r of t.elements)n=n.filter(i=>!mu(i,r));return{arrayValue:{values:n}}}class pg extends UI{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function sz(t){return br(t.integerValue||t.doubleValue)}function oz(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ev{constructor(e,n){this.field=e,this.transform=n}}class Tfe{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function BI(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class HI{}function az(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new mg(t.key,nr.none()):new gg(t.key,t.data,nr.none());{const n=t.data,r=Pi.empty();let i=new In(qn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ml(t.key,r,new Hs(i.toArray()),nr.none())}}function Afe(t,e,n){t instanceof gg?function(i,s,o){const a=i.value.clone(),u=cz(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ml?function(i,s,o){if(!BI(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=cz(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(lz(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Iv(t,e,n,r){return t instanceof gg?function(s,o,a,u){if(!BI(s.precondition,o))return a;const l=s.value.clone(),d=dz(s.fieldTransforms,u,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ml?function(s,o,a,u){if(!BI(s.precondition,o))return a;const l=dz(s.fieldTransforms,u,o),d=o.data;return d.setAll(lz(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):(a=n,BI(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Cfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=nz(r.transform,i||null);null!=s&&(null===n&&(n=Pi.empty()),n.set(r.field,s))}return n||null}function uz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&ig(r,i,(s,o)=>function Ife(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Ih&&i instanceof Ih||r instanceof Th&&i instanceof Th?ig(r.elements,i.elements,mu):r instanceof pg&&i instanceof pg?mu(r.Pe,i.Pe):r instanceof fg&&i instanceof fg);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class gg extends HI{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ml extends HI{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lz(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cz(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Efe(o,a,n[i]))}return r}function dz(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wfe(s,o,e))}return r}class mg extends HI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MN extends HI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ON{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Afe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iv(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Iv(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XG();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=az(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&ig(this.mutations,e.mutations,(n,r)=>uz(n,r))&&ig(this.baseMutations,e.baseMutations,(n,r)=>uz(n,r))}}class FN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=function(){return _fe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new FN(e,n,r,i)}}class VN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dfe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Wr,en;function fz(t){switch(t){default:return Ge();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function pz(t){if(void 0===t)return Mr("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Wr.OK:return Y.OK;case Wr.CANCELLED:return Y.CANCELLED;case Wr.UNKNOWN:return Y.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return Y.INTERNAL;case Wr.UNAVAILABLE:return Y.UNAVAILABLE;case Wr.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Wr.NOT_FOUND:return Y.NOT_FOUND;case Wr.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Wr.ABORTED:return Y.ABORTED;case Wr.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Wr.DATA_LOSS:return Y.DATA_LOSS;default:return Ge()}}(en=Wr||(Wr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";function gz(){return new TextEncoder}const Sfe=new yh([4294967295,4294967295],0);function mz(t){const e=gz().encode(t),n=new K$;return n.update(e),new Uint8Array(n.digest())}function yz(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yh([n,r],0),new yh([i,s],0)]}class LN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tv(`Invalid padding: ${n}`);if(r<0)throw new Tv(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Tv(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Tv(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yh.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(yh.fromNumber(r)));return 1===i.compare(Sfe)&&(i=new yh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=mz(e),[r,i]=yz(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new LN(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const n=mz(e),[r,i]=yz(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Tv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Av{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Av(Xe.min(),i,new jn(_t),$s(),Tt())}}class Cv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cv(r,n,Tt(),Tt(),Tt())}}class GI{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class _z{constructor(e,n){this.targetId=e,this.me=n}}class vz{constructor(e,n,r=ii.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bz{constructor(){this.fe=0,this.ge=Ez(),this.pe=ii.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Tt(),n=Tt(),r=Tt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge()}}),new Cv(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Ez()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Pfe{constructor(e){this.Le=e,this.Be=new Map,this.ke=$s(),this.qe=wz(),this.Qe=new jn(_t)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(VI(s))if(0===r){const o=new xe(s.path);this.Ue(n,o,Wn.newNoDocument(o,Xe.min()))}else Je(1===r);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;0!==u&&(this.je(n),this.Qe=this.Qe.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=fl(r).toUint8Array()}catch(u){if(u instanceof TG)return Bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new LN(o,i,s)}catch(u){return Bs(u instanceof Tv?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&VI(a.target)){const u=new xe(a.target.path);null!==this.ke.get(u)||this.it(o,u)||this.Ue(o,u,Wn.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Tt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Je(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Av(e,n,this.Qe,this.ke,r);return this.ke=$s(),this.qe=wz(),this.Qe=new jn(_t),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new bz,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new In(_t),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||be("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bz),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function wz(){return new jn(xe.comparator)}function Ez(){return new jn(xe.comparator)}const Nfe={asc:"ASCENDING",desc:"DESCENDING"},Rfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kfe={and:"AND",or:"OR"};class xfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jN(t,e){return t.useProto3Json||cv(e)?e:{value:e}}function yg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mfe(t,e){return yg(t,e.toTimestamp())}function Or(t){return Je(!!t),Xe.fromTimestamp(function(n){const r=hl(n);return new tr(r.seconds,r.nanos)}(t))}function UN(t,e){return BN(t,e).canonicalString()}function BN(t,e){const n=(i=t,new Wt(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function Tz(t){const e=Wt.fromString(t);return Je(Oz(e)),e}function Dv(t,e){return UN(t.databaseId,e.path)}function _u(t,e){const n=Tz(e);if(n.get(1)!==t.databaseId.projectId)throw new me(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(Dz(n))}function Az(t,e){return UN(t.databaseId,e)}function Cz(t){const e=Tz(t);return 4===e.length?Wt.emptyPath():Dz(e)}function HN(t){return new Wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dz(t){return Je(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Sz(t,e,n){return{name:Dv(t,e),fields:n.value.mapValue.fields}}function Pz(t,e,n){const r=_u(t,e.name),i=Or(e.updateTime),s=e.createTime?Or(e.createTime):Xe.min(),o=new Pi({mapValue:{fields:e.fields}}),a=Wn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Sv(t,e){let n;if(e instanceof gg)n={update:Sz(t,e.key,e.value)};else if(e instanceof mg)n={delete:Dv(t,e.key)};else if(e instanceof ml)n={update:Sz(t,e.key,e.data),updateMask:Hfe(e.fieldMask)};else{if(!(e instanceof MN))return Ge();n={verify:Dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof fg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ih)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Th)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pg)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ge()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Mfe(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ge()),n;var s}function $N(t,e){const n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?nr.updateTime(Or(s.updateTime)):void 0!==s.exists?nr.exists(s.exists):nr.none():nr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;"setToServerValue"in a?(Je("REQUEST_TIME"===a.setToServerValue),u=new fg):"appendMissingElements"in a?u=new Ih(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Th(a.removeAllFromArray.values||[]):"increment"in a?u=new pg(o,a.increment):Ge();const l=qn.fromServerFormat(a.fieldPath);return new Ev(l,u)}(t,i)):[];var s;if(e.update){const i=_u(t,e.update.name),s=new Pi({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Hs((e.updateMask.fieldPaths||[]).map(d=>qn.fromServerFormat(d)));return new ml(i,s,o,n,r)}return new gg(i,s,n,r)}if(e.delete){const i=_u(t,e.delete);return new mg(i,n)}if(e.verify){const i=_u(t,e.verify);return new MN(i,n)}return Ge()}function Nz(t,e){return{documents:[Az(t,e.path)]}}function zI(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Az(t,i);const s=function(l){if(0!==l.length)return Mz(wn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(0!==l.length)return l.map(d=>{return{field:Bc((y=d).field),direction:jfe(y.dir)};var y})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jN(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i};var l}function kz(t){let e=Cz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(1===r);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(g){const y=xz(g);return y instanceof wn&&SN(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(y=>{return new mv(_g((E=y).field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;n.limit&&(a=function(g){let y;return y="object"==typeof g?g.value:g,cv(y)?null:y}(n.limit));let u=null;var g;n.startAt&&(u=new Uc((g=n.startAt).values||[],!!g.before));let l=null;return n.endAt&&(l=function(g){return new Uc(g.values||[],!g.before)}(n.endAt)),$G(e,i,o,s,a,"F",u,l)}function xz(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_g(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_g(n.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_g(n.unaryFilter.field);return Kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_g(n.unaryFilter.field);return Kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(t):void 0!==t.fieldFilter?Kt.create(_g((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return wn.create(n.compositeFilter.filters.map(r=>xz(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge()}}(n.compositeFilter.op))}(t):Ge();var n}function jfe(t){return Nfe[t]}function Ufe(t){return Rfe[t]}function Bfe(t){return kfe[t]}function Bc(t){return{fieldPath:t.canonicalString()}}function _g(t){return qn.fromServerFormat(t.fieldPath)}function Mz(t){return t instanceof Kt?function(n){if("=="===n.op){if(DG(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NAN"}};if(CG(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(DG(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NOT_NAN"}};if(CG(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(n.field),op:Ufe(n.op),value:n.value}}}(t):t instanceof wn?function(n){const r=n.getFilters().map(i=>Mz(i));return 1===r.length?r[0]:{compositeFilter:{op:Bfe(n.op),filters:r}}}(t):Ge()}function Hfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Oz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class yl{constructor(e,n,r,i,s=Xe.min(),o=Xe.min(),a=ii.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fz{constructor(e){this.ct=e}}function Vz(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:qI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Dv(s=t.ct,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:yg(s,o.version.toTimestamp()),createTime:yg(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ah(e.version)};else{if(!e.isUnknownDocument())return Ge();r.unknownDocument={path:n.path.toArray(),version:Ah(e.version)}}var s,o;return r}function qI(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ah(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ch(t){const e=new tr(t.seconds,t.nanoseconds);return Xe.fromTimestamp(e)}function Dh(t,e){const n=(e.baseMutations||[]).map(s=>$N(t.ct,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>$N(t.ct,s)),i=tr.fromMillis(e.localWriteTimeMs);return new ON(e.batchId,i,n,r)}function Pv(t){const e=Ch(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Ch(t.lastLimboFreeSnapshotVersion):Xe.min();let r;return r=void 0!==t.query.documents?(Je(1===(s=t.query).documents.length),Gi(cg(Cz(s.documents[0])))):function(s){return Gi(kz(s))}(t.query),new yl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ii.fromBase64String(t.resumeToken));var s}function Lz(t,e){const n=Ah(e.snapshotVersion),r=Ah(e.lastLimboFreeSnapshotVersion);let i;i=VI(e.target)?Nz(t.ct,e.target):zI(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Eh(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function GN(t){const e=kz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?jI(e,e.limit,"L"):e}function zN(t,e){return new VN(e.largestBatchId,$N(t.ct,e.overlayMutation))}function jz(t,e){const n=e.path.lastSegment();return[t,$i(e.path.popLast()),n]}function Uz(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ah(r.readTime),documentKey:$i(r.documentKey.path),largestBatchId:r.largestBatchId}}class Gfe{getBundleMetadata(e,n){return Bz(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Ch(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return Bz(e).put({bundleId:(i=n).id,createTime:Ah(Or(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return Hz(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:GN(s.bundledQuery),readTime:Ch(s.readTime)};var s})}saveNamedQuery(e,n){return Hz(e).put({name:(i=n).name,readTime:Ah(Or(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Bz(t){return yi(t,"bundles")}function Hz(t){return yi(t,"namedQueries")}class WI{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new WI(e,n.uid||"")}getOverlay(e,n){return Nv(e).get(jz(this.userId,n)).next(r=>r?zN(this.serializer,r):null)}getOverlays(e,n){const r=yu();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new VN(n,o);i.push(this.ht(e,a))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add($i(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Nv(e).j("collectionPathOverlayIndex",a))}),z.waitFor(s)}getOverlaysForCollection(e,n,r){const i=yu(),s=$i(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Nv(e).U("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=zN(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=yu();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Nv(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,d)=>{const g=zN(this.serializer,l);s.size()<i||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return Nv(e).put(function(i,s,o){const[a,u,l]=jz(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Sv(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Nv(t){return yi(t,"documentOverlays")}class Sh{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(br(e.integerValue));else if("doubleValue"in e){const r=br(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),dv(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),"string"==typeof r&&(r=hl(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(fl(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?SG(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Ge()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),xe.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function zfe(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function $z(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=zfe(255&r[s]);if(i+=o,8!==o)break}return i}(t);return Math.ceil(e/8)}Sh.bt=new Sh;class qfe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=$z(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=$z(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Wfe{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Kfe{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Rv{constructor(){this.Gt=new qfe,this.zt=new Wfe(this.Gt),this.jt=new Kfe(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Ph{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ph(this.indexId,this.documentKey,this.arrayValue,r)}}function Hc(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Gz(t.arrayValue,e.arrayValue),0!==n?n:(n=Gz(t.directionalValue,e.directionalValue),0!==n?n:xe.comparator(t.documentKey,e.documentKey)))}function Gz(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class zz{constructor(e){this.Yt=new In((n,r)=>qn.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Je(e.collectionGroup===this.collectionId),this.en)return!1;const n=bN(e);if(void 0!==n&&!this.nn(n))return!1;const r=_h(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.rn(a,u)||!this.sn(this.Zt[o++],u))return!1}++s}for(;s<r.length;++s)if(o>=this.Zt.length||!this.sn(this.Zt[o++],r[s]))return!1;return!0}on(){if(this.en)return null;let e=new In(qn.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new vh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new vh(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new vh(r.field,"asc"===r.dir?0:1)));return new sg(sg.UNKNOWN_ID,this.collectionId,n,og.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function qz(t){var e,n;if(Je(t instanceof Kt||t instanceof wn),t instanceof Kt){if(t instanceof UG){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(s=>Kt.create(t.field,"==",s)))||[];return wn.create(i,"or")}return t}const r=t.filters.map(i=>qz(i));return wn.create(r,t.op)}function Qfe(t){if(0===t.getFilters().length)return[];const e=KN(qz(t));return Je(Wz(e)),qN(e)||WN(e)?[e]:e.getFilters()}function qN(t){return t instanceof Kt}function WN(t){return t instanceof wn&&SN(t)}function Wz(t){return qN(t)||WN(t)||function(n){if(n instanceof wn&&DN(n)){for(const r of n.getFilters())if(!qN(r)&&!WN(r))return!1;return!0}return!1}(t)}function KN(t){if(Je(t instanceof Kt||t instanceof wn),t instanceof Kt)return t;if(1===t.filters.length)return KN(t.filters[0]);const e=t.filters.map(r=>KN(r));let n=wn.create(e,t.op);return n=KI(n),Wz(n)?n:(Je(n instanceof wn),Je(lg(n)),Je(n.filters.length>1),n.filters.reduce((r,i)=>QN(r,i)))}function QN(t,e){let n;return Je(t instanceof Kt||t instanceof wn),Je(e instanceof Kt||e instanceof wn),n=t instanceof Kt?e instanceof Kt?wn.create([t,e],"and"):Kz(t,e):e instanceof Kt?Kz(e,t):function(i,s){if(Je(i.filters.length>0&&s.filters.length>0),lg(i)&&lg(s))return VG(i,s.getFilters());const o=DN(i)?i:s,a=DN(i)?s:i,u=o.filters.map(l=>QN(l,a));return wn.create(u,"or")}(t,e),KI(n)}function Kz(t,e){if(lg(e))return VG(e,t.getFilters());{const n=e.filters.map(r=>QN(t,r));return wn.create(n,"or")}}function KI(t){if(Je(t instanceof Kt||t instanceof wn),t instanceof Kt)return t;const e=t.getFilters();if(1===e.length)return KI(e[0]);if(OG(t))return t;const n=e.map(i=>KI(i)),r=[];return n.forEach(i=>{i instanceof Kt?r.push(i):i instanceof wn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:wn.create(r,t.op)}class Jfe{constructor(){this._n=new JN}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(po.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(po.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class JN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new In(Wt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new In(Wt.comparator)).toArray()}}const QI=new Uint8Array(0);class Yfe{constructor(e,n){this.databaseId=n,this.an=new JN,this.un=new gl(r=>Eh(r),(r,i)=>yv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:$i(i)};return Qz(e).put(s)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[sG(n),""],!1,!0);return Qz(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(gu(o.parent))}return r})}addFieldIndex(e,n){const r=kv(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const s=r.add(i);if(n.indexState){const o=bg(e);return s.next(a=>{o.put(Uz(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=kv(e),i=bg(e),s=vg(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=kv(e),r=vg(e),i=bg(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return z.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new zz(r).on();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=vg(e);let i=!0;const s=new Map;return z.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Tt();const a=[];return z.forEach(s,(u,l)=>{var L;be("IndexedDbIndexManager",`Using index ${L=u,`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`} to execute ${Eh(n)}`);const d=function(L,Q){const Ee=bN(Q);if(void 0===Ee)return null;for(const Ce of LI(L,Ee.fieldPath))switch(Ce.op){case"array-contains-any":return Ce.value.arrayValue.values||[];case"array-contains":return[Ce.value]}return null}(l,u),g=function(L,Q){const Ee=new Map;for(const Ce of _h(Q))for(const x of LI(L,Ce.fieldPath))switch(x.op){case"==":case"in":Ee.set(Ce.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return Ee.set(Ce.fieldPath.canonicalString(),x.value),Array.from(Ee.values())}return null}(l,u),y=function(L,Q){const Ee=[];let Ce=!0;for(const x of _h(Q)){const D=0===x.kind?BG(L,x.fieldPath,L.startAt):HG(L,x.fieldPath,L.startAt);Ee.push(D.value),Ce&&(Ce=D.inclusive)}return new Uc(Ee,Ce)}(l,u),v=function(L,Q){const Ee=[];let Ce=!0;for(const x of _h(Q)){const D=0===x.kind?HG(L,x.fieldPath,L.endAt):BG(L,x.fieldPath,L.endAt);Ee.push(D.value),Ce&&(Ce=D.inclusive)}return new Uc(Ee,Ce)}(l,u),E=this.hn(u,l,y),T=this.hn(u,l,v),C=this.Pn(u,l,g),k=this.In(u.indexId,d,E,y.inclusive,T,v.inclusive,C);return z.forEach(k,R=>r.G(R,n.limit).next(L=>{L.forEach(Q=>{const Ee=xe.fromSegments(Q.documentKey);o.has(Ee)||(o=o.add(Ee),a.push(Ee))})}))}).next(()=>a)}return z.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Qfe(wn.create(e.filters,"and")).map(r=>NN(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const u=(null!=n?n.length:1)*Math.max(r.length,s.length),l=u/(null!=n?n.length:1),d=[];for(let g=0;g<u;++g){const y=n?this.Tn(n[g/l]):QI,v=this.En(e,y,r[g%l],i),E=this.dn(e,y,s[g%l],o),T=a.map(C=>this.En(e,y,C,!0));d.push(...this.createRange(v,E,T))}return d}En(e,n,r,i){const s=new Ph(e,xe.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Ph(e,xe.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new zz(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return z.forEach(i,s=>this.ln(e,s).next(o=>{o?0!==r&&o.fields.length<function(u){let l=new In(qn.comparator),d=!1;for(const g of u.filters)for(const y of g.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?d=!0:l=l.add(y.field));for(const g of u.orderBy)g.field.isKeyField()||(l=l.add(g.field));return l.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}An(e,n){const r=new Rv;for(const i of _h(e)){const s=n.data.field(i.fieldPath);if(null==s)return null;const o=r.Ht(i.kind);Sh.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new Rv;return Sh.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Rv;return Sh.bt.Pt(wh(this.databaseId,n),r.Ht(function(s){const o=_h(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(null===r)return[];let i=[];i.push(new Rv);let s=0;for(const o of _h(e)){const a=r[s++];for(const u of i)if(this.Vn(n,o.fieldPath)&&pv(a))i=this.mn(i,o,a);else{const l=u.Ht(o.kind);Sh.bt.Pt(a,l)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Rv;u.seed(a.Wt()),Sh.bt.Pt(o,u.Ht(n.kind)),s.push(u)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Kt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=kv(e),i=bg(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return z.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(d,g){const y=g?new og(g.sequenceNumber,new po(Ch(g.readTime),new xe(gu(g.documentKey)),g.largestBatchId)):og.empty(),v=d.fields.map(([E,T])=>new vh(qn.fromServerFormat(E),T));return new sg(d.indexId,d.collectionGroup,v,y)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:_t(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=kv(e),s=bg(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>z.forEach(a,u=>s.put(Uz(u.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?z.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),z.forEach(a,u=>this.pn(e,i,u).next(l=>{const d=this.yn(s,u);return l.isEqual(d)?z.resolve():this.wn(e,s,u,l,d)}))))})}Sn(e,n,r,i){return vg(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return vg(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=vg(e);let s=new In(Hc);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Ph(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new In(Hc);const i=this.An(n,e);if(null==i)return r;const s=bN(n);if(null!=s){const o=e.data.field(s.fieldPath);if(pv(o))for(const a of o.arrayValue.values||[])r=r.add(new Ph(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ph(n.indexId,e.key,QI,i));return r}wn(e,n,r,i,s){be("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,l,d,g,y){const v=u.getIterator(),E=l.getIterator();let T=ag(v),C=ag(E);for(;T||C;){let k=!1,R=!1;if(T&&C){const L=d(T,C);L<0?R=!0:L>0&&(k=!0)}else null!=T?R=!0:k=!0;k?(g(C),C=ag(E)):R?(y(T),T=ag(v)):(T=ag(v),C=ag(E))}}(i,s,Hc,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),z.waitFor(o)}gn(e){let n=1;return bg(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Hc(o,a)).filter((o,a,u)=>!a||0!==Hc(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=Hc(o,e),u=Hc(o,n);if(0===a)i[0]=e.Jt();else if(a>0&&u<0)i.push(o),i.push(o.Jt());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,QI,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,QI,[]]))}return s}Dn(e,n){return Hc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Jz)}getMinOffset(e,n){return z.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Ge())).next(Jz)}}function Qz(t){return yi(t,"collectionParents")}function vg(t){return yi(t,"indexEntries")}function kv(t){return yi(t,"indexConfiguration")}function bg(t){return yi(t,"indexState")}function Jz(t){Je(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;wN(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new po(e.readTime,e.documentKey,n)}const Yz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xz(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.J({range:o},(d,g,y)=>(a++,y.delete()));s.push(u.next(()=>{Je(1===a)}));const l=[];for(const d of n.mutations){const g=gG(e,d.key.path,n.batchId);s.push(i.delete(g)),l.push(d.key)}return z.waitFor(s).next(()=>l)}function JI(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ge();e=t.noDocument}return JSON.stringify(e).length}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class YI{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Je(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new YI(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $c(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=wg(e),o=$c(e);return o.add({}).next(a=>{Je("number"==typeof a);const u=new ON(a,n,r,i),l=function(v,E,T){const C=T.baseMutations.map(R=>Sv(v.ct,R)),k=T.mutations.map(R=>Sv(v.ct,R));return{userId:E,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:C,mutations:k}}(this.serializer,this.userId,u),d=[];let g=new In((y,v)=>_t(y.canonicalString(),v.canonicalString()));for(const y of i){const v=gG(this.userId,y.key.path,a);g=g.add(y.key.path.popLast()),d.push(o.put(l)),d.push(s.put(v,Uhe))}return g.forEach(y=>{d.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Cn[a]=u.keys()}),z.waitFor(d).next(()=>u)})}lookupMutationBatch(e,n){return $c(e).get(n).next(r=>r?(Je(r.userId===this.userId),Dh(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?z.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return $c(e).J({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(Je(a.batchId>=r),s=Dh(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $c(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $c(e).U("userMutationsIndex",n).next(r=>r.map(i=>Dh(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=NI(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return wg(e).J({range:i},(o,a,u)=>{const[l,d,g]=o,y=gu(d);if(l===this.userId&&n.path.isEqual(y))return $c(e).get(g).next(v=>{if(!v)throw Ge();Je(v.userId===this.userId),s.push(Dh(this.serializer,v))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new In(_t);const i=[];return n.forEach(s=>{const o=NI(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=wg(e).J({range:a},(l,d,g)=>{const[y,v,E]=l,T=gu(v);y===this.userId&&s.path.isEqual(T)?r=r.add(E):g.done()});i.push(u)}),z.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=NI(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new In(_t);return wg(e).J({range:o},(u,l,d)=>{const[g,y,v]=u,E=gu(y);g===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(v)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push($c(e).get(s).next(o=>{if(null===o)throw Ge();Je(o.userId===this.userId),r.push(Dh(this.serializer,o))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Xz(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return wg(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=gu(s[1]);i.push(u)}else a.done()}).next(()=>{Je(0===i.length)})})}containsKey(e,n){return Zz(e,this.userId,n)}xn(e){return e5(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Zz(t,e,n){const r=NI(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return wg(t).J({range:s,H:!0},(a,u,l)=>{const[d,g,y]=a;d===e&&g===i&&(o=!0),l.done()}).next(()=>o)}function $c(t){return yi(t,"mutations")}function wg(t){return yi(t,"documentMutations")}function e5(t){return yi(t,"mutationQueues")}class Nh{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Nh(0)}static Ln(){return new Nh(-1)}}class Xfe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Nh(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Xe.fromTimestamp(new tr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Eg(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Je(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Eg(e).J((o,a)=>{const u=Pv(a);u.sequenceNumber<=n&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>z.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Eg(e).J((r,i)=>{const s=Pv(i);n(s)})}Bn(e){return t5(e).get("targetGlobalKey").next(n=>(Je(null!==n),n))}kn(e,n){return t5(e).put("targetGlobalKey",n)}qn(e,n){return Eg(e).put(Lz(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Eh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Eg(e).J({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=Pv(a);yv(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Gc(e);return n.forEach(o=>{const a=$i(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=Gc(e);return z.forEach(n,s=>{const o=$i(s.path);return z.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Gc(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Gc(e);let s=Tt();return i.J({range:r,H:!0},(o,a,u)=>{const l=gu(o[1]),d=new xe(l);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=$i(n.path),i=IDBKeyRange.bound([r],[sG(r)],!1,!0);let s=0;return Gc(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],u,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}ot(e,n){return Eg(e).get(n).next(r=>r?Pv(r):null)}}function Eg(t){return yi(t,"targets")}function t5(t){return yi(t,"targetGlobal")}function Gc(t){return yi(t,"targetDocuments")}function n5([t,e],[n,r]){const i=_t(t,n);return 0===i?_t(e,r):i}class Zfe{constructor(e){this.Kn=e,this.buffer=new In(n5),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();n5(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,re.A)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Mc(r)?be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield xc(r)}yield n.zn(3e5)}))}}class epe{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return z.resolve(go.oe);const r=new Zfe(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Yz)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yz):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,u,l;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),rg()<=fu.$b.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-d}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${g} documents in `+(l-u)+`ms\nTotal Duration: ${l-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}class tpe{constructor(e,n){this.db=e,this.garbageCollector=function i5(t,e){return new epe(t,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return XI(e,r)}removeReference(e,n,r){return XI(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return XI(e,n)}er(e,n){return function(i,s){let o=!1;return e5(i).Y(a=>Zz(i,a,s).next(u=>(u&&(o=!0),z.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const u=this.er(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Xe.min()),Gc(e).delete([0,$i(o.path)])))});i.push(u)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return XI(e,n)}Xn(e,n){const r=Gc(e);let i,s=go.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{0===o?(s!==go.oe&&n(new xe(gu(i)),s),s=l,i=u):s=go.oe}).next(()=>{s!==go.oe&&n(new xe(gu(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function XI(t,e){return Gc(t).put((i=t.currentSequenceNumber,{targetId:0,path:$i(e.path),sequenceNumber:i}));var i}class s5{constructor(){this.changes=new gl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class npe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Rh(e).put(r)}removeEntry(e,n,r){return Rh(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],qI(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Wn.newInvalidDocument(n);return Rh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(xv(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Wn.newInvalidDocument(n)};return Rh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(xv(n))},(i,s)=>{r={document:this.nr(n,s),size:JI(s)}}).next(()=>r)}getEntries(e,n){let r=$s();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=$s(),i=new jn(xe.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,JI(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return z.resolve();let i=new In(l5);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(xv(i.first()),xv(i.last())),o=i.getIterator();let a=o.getNext();return Rh(e).J({index:"documentKeyIndex",range:s},(u,l,d)=>{const g=xe.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&l5(a,g)<0;)r(a,null),a=o.getNext();a&&a.isEqual(g)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?d.$(xv(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),qI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rh(e).U(IDBKeyRange.bound(a,u,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let d=$s();for(const g of l){const y=this.nr(xe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);y.isFoundDocument()&&(vv(n,y)||i.has(y.key))&&(d=d.insert(y.key,y))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=$s();const o=u5(n,r),a=u5(n,po.max());return Rh(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,d)=>{const g=this.nr(xe.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(g.key,g),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new rpe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return a5(e).get("remoteDocumentGlobalKey").next(n=>(Je(!!n),n))}tr(e,n){return a5(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=function $fe(t,e){let n;if(e.document)n=Pz(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=xe.fromSegments(e.noDocument.path),i=Ch(e.noDocument.readTime);n=Wn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ge();{const r=xe.fromSegments(e.unknownDocument.path),i=Ch(e.unknownDocument.version);n=Wn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new tr(i[0],i[1]);return Xe.fromTimestamp(s)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Xe.min()))return r}return Wn.newInvalidDocument(e)}}function o5(t){return new npe(t)}class rpe extends s5{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new gl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new In((s,o)=>_t(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=Vz(this.ar.serializer,o);i=i.add(s.path.popLast());const l=JI(u);r+=l-a.size,n.push(this.ar.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=Vz(this.ar.serializer,o.convertToNoDocument(Xe.min()));n.push(this.ar.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function a5(t){return yi(t,"remoteDocumentGlobal")}function Rh(t){return yi(t,"remoteDocumentsV14")}function xv(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function u5(t,e){const n=e.documentKey.path.toArray();return[t,qI(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function l5(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=_t(n[s],r[s]),i)return i;return i=_t(n.length,r.length),i||(i=_t(n[n.length-2],r[r.length-2]),i||_t(n[n.length-1],r[r.length-1]))}class ipe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class c5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Iv(r.mutation,i,Hs.empty(),tr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const i=yu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bv();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=yu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$s();const o=wv(),a=wv();return n.forEach((u,l)=>{const d=r.get(l.key);i.has(l.key)&&(void 0===d||d.mutation instanceof ml)?s=s.insert(l.key,l):void 0!==d?(o.set(l.key,d.mutation.getFieldMask()),Iv(d.mutation,l,d.mutation.getFieldMask(),tr.now())):o.set(l.key,Hs.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var g;return a.set(l,new ipe(d,null!==(g=o.get(l))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wv();let i=new jn((o,a)=>o-a),s=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let d=r.get(u)||Hs.empty();d=a.applyToLocalView(l,d),r.set(u,d);const g=(i.get(a.batchId)||Tt()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,d=u.value,g=XG();d.forEach(y=>{if(!s.has(y)){const v=az(n.get(y),r.get(y));null!==v&&g.set(y,v),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return xe.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):RN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(yu());let a=-1,u=s;return o.next(l=>z.forEach(l,(d,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{u=u.insert(d,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Tt())).next(d=>({batchId:a,changes:YG(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=bv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bv();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,u=>{const l=(g=n,y=u.child(s),new pl(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,y;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const d=l.getKey();null===o.get(d)&&(o=o.insert(d,Wn.newInvalidDocument(d)))});let a=bv();return o.forEach((u,l)=>{const d=s.get(u);void 0!==d&&Iv(d.mutation,l,Hs.empty(),tr.now()),vv(n,l)&&(a=a.insert(u,l))}),a})}}class spe{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Or(i.createTime)}),z.resolve();var i}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:GN(i.bundledQuery),readTime:Or(i.readTime)}),z.resolve();var i}}class ope{constructor(){this.overlays=new jn(xe.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yu();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=yu(),s=n.length+1,o=new xe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new jn((l,d)=>l-d);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);null===d&&(d=yu(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=yu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new VN(n,r));let s=this.hr.get(n);void 0===s&&(s=Tt(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}class YN{constructor(){this.Pr=new In(_i.Ir),this.Tr=new In(_i.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new _i(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new _i(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new xe(new Wt([])),r=new _i(n,e),i=new _i(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new xe(new Wt([])),r=new _i(n,e),i=new _i(n,e+1);let s=Tt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _i(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class _i{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return xe.comparator(e.key,n.key)||_t(e.pr,n.pr)}static Er(e,n){return _t(e.pr,n.pr)||xe.comparator(e.key,n.key)}}class ape{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new In(_i.Ir)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++;const o=new ON(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new _i(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _i(n,0),i=new _i(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new In(_t);return n.forEach(i=>{const s=new _i(i,0),o=new _i(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;xe.isDocumentKey(s)||(s=s.child(""));const o=new _i(new xe(s),0);let a=new In(_t);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),z.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Je(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new _i(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new _i(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return z.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class upe{constructor(e){this.vr=e,this.docs=new jn(xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=$s();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$s();const o=n.path,a=new xe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:d}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||wN(aG(d),r)<=0||(i.has(d.key)||vv(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ge()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lpe(this)}getSize(e){return z.resolve(this.size)}}class lpe extends s5{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class cpe{constructor(e){this.persistence=e,this.Mr=new gl(n=>Eh(n),yv),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new YN,this.targetCount=0,this.Lr=Nh.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Nh(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}class XN{constructor(e,n){this.Br={},this.overlays={},this.kr=new go(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new cpe(this),this.indexManager=new Jfe,this.remoteDocumentCache=new upe(r=>this.referenceDelegate.Kr(r)),this.serializer=new Fz(n),this.$r=new spe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ope,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ape(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const i=new dpe(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class dpe extends lG{constructor(e){super(),this.currentSequenceNumber=e}}class ZI{constructor(e){this.persistence=e,this.zr=new YN,this.jr=null}static Hr(e){return new ZI(e)}get Jr(){if(this.jr)return this.jr;throw Ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=xe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Xe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class hpe{constructor(e){this.serializer=e}O(e,n,r,i){const s=new PI("createOrUpgrade",n);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pG,{unique:!0}),u.createObjectStore("documentMutations"),d5(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=z.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),d5(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xe.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,l){return l.store("mutations").U().next(d=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pG,{unique:!0});const g=l.store("mutations"),y=d.map(v=>g.put(v));return z.waitFor(y)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const l=u.createObjectStore("documentOverlays",{keyPath:Xhe});l.createIndex("collectionPathOverlayIndex",Zhe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",efe,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:Bhe});l.createIndex("documentKeyIndex",Hhe),l.createIndex("collectionGroupIndex",$he)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:Khe}).createIndex("sequenceNumberIndex",Qhe,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Jhe}).createIndex("documentKeyIndex",Yhe,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=JI(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>z.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>z.forEach(a,u=>{Je(u.userId===s.userId);const l=Dh(this.serializer,u);return Xz(e,s.userId,l).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const u=new Wt(o),l=[0,$i(u)];s.push(n.get(l).next(d=>d?z.resolve():n.put({targetId:0,path:$i(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>z.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Whe});const r=n.store("collectionParents"),i=new JN,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:$i(u)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const u=new Wt(o);return s(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,u],l)=>{const d=gu(a);return s(d.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const s=Pv(i),o=Lz(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),u=(g=o,g.document?new xe(Wt.fromString(g.document.name).popFirst(5)):g.noDocument?xe.fromSegments(g.noDocument.path):g.unknownDocument?xe.fromSegments(g.unknownDocument.path):Ge()).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var g;i.push(a.put(l))}).next(()=>z.waitFor(i))}si(e,n){const r=n.store("mutations"),i=o5(this.serializer),s=new XN(ZI.Hr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(u=>{var l;let d=null!==(l=a.get(u.userId))&&void 0!==l?l:Tt();Dh(this.serializer,u).keys().forEach(g=>d=d.add(g)),a.set(u.userId,d)}),z.forEach(a,(u,l)=>{const d=new mi(l),g=WI.lt(this.serializer,d),y=s.getIndexManager(d),v=YI.lt(d,this.serializer,y,s.referenceDelegate);return new c5(i,v,g,y).recalculateAndSaveOverlaysForDocumentKeys(new TN(n,go.oe),u).next()})})}}function d5(t){t.createObjectStore("targetDocuments",{keyPath:zhe}).createIndex("documentTargetsIndex",qhe,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ghe,{unique:!0}),t.createObjectStore("targetGlobal")}const ZN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eR{constructor(e,n,r,i,s,o,a,u,l,d,g=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=l,this.ai=d,this.ui=g,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=y=>Promise.resolve(),!eR.D())throw new me(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tpe(this,i),this.Ti=n+"main",this.serializer=new Fz(u),this.Ei=new pu(this.Ti,this.ui,new hpe(this.serializer)),this.Qr=new Xfe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=o5(this.serializer),this.$r=new Gfe,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===d&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(Y.FAILED_PRECONDITION,ZN);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new go(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var r=(0,re.A)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,re.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,re.A)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Mc(e))return be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Mv(e).get("owner").next(n=>z.resolve(this.Si(n)))}bi(e){return tT(e).delete(this.clientId)}Di(){var e=this;return(0,re.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=yi(r,"clientMetadata");return i.U().next(s=>{const o=e.vi(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return z.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of n)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?z.resolve(!0):Mv(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new me(Y.FAILED_PRECONDITION,ZN);return!1}}return!(!this.networkEnabled||!this.inForeground)||tT(e).U().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&be("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,re.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new TN(n,go.oe);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>tT(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return YI.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yfe(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return WI.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){be("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",s=16===(u=this.ui)?nfe:15===u?vG:14===u?_G:13===u?yG:12===u?tfe:11===u?mG:void Ge();var u;let o;return this.Ei.runTransaction(e,i,s,a=>(o=new TN(a,this.kr?this.kr.next():go.oe),"readwrite-primary"===n?this.gi(o).next(u=>!!u||this.pi(o)).next(u=>{if(!u)throw Mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new me(Y.FAILED_PRECONDITION,uG);return r(o)}).next(u=>this.wi(o).next(()=>u)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Mv(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new me(Y.FAILED_PRECONDITION,ZN)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mv(e).put("owner",n)}static D(){return pu.D()}yi(e){const n=Mv(e);return n.get("owner").next(r=>this.Si(r)?(be("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):z.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n||e>r&&(Mr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,Rt.nr)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Mr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Mr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mv(t){return yi(t,"owner")}function tT(t){return yi(t,"clientMetadata")}function tR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class nR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Tt(),i=Tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nR(e,n.fromCache,r,i)}}class fpe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class h5{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Rt.nr)()?8:cG((0,Rt.ZQ)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new fpe;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(rg()<=fu.$b.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",hg(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(rg()<=fu.$b.DEBUG&&be("QueryEngine","Query:",hg(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(rg()<=fu.$b.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",hg(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(n))):z.resolve())}ji(e,n){if(GG(n))return z.resolve(null);let r=Gi(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=jI(n,null,"F"),r=Gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Tt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(e,jI(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return GG(n)||i.isEqual(Xe.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?z.resolve(null):(rg()<=fu.$b.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hg(n)),this.es(e,o,n,oG(i,-1)).next(a=>a))})}Zi(e,n){let r=new In(QG(e));return n.forEach((i,s)=>{vv(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return rg()<=fu.$b.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",hg(n)),this.zi.getDocumentsMatchingQuery(e,n,po.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ppe{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new jn(_t),this.rs=new gl(s=>Eh(s),yv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c5(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function f5(t,e,n,r){return new ppe(t,e,n,r)}function p5(t,e){return rR.apply(this,arguments)}function rR(){return(rR=(0,re.A)(function*(t,e){const n=Pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Tt();for(const l of i){o.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}for(const l of s){a.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function g5(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function m5(t,e,n){let r=Tt(),i=Tt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$s();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Xe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function ype(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ig(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new yl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Tg(t,e,n){return iR.apply(this,arguments)}function iR(){return(iR=(0,re.A)(function*(t,e,n){const r=Pe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Mc(o))throw o;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})).apply(this,arguments)}function nT(t,e,n){const r=Pe(t);let i=Xe.min(),s=Tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,d){const g=Pe(u),y=g.rs.get(d);return void 0!==y?z.resolve(g.ns.get(y)):g.Qr.getTargetData(l,d)}(r,o,Gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Xe.min(),n?s:Tt())).next(a=>(v5(r,KG(e),a),{documents:a,hs:s})))}function y5(t,e){const n=Pe(t),r=Pe(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function _5(t,e){const n=Pe(t),r=n.ss.get(e)||Xe.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,oG(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(v5(n,e,i),i))}function v5(t,e,n){let r=t.ss.get(e)||Xe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}function sR(){return(sR=(0,re.A)(function*(t,e,n,r){const i=Pe(t);let s=Tt(),o=$s();for(const l of n){const d=e.Ps(l.metadata.name);l.document&&(s=s.add(d));const g=e.Is(l);g.setReadTime(e.Ts(l.metadata.readTime)),o=o.insert(d,g)}const a=i.os.newChangeBuffer({trackRemovals:!0}),u=yield Ig(i,(d=r,Gi(cg(Wt.fromString(`__bundle__/docs/${d}`)))));var d;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>m5(l,a,o).next(d=>(a.apply(l),d)).next(d=>i.Qr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Qr.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.cs,d.ls)).next(()=>d.cs)))})).apply(this,arguments)}function vpe(t,e){return oR.apply(this,arguments)}function oR(){return(oR=(0,re.A)(function*(t,e,n=Tt()){const r=yield Ig(t,Gi(GN(e.bundledQuery))),i=Pe(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Or(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(ii.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})})).apply(this,arguments)}function b5(t,e){return`firestore_clients_${t}_${e}`}function w5(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function aR(t,e){return`firestore_targets_${t}_${e}`}class rT{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new me(i.error.code,i.error.message))),o?new rT(e,n,i.state,s):(Mr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ov{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new me(r.error.code,r.error.message))),s?new Ov(e,r.state,i):(Mr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iT{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=xN();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=hG(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new iT(e,s):(Mr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class uR{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new uR(n.clientId,n.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class lR{constructor(){this.activeTargetIds=xN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cR{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new jn(_t),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=b5(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new lR),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,re.A)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Vs)continue;const s=e.getItem(b5(e.persistenceKey,i));if(s){const o=iT.Es(i,s);o&&(e.ps=e.ps.insert(o.clientId,o))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(aR(this.persistenceKey,e));if(r){const i=Ov.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(aR(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return be("SharedClientState","READ",e,n),n}setItem(e,n){be("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,re.A)(function*(){if(n.started){if(null!==r.key)if(n.bs.test(r.key)){if(null==r.newValue){const i=n.$s(r.key);return n.Us(i,null)}{const i=n.Ws(r.key,r.newValue);if(i)return n.Us(i.clientId,i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.Gs(r.key,r.newValue);if(i)return n.zs(i)}}else if(n.Cs.test(r.key)){if(null!==r.newValue){const i=n.js(r.key,r.newValue);if(i)return n.Hs(i)}}else if(r.key===n.vs){if(null!==r.newValue){const i=n.xs(r.newValue);if(i)return n.Os(i)}}else if(r.key===n.Ss){const i=function(o){let a=go.oe;if(null!=o)try{const u=JSON.parse(o);Je("number"==typeof u),a=u}catch(u){Mr("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==go.oe&&n.sequenceNumberHandler(i)}else if(r.key===n.Fs){const i=n.Js(r.newValue);yield Promise.all(i.map(s=>n.syncEngine.Ys(s)))}}else n.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new rT(this.currentUser,e,n,r),s=w5(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=w5(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,r){const i=aR(this.persistenceKey,e),s=new Ov(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return iT.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return rT.Es(new mi(void 0!==r[2]?r[2]:null),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return Ov.Es(i,n)}xs(e){return uR.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,re.A)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=xN();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class E5{constructor(){this.no=new lR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new lR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bpe{io(e){}shutdown(){}}class I5{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sT=null;function dR(){return null===sT?sT=268435456+Math.round(2147483648*Math.random()):sT++,"0x"+sT.toString(16)}const wpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Epe{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const qi="WebChannelConnection";class Ipe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=dR(),u=this.vo(n,r.toUriEncodedString());be("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,u,l,i).then(d=>(be("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Bs("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+ng,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){return`${this.wo}/v1/${r}:${wpe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=dR();return new Promise((o,a)=>{const u=new Q$;u.setWithCredentials(!0),u.listenOnce(Y$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case SI.NO_ERROR:const d=u.getResponseJson();be(qi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case SI.TIMEOUT:be(qi,`RPC '${e}' ${s} timed out`),a(new me(Y.DEADLINE_EXCEEDED,"Request time out"));break;case SI.HTTP_ERROR:const g=u.getStatus();if(be(qi,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const E=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(k)>=0?k:Y.UNKNOWN}(v.status);a(new me(E,v.message))}else a(new me(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new me(Y.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{be(qi,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);be(qi,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){const i=dR(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eG(),a=Z$(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new J$({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");be(qi,`Creating RPC '${e}' stream ${i}: ${d}`,u);const g=o.createWebChannel(d,u);let y=!1,v=!1;const E=new Epe({lo:C=>{v?be(qi,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(y||(be(qi,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),be(qi,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},ho:()=>g.close()}),T=(C,k,R)=>{C.listen(k,L=>{try{R(L)}catch(Q){setTimeout(()=>{throw Q},0)}})};return T(g,av.EventType.OPEN,()=>{v||(be(qi,`RPC '${e}' stream ${i} transport opened.`),E.mo())}),T(g,av.EventType.CLOSE,()=>{v||(v=!0,be(qi,`RPC '${e}' stream ${i} transport closed`),E.po())}),T(g,av.EventType.ERROR,C=>{v||(v=!0,Bs(qi,`RPC '${e}' stream ${i} transport errored:`,C),E.po(new me(Y.UNAVAILABLE,"The operation could not be completed")))}),T(g,av.EventType.MESSAGE,C=>{var k;if(!v){const R=C.data[0];Je(!!R);const Q=R.error||(null===(k=R[0])||void 0===k?void 0:k.error);if(Q){be(qi,`RPC '${e}' stream ${i} received error:`,Q);const Ee=Q.status;let Ce=function(M){const j=Wr[M];if(void 0!==j)return pz(j)}(Ee),x=Q.message;void 0===Ce&&(Ce=Y.INTERNAL,x="Unknown error status: "+Ee+" with message "+Q.message),v=!0,E.po(new me(Ce,x)),g.close()}else be(qi,`RPC '${e}' stream ${i} received:`,R),E.yo(R)}}),T(a,X$.STAT_EVENT,C=>{C.stat===_N.PROXY?be(qi,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===_N.NOPROXY&&be(qi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}}function T5(){return typeof window<"u"?window:null}function oT(){return typeof document<"u"?document:null}function Fv(t){return new xfe(t,!0)}class hR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class A5{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new hR(e,n)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,re.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,re.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){var r=this;return(0,re.A)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==e?r.Yo.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):n&&n.code===Y.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ao(n)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new me(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var e=this;this.state=5,this.Yo.$o((0,re.A)(function*(){e.state=0,e.start()}))}c_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tpe extends A5{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=function Ffe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ge(),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(Je(void 0===d||"string"==typeof d),ii.fromBase64String(d||"")):(Je(void 0===d||d instanceof Buffer||d instanceof Uint8Array),ii.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const d=void 0===l.code?Y.UNKNOWN:pz(l.code);return new me(d,l.message||"")}(o);n=new vz(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=_u(t,r.document.name),s=Or(r.document.updateTime),o=r.document.createTime?Or(r.document.createTime):Xe.min(),a=new Pi({mapValue:{fields:r.document.fields}}),u=Wn.newFoundDocument(i,s,o,a);n=new GI(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=_u(t,r.document),s=r.readTime?Or(r.readTime):Xe.min(),o=Wn.newNoDocument(i,s);n=new GI([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=_u(t,r.document);n=new GI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ge();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Dfe(i,s);n=new _z(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Xe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Xe.min():o.readTime?Or(o.readTime):Xe.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=HN(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=VI(u)?{documents:Nz(s,u)}:{query:zI(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Iz(s,o.resumeToken);const l=jN(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Xe.min())>0){a.readTime=yg(s,o.snapshotVersion.toTimestamp());const l=jN(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Lfe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=HN(this.serializer),n.removeTarget=e,this.i_(n)}}class Ape extends A5{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=function Vfe(t,e){return t&&t.length>0?(Je(void 0!==e),t.map(n=>function(i,s){let o=Or(i.updateTime?i.updateTime:s);return o.isEqual(Xe.min())&&(o=Or(s)),new Tfe(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.A_(r,n)}return Je(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=HN(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Sv(this.serializer,r))};this.i_(n)}}class Cpe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new me(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,BN(n,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(Y.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,BN(n,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(Y.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Dpe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Mr(n),this.y_=!1):be("OnlineStateTracker",n)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Spe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(a=>{r.enqueueAndForget((0,re.A)(function*(){var u;zc(o)&&(be("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,re.A)(function*(d){const g=Pe(d);g.M_.add(4),yield Ag(g),g.N_.set("Unknown"),g.M_.delete(4),yield Vv(g)}),function l(d){return u.apply(this,arguments)})(o))}))}),this.N_=new Dpe(r,i)}}function Vv(t){return fR.apply(this,arguments)}function fR(){return(fR=(0,re.A)(function*(t){if(zc(t))for(const e of t.x_)yield e(!0)})).apply(this,arguments)}function Ag(t){return pR.apply(this,arguments)}function pR(){return(pR=(0,re.A)(function*(t){for(const e of t.x_)yield e(!1)})).apply(this,arguments)}function aT(t,e){const n=Pe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),yR(n)?mR(n):Sg(n).Xo()&&gR(n,e))}function Cg(t,e){const n=Pe(t),r=Sg(n);n.F_.delete(e),r.Xo()&&C5(n,e),0===n.F_.size&&(r.Xo()?r.n_():zc(n)&&n.N_.set("Unknown"))}function gR(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sg(t).P_(e)}function C5(t,e){t.L_.xe(e),Sg(t).I_(e)}function mR(t){t.L_=new Pfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Sg(t).start(),t.N_.w_()}function yR(t){return zc(t)&&!Sg(t).Zo()&&t.F_.size>0}function zc(t){return 0===Pe(t).M_.size}function D5(t){t.L_=void 0}function Ppe(t){return _R.apply(this,arguments)}function _R(){return(_R=(0,re.A)(function*(t){t.N_.set("Online")})).apply(this,arguments)}function Npe(t){return vR.apply(this,arguments)}function vR(){return(vR=(0,re.A)(function*(t){t.F_.forEach((e,n)=>{gR(t,e)})})).apply(this,arguments)}function Rpe(t,e){return bR.apply(this,arguments)}function bR(){return(bR=(0,re.A)(function*(t,e){D5(t),yR(t)?(t.N_.D_(e),mR(t)):t.N_.set("Unknown")})).apply(this,arguments)}function kpe(t,e,n){return wR.apply(this,arguments)}function wR(){return wR=(0,re.A)(function*(t,e,n){if(t.N_.set("Online"),e instanceof vz&&2===e.state&&e.cause)try{yield(r=(0,re.A)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.F_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.F_.delete(u),s.L_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uT(t,r)}else if(e instanceof GI?t.L_.Ke(e):e instanceof _z?t.L_.He(e):t.L_.We(e),!n.isEqual(Xe.min()))try{const r=yield g5(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.F_.get(l);d&&s.F_.set(l,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const d=s.F_.get(u);if(!d)return;s.F_.set(u,d.withResumeToken(ii.EMPTY_BYTE_STRING,d.snapshotVersion)),C5(s,u);const g=new yl(d.target,u,l,d.sequenceNumber);gR(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){be("RemoteStore","Failed to raise snapshot:",r),yield uT(t,r)}var r}),wR.apply(this,arguments)}function uT(t,e,n){return ER.apply(this,arguments)}function ER(){return(ER=(0,re.A)(function*(t,e,n){if(!Mc(e))throw e;t.M_.add(1),yield Ag(t),t.N_.set("Offline"),n||(n=()=>g5(t.localStore)),t.asyncQueue.enqueueRetryable((0,re.A)(function*(){be("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Vv(t)}))})).apply(this,arguments)}function S5(t,e){return e().catch(n=>uT(t,n,e))}function Dg(t){return IR.apply(this,arguments)}function IR(){return(IR=(0,re.A)(function*(t){const e=Pe(t),n=qc(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;xpe(e);)try{const i=yield ype(e.localStore,r);if(null===i){0===e.v_.length&&n.n_();break}r=i.batchId,Mpe(e,i)}catch(i){yield uT(e,i)}P5(e)&&N5(e)})).apply(this,arguments)}function xpe(t){return zc(t)&&t.v_.length<10}function Mpe(t,e){t.v_.push(e);const n=qc(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function P5(t){return zc(t)&&!qc(t).Zo()&&t.v_.length>0}function N5(t){qc(t).start()}function Ope(t){return TR.apply(this,arguments)}function TR(){return(TR=(0,re.A)(function*(t){qc(t).V_()})).apply(this,arguments)}function Fpe(t){return AR.apply(this,arguments)}function AR(){return(AR=(0,re.A)(function*(t){const e=qc(t);for(const n of t.v_)e.d_(n.mutations)})).apply(this,arguments)}function Vpe(t,e,n){return CR.apply(this,arguments)}function CR(){return(CR=(0,re.A)(function*(t,e,n){const r=t.v_.shift(),i=FN.from(r,e,n);yield S5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Dg(t)})).apply(this,arguments)}function Lpe(t,e){return DR.apply(this,arguments)}function DR(){return DR=(0,re.A)(function*(t,e){var n;e&&qc(t).E_&&(yield(n=(0,re.A)(function*(i,s){if(fz(a=s.code)&&a!==Y.ABORTED){const o=i.v_.shift();qc(i).t_(),yield S5(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Dg(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),P5(t)&&N5(t)}),DR.apply(this,arguments)}function R5(t,e){return SR.apply(this,arguments)}function SR(){return(SR=(0,re.A)(function*(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=zc(n);n.M_.add(3),yield Ag(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Vv(n)})).apply(this,arguments)}function PR(t,e){return NR.apply(this,arguments)}function NR(){return(NR=(0,re.A)(function*(t,e){const n=Pe(t);e?(n.M_.delete(2),yield Vv(n)):e||(n.M_.add(2),yield Ag(n),n.N_.set("Unknown"))})).apply(this,arguments)}function Sg(t){return t.B_||(t.B_=function(n,r,i){const s=Pe(n);return s.f_(),new Tpe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Ppe.bind(null,t),To:Npe.bind(null,t),Ao:Rpe.bind(null,t),h_:kpe.bind(null,t)}),t.x_.push(function(){var e=(0,re.A)(function*(n){n?(t.B_.t_(),yR(t)?mR(t):t.N_.set("Unknown")):(yield t.B_.stop(),D5(t))});return function(n){return e.apply(this,arguments)}}())),t.B_}function qc(t){return t.k_||(t.k_=function(n,r,i){const s=Pe(n);return s.f_(),new Ape(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Ope.bind(null,t),Ao:Lpe.bind(null,t),R_:Fpe.bind(null,t),A_:Vpe.bind(null,t)}),t.x_.push(function(){var e=(0,re.A)(function*(n){n?(t.k_.t_(),yield Dg(t)):(yield t.k_.stop(),t.v_.length>0&&(be("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))});return function(n){return e.apply(this,arguments)}}())),t.k_}class RR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new RR(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),Mc(t))return new me(Y.UNAVAILABLE,`${e}: ${t}`);throw t}class Ng{constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=bv(),this.sortedSet=new jn(this.comparator)}static emptySet(e){return new Ng(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ng)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ng;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class k5{constructor(){this.q_=new jn(xe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(n,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(n):1===e.type&&2===r.type?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Ge():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Rg{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Rg(e,n,Ng.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_v(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class jpe{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Upe{constructor(){this.queries=new gl(e=>WG(e),_v),this.onlineState="Unknown",this.z_=new Set}}function kR(t,e){return xR.apply(this,arguments)}function xR(){return(xR=(0,re.A)(function*(t,e){const n=Pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new jpe,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){const a=Pg(o,`Initialization of query '${hg(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&FR(n)})).apply(this,arguments)}function MR(t,e){return OR.apply(this,arguments)}function OR(){return(OR=(0,re.A)(function*(t,e){const n=Pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),0===s.U_.length?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function Bpe(t,e){const n=Pe(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&FR(n)}function Hpe(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function FR(t){t.z_.forEach(e=>{e.next()})}var VR,x5;(x5=VR||(VR={})).J_="default",x5.Cache="cache";class LR{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Rg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Rg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==VR.Cache}}class $pe{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}class M5{constructor(e){this.serializer=e}Ps(e){return _u(this.serializer,e)}Is(e){return e.metadata.exists?Pz(this.serializer,e.document,!1):Wn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Or(e)}}class Gpe{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=O5(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=Wt.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new M5(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Tt()).add(s);n.set(o,a)}}return n}complete(){var e=this;return(0,re.A)(function*(){const n=yield function _pe(t,e,n,r){return sR.apply(this,arguments)}(e.localStore,new M5(e.serializer),e.documents,e.oa.id),r=e.aa(e.documents);for(const i of e.queries)yield vpe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:n}})()}}function O5(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class F5{constructor(e){this.key=e}}class V5{constructor(e){this.key=e}}class L5{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Tt(),this.mutatedKeys=Tt(),this.Ia=QG(e),this.Ta=new Ng(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new k5,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,g)=>{const y=i.get(d),v=vv(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),T=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let C=!1;y&&v?y.data.isEqual(v.data)?E!==T&&(r.track({type:3,doc:v}),C=!0):this.Ra(y,v)||(r.track({type:2,doc:v}),C=!0,(u&&this.Ia(v,u)>0||l&&this.Ia(v,l)<0)&&(a=!0)):!y&&v?(r.track({type:0,doc:v}),C=!0):y&&!v&&(r.track({type:1,doc:y}),C=!0,(u||l)&&(a=!0)),C&&(v?(o=o.add(v),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const d="F"===this.query.limitType?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,g)=>function(v,E){const T=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return T(v)-T(E)}(d.type,g.type)||this.Ia(d.doc,g.doc)),this.Va(r),i=null!=i&&i;const a=n&&!i?this.ma():[],u=0===this.Pa.size&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,0!==o.length||l?{snapshot:new Rg(this.query,e.Ta,s,o,e.mutatedKeys,0===u,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new k5,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Tt(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new V5(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new F5(r))}),n}pa(e){this.la=e.hs,this.Pa=Tt();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Rg.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class zpe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qpe{constructor(e){this.key=e,this.wa=!1}}class Wpe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new gl(a=>WG(a),_v),this.Da=new Map,this.Ca=new Set,this.va=new jn(xe.comparator),this.Fa=new Map,this.Ma=new YN,this.xa={},this.Oa=new Map,this.Na=Nh.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Kpe(t,e){return jR.apply(this,arguments)}function jR(){return(jR=(0,re.A)(function*(t,e,n=!0){const r=lT(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield j5(r,e,n,!0),i})).apply(this,arguments)}function Qpe(t,e){return UR.apply(this,arguments)}function UR(){return(UR=(0,re.A)(function*(t,e){const n=lT(t);yield j5(n,e,!0,!1)})).apply(this,arguments)}function j5(t,e,n,r){return BR.apply(this,arguments)}function BR(){return(BR=(0,re.A)(function*(t,e,n,r){const i=yield Ig(t.localStore,Gi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=yield HR(t,e,s,"current"===o,i.resumeToken)),t.isPrimaryClient&&n&&aT(t.remoteStore,i),a})).apply(this,arguments)}function HR(t,e,n,r,i){return $R.apply(this,arguments)}function $R(){return $R=(0,re.A)(function*(t,e,n,r,i){t.Ba=(g,y,v)=>{return(E=(0,re.A)(function*(C,k,R,L){let Q=k.view.da(R);Q.Xi&&(Q=yield nT(C.localStore,k.query,!1).then(({documents:D})=>k.view.da(D,Q)));const Ee=L&&L.targetChanges.get(k.targetId),Ce=L&&null!=L.targetMismatches.get(k.targetId),x=k.view.applyChanges(Q,C.isPrimaryClient,Ee,Ce);return ek(C,k.targetId,x.fa),x.snapshot}),function T(C,k,R,L){return E.apply(this,arguments)})(t,g,y,v);var E};const s=yield nT(t.localStore,e,!0),o=new L5(e,s.hs),a=o.da(s.documents),u=Cv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,u);ek(t,n,l.fa);const d=new zpe(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot}),$R.apply(this,arguments)}function Jpe(t,e,n){return GR.apply(this,arguments)}function GR(){return(GR=(0,re.A)(function*(t,e,n){const r=Pe(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!_v(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Tg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cg(r.remoteStore,i.targetId),kg(r,i.targetId)}).catch(xc))):(kg(r,i.targetId),yield Tg(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Ype(t,e){return zR.apply(this,arguments)}function zR(){return(zR=(0,re.A)(function*(t,e){const n=Pe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cg(n.remoteStore,r.targetId))})).apply(this,arguments)}function qR(){return(qR=(0,re.A)(function*(t,e,n){const r=dk(t);try{const i=yield function(o,a){const u=Pe(o),l=tr.now(),d=a.reduce((v,E)=>v.add(E.key),Tt());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=$s(),T=Tt();return u.os.getEntries(v,d).next(C=>{E=C,E.forEach((k,R)=>{R.isValidDocument()||(T=T.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,E)).next(C=>{g=C;const k=[];for(const R of a){const L=Cfe(R,g.get(R.key).overlayedDocument);null!=L&&k.push(new ml(R.key,L,RG(L.value.mapValue),nr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,k,a)}).next(C=>{y=C;const k=C.applyToLocalDocumentSet(g,T);return u.documentOverlayCache.saveOverlays(v,C.batchId,k)})}).then(()=>({batchId:y.batchId,changes:YG(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.xa[o.currentUser.toKey()];l||(l=new jn(_t)),l=l.insert(a,u),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield _l(r,i.changes),yield Dg(r.remoteStore)}catch(i){const s=Pg(i,"Failed to persist write");n.reject(s)}})).apply(this,arguments)}function U5(t,e){return WR.apply(this,arguments)}function WR(){return(WR=(0,re.A)(function*(t,e){const n=Pe(t);try{const r=yield function mpe(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,g)=>{const y=i.get(g);if(!y)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,g)));let v=y.withSequenceNumber(s.currentSequenceNumber);var T,C,k;null!==e.targetMismatches.get(g)?v=v.withResumeToken(ii.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(g,v),C=v,k=d,(0===(T=y).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(s,v))});let u=$s(),l=Tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(m5(s,o,e.documentUpdates).next(d=>{u=d.cs,l=d.ls})),!r.isEqual(Xe.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(g=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Je(o.wa):i.removedDocuments.size>0&&(Je(o.wa),o.wa=!1))}),yield _l(n,r,e)}catch(r){yield xc(r)}})).apply(this,arguments)}function B5(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Pe(o);u.onlineState=a;let l=!1;u.queries.forEach((d,g)=>{for(const y of g.U_)y.j_(a)&&(l=!0)}),l&&FR(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zpe(t,e,n){return KR.apply(this,arguments)}function KR(){return(KR=(0,re.A)(function*(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new jn(xe.comparator);o=o.insert(s,Wn.newNoDocument(s,Xe.min()));const a=Tt().add(s),u=new Av(Xe.min(),new Map,new jn(_t),o,a);yield U5(r,u),r.va=r.va.remove(s),r.Fa.delete(e),tk(r)}else yield Tg(r.localStore,e,!1).then(()=>kg(r,e,n)).catch(xc)})).apply(this,arguments)}function ege(t,e){return QR.apply(this,arguments)}function QR(){return(QR=(0,re.A)(function*(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=yield function gpe(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,d){const g=l.batch,y=g.keys();let v=z.resolve();return y.forEach(E=>{v=v.next(()=>d.getEntry(u,E)).next(T=>{const C=l.docVersions.get(E);Je(null!==C),T.version.compareTo(C)<0&&(g.applyToRemoteDocument(T,l),T.isValidDocument()&&(T.setReadTime(l.commitVersion),d.addEntry(T)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Tt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);ZR(n,r,null),XR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _l(n,i)}catch(i){yield xc(i)}})).apply(this,arguments)}function tge(t,e,n){return JR.apply(this,arguments)}function JR(){return(JR=(0,re.A)(function*(t,e,n){const r=Pe(t);try{const i=yield function(o,a){const u=Pe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return u.mutationQueue.lookupMutationBatch(l,a).next(g=>(Je(null!==g),d=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>u.localDocuments.getDocuments(l,d))})}(r.localStore,e);ZR(r,e,n),XR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield _l(r,i)}catch(i){yield xc(i)}})).apply(this,arguments)}function YR(){return(YR=(0,re.A)(function*(t,e){const n=Pe(t);zc(n.remoteStore)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=Pe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=Pg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function XR(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function ZR(t,e,n){const r=Pe(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||H5(t,r)})}function H5(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);null!==n&&(Cg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),tk(t))}function ek(t,e,n){for(const r of n)r instanceof F5?(t.Ma.addReference(r.key,e),rge(t,r)):r instanceof V5?(be("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||H5(t,r.key)):Ge()}function rge(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(be("SyncEngine","New document in limbo: "+n),t.Ca.add(r),tk(t))}function tk(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new xe(Wt.fromString(e)),r=t.Na.next();t.Fa.set(r,new qpe(n)),t.va=t.va.insert(n,r),aT(t.remoteStore,new yl(Gi(cg(n.path)),r,"TargetPurposeLimboResolution",go.oe))}}function _l(t,e,n){return nk.apply(this,arguments)}function nk(){return nk=(0,re.A)(function*(t,e,n){const r=Pe(t),i=[],s=[],o=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(l=>{var d;if((l||n)&&r.isPrimaryClient){const g=l?!l.fromCache:null===(d=n?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);const g=nR.Ki(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Sa.h_(i),yield(a=(0,re.A)(function*(l,d){const g=Pe(l);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>z.forEach(d,v=>z.forEach(v.qi,E=>g.persistence.referenceDelegate.addReference(y,v.targetId,E)).next(()=>z.forEach(v.Qi,E=>g.persistence.referenceDelegate.removeReference(y,v.targetId,E)))))}catch(y){if(!Mc(y))throw y;be("LocalStore","Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const E=g.ns.get(v),C=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);g.ns=g.ns.insert(v,C)}}}),function u(l,d){return a.apply(this,arguments)})(r.localStore,s))}),nk.apply(this,arguments)}function ige(t,e){return rk.apply(this,arguments)}function rk(){return(rk=(0,re.A)(function*(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=yield p5(n.localStore,e);n.currentUser=e,(s=n).Oa.forEach(a=>{a.forEach(u=>{u.reject(new me(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Oa.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _l(n,r.us)}var s})).apply(this,arguments)}function sge(t,e){const n=Pe(t),r=n.Fa.get(e);if(r&&r.wa)return Tt().add(r.key);{let i=Tt();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function oge(t,e){return ik.apply(this,arguments)}function ik(){return(ik=(0,re.A)(function*(t,e){const n=Pe(t),r=yield nT(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&ek(n,e.targetId,i.fa),i})).apply(this,arguments)}function age(t,e){return sk.apply(this,arguments)}function sk(){return(sk=(0,re.A)(function*(t,e){const n=Pe(t);return _5(n.localStore,e).then(r=>_l(n,r))})).apply(this,arguments)}function uge(t,e,n,r){return ok.apply(this,arguments)}function ok(){return(ok=(0,re.A)(function*(t,e,n,r){const i=Pe(t),s=yield function(a,u){const l=Pe(a),d=Pe(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",g=>d.vn(g,u).next(y=>y?l.localDocuments.getDocuments(g,y):z.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===n?yield Dg(i.remoteStore):"acknowledged"===n||"rejected"===n?(ZR(i,e,r||null),XR(i,e),u=e,Pe(Pe(i.localStore).mutationQueue).Mn(u)):Ge(),yield _l(i,s)):be("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function ak(){return(ak=(0,re.A)(function*(t,e){const n=Pe(t);if(lT(n),dk(n),!0===e&&!0!==n.La){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield $5(n,r.toArray());n.La=!0,yield PR(n.remoteStore,!0);for(const s of i)aT(n.remoteStore,s)}else if(!1===e&&!1!==n.La){const r=[];let i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(kg(n,o),Tg(n.localStore,o,!0))),Cg(n.remoteStore,o)}),yield i,yield $5(n,r),function(o){const a=Pe(o);a.Fa.forEach((u,l)=>{Cg(a.remoteStore,l)}),a.Ma.mr(),a.Fa=new Map,a.va=new jn(xe.comparator)}(n),n.La=!1,yield PR(n.remoteStore,!1)}})).apply(this,arguments)}function $5(t,e,n){return uk.apply(this,arguments)}function uk(){return(uk=(0,re.A)(function*(t,e,n){const r=Pe(t),i=[],s=[];for(const o of e){let a;const u=r.Da.get(o);if(u&&0!==u.length){a=yield Ig(r.localStore,Gi(u[0]));for(const l of u){const d=r.ba.get(l),g=yield oge(r,d);g.snapshot&&s.push(g.snapshot)}}else{const l=yield y5(r.localStore,o);a=yield Ig(r.localStore,l),yield HR(r,G5(l),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i})).apply(this,arguments)}function G5(t){return $G(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function cge(t){return n=Pe(t).localStore,Pe(Pe(n).persistence).Bi();var n}function dge(t,e,n,r){return lk.apply(this,arguments)}function lk(){return(lk=(0,re.A)(function*(t,e,n,r){const i=Pe(t);if(i.La)return void be("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=yield _5(i.localStore,KG(s[0])),a=Av.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ii.EMPTY_BYTE_STRING);yield _l(i,o,a);break}case"rejected":yield Tg(i.localStore,e,!0),kg(i,e,r);break;default:Ge()}})).apply(this,arguments)}function hge(t,e,n){return ck.apply(this,arguments)}function ck(){return(ck=(0,re.A)(function*(t,e,n){const r=lT(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){be("SyncEngine","Adding an already active target "+i);continue}const s=yield y5(r.localStore,i),o=yield Ig(r.localStore,s);yield HR(r,G5(s),o.targetId,!1,o.resumeToken),aT(r.remoteStore,o)}for(const i of n)r.Da.has(i)&&(yield Tg(r.localStore,i,!1).then(()=>{Cg(r.remoteStore,i),kg(r,i)}).catch(xc))}})).apply(this,arguments)}function lT(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zpe.bind(null,e),e.Sa.h_=Bpe.bind(null,e.eventManager),e.Sa.ka=Hpe.bind(null,e.eventManager),e}function dk(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ege.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tge.bind(null,e),e}class xg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,re.A)(function*(){n.serializer=Fv(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return f5(this.persistence,new h5,e.initialUser,this.serializer)}createPersistence(e){return new XN(ZI.Hr,this.serializer)}createSharedClientState(e){return new E5}terminate(){var e=this;return(0,re.A)(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hk extends xg{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,re.A)(function*(){yield n().call(r,e),yield r.Qa.initialize(r,e),yield dk(r.Qa.syncEngine),yield Dg(r.Qa.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return f5(this.persistence,new h5,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new r5(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Lhe(n,this.persistence);return new Vhe(e.asyncQueue,r)}createPersistence(e){const n=tR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new eR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,T5(),oT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new E5}}class z5 extends hk{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,re.A)(function*(){yield n().call(r,e);const i=r.Qa.syncEngine;r.sharedClientState instanceof cR&&(r.sharedClientState.syncEngine={Zs:uge.bind(null,i),Xs:dge.bind(null,i),eo:hge.bind(null,i),Bi:cge.bind(null,i),Ys:age.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var s=(0,re.A)(function*(o){yield function lge(t,e){return ak.apply(this,arguments)}(r.Qa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const n=T5();if(!cR.D(n))throw new me(Y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cR(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Mg{initialize(e,n){var r=this;return(0,re.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>B5(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ige.bind(null,r.syncEngine),yield PR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Upe}createDatastore(e){const n=Fv(e.databaseInfo.databaseId),r=new Ipe(e.databaseInfo);return new Cpe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>B5(this.syncEngine,n,0),a=I5.D()?new I5:new bpe,new Spe(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,l,d){const g=new Wpe(i,s,o,a,u,l);return d&&(g.La=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,re.A)(function*(){var n,r;yield(r=(0,re.A)(function*(s){const o=Pe(s);be("RemoteStore","RemoteStore shutting down."),o.M_.add(5),yield Ag(o),o.O_.shutdown(),o.N_.set("Unknown")}),function i(s){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function q5(t,e=10240){let n=0;return{read:()=>(0,re.A)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,re.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class gge{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new ri,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,re.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,re.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,re.A)(function*(){const n=yield e.za();if(null===n)return null;const r=e.Wa.decode(n),i=Number(r);isNaN(i)&&e.ja(`length string (${r}) is not valid number`);const s=yield e.Ha(i);return new $pe(JSON.parse(s),n.length+i)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,re.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const n=e.Ja();n<0&&e.ja("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ha(e){var n=this;return(0,re.A)(function*(){for(;n.buffer.length<e;)(yield n.Ya())&&n.ja("Reached the end of bundle when more is expected.");const r=n.Wa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,re.A)(function*(){const n=yield e.Ua.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class mge{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,re.A)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new me(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const r=yield(i=(0,re.A)(function*(o,a){const u=Pe(o),l={documents:a.map(v=>Dv(u.serializer,v))},d=yield u.xo("BatchGetDocuments",u.serializer.databaseId,Wt.emptyPath(),l,a.length),g=new Map;d.forEach(v=>{const E=function Ofe(t,e){return"found"in e?function(r,i){Je(!!i.found);const s=_u(r,i.found.name),o=Or(i.found.updateTime),a=i.found.createTime?Or(i.found.createTime):Xe.min(),u=new Pi({mapValue:{fields:i.found.fields}});return Wn.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){Je(!!i.missing),Je(!!i.readTime);const s=_u(r,i.missing),o=Or(i.readTime);return Wn.newNoDocument(s,o)}(t,e):Ge()}(u.serializer,v);g.set(E.key.toString(),E)});const y=[];return a.forEach(v=>{const E=g.get(v.toString());Je(!!E),y.push(E)}),y}),function s(o,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,re.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const s=xe.fromPath(i);e.mutations.push(new MN(s,e.precondition(s)))}),yield(r=(0,re.A)(function*(s,o){const a=Pe(s),u={writes:o.map(l=>Sv(a.serializer,l))};yield a.Co("Commit",a.serializer.databaseId,Wt.emptyPath(),u)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ge();n=Xe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new me(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Xe.min())?nr.exists(!1):nr.updateTime(n):nr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Xe.min()))throw new me(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(n)}return nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yge{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new hR(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,re.A)(function*(){const n=new mge(e.datastore),r=e.tu(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.nu(s)}))}).catch(i=>{e.nu(i)})}))}tu(e){try{const n=this.updateFunction(e);return!cv(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!fz(n)}return!1}}class _ge{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mi.UNAUTHENTICATED,this.clientId=iG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,re.A)(function*(a){be("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Pg(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function dT(t,e){return fk.apply(this,arguments)}function fk(){return fk=(0,re.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,re.A)(function*(s){r.isEqual(s)||(yield p5(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),fk.apply(this,arguments)}function pk(t,e){return gk.apply(this,arguments)}function gk(){return(gk=(0,re.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield mk(t);be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>R5(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>R5(e.remoteStore,i)),t._onlineComponents=e})).apply(this,arguments)}function W5(t){return"FirebaseError"===t.name?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function mk(t){return yk.apply(this,arguments)}function yk(){return(yk=(0,re.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dT(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!W5(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),yield dT(t,new xg)}}else be("FirestoreClient","Using default OfflineComponentProvider"),yield dT(t,new xg);return t._offlineComponents})).apply(this,arguments)}function hT(t){return _k.apply(this,arguments)}function _k(){return(_k=(0,re.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),yield pk(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),yield pk(t,new Mg))),t._onlineComponents})).apply(this,arguments)}function K5(t){return mk(t).then(e=>e.persistence)}function Og(t){return mk(t).then(e=>e.localStore)}function Q5(t){return hT(t).then(e=>e.remoteStore)}function vk(t){return hT(t).then(e=>e.syncEngine)}function Fg(t){return bk.apply(this,arguments)}function bk(){return(bk=(0,re.A)(function*(t){const e=yield hT(t),n=e.eventManager;return n.onListen=Kpe.bind(null,e.syncEngine),n.onUnlisten=Jpe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qpe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ype.bind(null,e.syncEngine),n})).apply(this,arguments)}function Y5(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget((0,re.A)(function*(){return function(s,o,a,u,l){const d=new cT({next:y=>{o.enqueueAndForget(()=>MR(s,g));const v=y.docs.has(a);!v&&y.fromCache?l.reject(new me(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&u&&"server"===u.source?l.reject(new me(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),g=new LR(cg(a.path),d,{includeMetadataChanges:!0,ra:!0});return kR(s,g)}(yield Fg(t),t.asyncQueue,e,n,r)})),r.promise}function X5(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget((0,re.A)(function*(){return function(s,o,a,u,l){const d=new cT({next:y=>{o.enqueueAndForget(()=>MR(s,g)),y.fromCache&&"server"===u.source?l.reject(new me(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),g=new LR(a,d,{includeMetadataChanges:!0,ra:!0});return kR(s,g)}(yield Fg(t),t.asyncQueue,e,n,r)})),r.promise}function Z5(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const e6=new Map;function wk(t,e,n){if(!n)throw new me(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t6(t,e,n,r){if(!0===e&&!0===r)throw new me(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function n6(t){if(!xe.isDocumentKey(t))throw new me(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function r6(t){if(xe.isDocumentKey(t))throw new me(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Ge()}function Vt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fT(t);throw new me(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function i6(t,e){if(e<=0)throw new me(Y.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class s6{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new me(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new me(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Z5(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new me(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new me(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s6(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Ahe;switch(r.type){case"firstParty":return new Phe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=e6.get(n);r&&(be("ComponentProvider","Removing Datastore"),e6.delete(n),r.terminate())}(this),Promise.resolve()}}class Ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class Kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class vu extends Ni{constructor(e,n,r){super(e,n,cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new xe(e))}withConverter(e){return new vu(this.firestore,e,this._path)}}function a6(t,e,...n){if(t=(0,Rt.Ku)(t),wk("collection","path",e),t instanceof Lv){const r=Wt.fromString(e,...n);return r6(r),new vu(t,null,r)}{if(!(t instanceof Kn||t instanceof vu))throw new me(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return r6(r),new vu(t.firestore,null,r)}}function pT(t,e,...n){if(t=(0,Rt.Ku)(t),1===arguments.length&&(e=iG.newId()),wk("doc","path",e),t instanceof Lv){const r=Wt.fromString(e,...n);return n6(r),new Kn(t,null,new xe(r))}{if(!(t instanceof Kn||t instanceof vu))throw new me(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return n6(r),new Kn(t.firestore,t instanceof vu?t.converter:null,new xe(r))}}function u6(t,e){return t=(0,Rt.Ku)(t),e=(0,Rt.Ku)(e),(t instanceof Kn||t instanceof vu)&&(e instanceof Kn||e instanceof vu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Ek(t,e){return t=(0,Rt.Ku)(t),e=(0,Rt.Ku)(e),t instanceof Ni&&e instanceof Ni&&t.firestore===e.firestore&&_v(t._query,e._query)&&t.converter===e.converter}class Rge{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new hR(this,"async_queue_retry"),this.hu=()=>{const n=oT();n&&be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=oT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=oT();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ri;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,re.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(n){if(!Mc(n))throw n;be("AsyncQueue","Operation failed with retryable error: "+n)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=RR.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Ge()}verifyOperationInProgress(){}du(){var e=this;return(0,re.A)(function*(){let n;do{n=e.iu,yield n}while(n!==e.iu)})()}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function Ik(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class kge{constructor(){this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Tn extends Lv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rge,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||l6(this),this._firestoreClient.terminate()}}function rr(t){return t._firestoreClient||l6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function l6(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new sfe(t._databaseId,u,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Z5(d.experimentalLongPollingOptions),d.useFetchStreams));var u,d;t._firestoreClient=new _ge(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function c6(t,e,n){const r=new ri;return t.asyncQueue.enqueue((0,re.A)(function*(){try{yield dT(t,n),yield pk(t,e),r.resolve()}catch(i){const s=i;if(!W5(s))throw s;Bs("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function d6(t){if(t._initialized||t._terminated)throw new me(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bu(ii.fromBase64String(e))}catch(n){throw new me(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bu(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new me(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kh{constructor(e){this._methodName=e}}class gT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}}const $ge=/^__.*__$/;class Gge{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ml(e,this.data,this.fieldMask,n,this.fieldTransforms):new gg(e,this.data,n,this.fieldTransforms)}}class h6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ml(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function f6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class mT{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new mT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return vT(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(f6(this.fu)&&$ge.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class zge{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fv(e)}Fu(e,n,r,i=!1){return new mT({fu:e,methodName:n,vu:r,path:qn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xh(t){const e=t._freezeSettings(),n=Fv(t._databaseId);return new zge(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yT(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Nk("Data must be an object, but it was:",o,r);const a=m6(r,o);let u,l;if(s.merge)u=new Hs(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const y=Bv(e,g,n);if(!o.contains(y))throw new me(Y.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);_6(d,y)||d.push(y)}u=new Hs(d),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new Gge(new Pi(a),u,l)}class Uv extends kh{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uv}}function p6(t,e,n){return new mT({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tk extends kh{_toFieldTransform(e){return new Ev(e.path,new fg)}isEqual(e){return e instanceof Tk}}class Ak extends kh{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=p6(this,e,!0),r=this.Mu.map(s=>Mh(s,n)),i=new Ih(r);return new Ev(e.path,i)}isEqual(e){return e instanceof Ak&&(0,Rt.bD)(this.Mu,e.Mu)}}class Ck extends kh{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=p6(this,e,!0),r=this.Mu.map(s=>Mh(s,n)),i=new Th(r);return new Ev(e.path,i)}isEqual(e){return e instanceof Ck&&(0,Rt.bD)(this.Mu,e.Mu)}}class Dk extends kh{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new pg(e.serializer,tz(e.serializer,this.xu));return new Ev(e.path,n)}isEqual(e){return e instanceof Dk&&this.xu===e.xu}}function Sk(t,e,n,r){const i=t.Fu(1,e,n);Nk("Data must be an object, but it was:",i,r);const s=[],o=Pi.empty();Oc(r,(u,l)=>{const d=_T(e,u,n);l=(0,Rt.Ku)(l);const g=i.Su(d);if(l instanceof Uv)s.push(d);else{const y=Mh(l,g);null!=y&&(s.push(d),o.set(d,y))}});const a=new Hs(s);return new h6(o,a,i.fieldTransforms)}function Pk(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Bv(e,r,n)],u=[i];if(s.length%2!=0)throw new me(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(Bv(e,s[y])),u.push(s[y+1]);const l=[],d=Pi.empty();for(let y=a.length-1;y>=0;--y)if(!_6(l,a[y])){const v=a[y];let E=u[y];E=(0,Rt.Ku)(E);const T=o.Su(v);if(E instanceof Uv)l.push(v);else{const C=Mh(E,T);null!=C&&(l.push(v),d.set(v,C))}}const g=new Hs(l);return new h6(d,g,o.fieldTransforms)}function g6(t,e,n,r=!1){return Mh(n,t.Fu(r?4:3,e))}function Mh(t,e){if(y6(t=(0,Rt.Ku)(t)))return Nk("Unsupported field value:",e,t),m6(t,e);if(t instanceof kh)return function(r,i){if(!f6(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Mh(a,i.bu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=(0,Rt.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return tz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=tr.fromDate(r);return{timestampValue:yg(i.serializer,s)}}if(r instanceof tr){const s=new tr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yg(i.serializer,s)}}if(r instanceof gT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bu)return{bytesValue:Iz(i.serializer,r._byteString)};if(r instanceof Kn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:UN(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${fT(r)}`)}(t,e)}function m6(t,e){const n={};return EG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oc(t,(r,i)=>{const s=Mh(i,e.pu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function y6(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof tr||t instanceof gT||t instanceof bu||t instanceof Kn||t instanceof kh)}function Nk(t,e,n){if(!y6(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=fT(n);throw e.Du("an object"===r?t+" a custom object":t+" "+r)}var i}function Bv(t,e,n){if((e=(0,Rt.Ku)(e))instanceof vl)return e._internalPath;if("string"==typeof e)return _T(t,e);throw vT("Field path arguments must be of type string or ",t,!1,void 0,n)}const qge=new RegExp("[~\\*/\\[\\]]");function _T(t,e,n){if(e.search(qge)>=0)throw vT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vl(...e.split("."))._internalPath}catch{throw vT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vT(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new me(Y.INVALID_ARGUMENT,a+t+u)}function _6(t,e){return t.some(n=>n.isEqual(e))}class Hv{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Wge extends Hv{data(){return super.data()}}function bT(t,e){return"string"==typeof e?_T(t,e):e instanceof vl?e._internalPath:e._delegate._internalPath}function v6(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new me(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rk{}class $v extends Rk{}function Wc(t,e,...n){let r=[];e instanceof Rk&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Vg).length,a=s.filter(u=>u instanceof Gv).length;if(o>1||o>0&&a>0)throw new me(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Gv extends $v{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gv(e,n,r)}_apply(e){const n=this._parse(e);return I6(e._query,n),new Ni(e.firestore,e.converter,kN(e._query,n))}_parse(e){const n=xh(e.firestore);return function(s,o,a,u,l,d,g){let y;if(l.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new me(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){E6(g,d);const v=[];for(const E of g)v.push(w6(u,s,E));y={arrayValue:{values:v}}}else y=w6(u,s,g)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||E6(g,d),y=g6(a,"where",g,"in"===d||"not-in"===d);return Kt.create(l,d,y)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Vg extends Rk{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)I6(o,u),o=kN(o,u)}(e._query,n),new Ni(e.firestore,e.converter,kN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kk extends $v{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kk(e,n)}_apply(e){const n=function(i,s,o){if(null!==i.startAt)throw new me(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new me(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mv(s,o)}(e._query,this._field,this._direction);return new Ni(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new pl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class wT extends $v{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new wT(e,n,r)}_apply(e){return new Ni(e.firestore,e.converter,jI(e._query,this._limit,this._limitType))}}class ET extends $v{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ET(e,n,r)}_apply(e){const n=b6(e,this.type,this._docOrFields,this._inclusive);return new Ni(e.firestore,e.converter,(s=n,new pl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class IT extends $v{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new IT(e,n,r)}_apply(e){const n=b6(e,this.type,this._docOrFields,this._inclusive);return new Ni(e.firestore,e.converter,(s=n,new pl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function b6(t,e,n,r){if(n[0]=(0,Rt.Ku)(n[0]),n[0]instanceof Hv)return function(s,o,a,u,l){if(!u)throw new me(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const g of dg(s))if(g.field.isKeyField())d.push(wh(o,u.key));else{const y=u.data.field(g.field);if(kI(y))throw new me(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const v=g.field.canonicalString();throw new me(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(y)}return new Uc(d,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=xh(t.firestore);return function(o,a,u,l,d,g){const y=o.explicitOrderBy;if(d.length>y.length)throw new me(Y.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let E=0;E<d.length;E++){const T=d[E];if(y[E].field.isKeyField()){if("string"!=typeof T)throw new me(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof T}`);if(!RN(o)&&-1!==T.indexOf("/"))throw new me(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${T}' contains a slash.`);const C=o.path.child(Wt.fromString(T));if(!xe.isDocumentKey(C))throw new me(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const k=new xe(C);v.push(wh(a,k))}else{const C=g6(u,l,T);v.push(C)}}return new Uc(v,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function w6(t,e,n){if("string"==typeof(n=(0,Rt.Ku)(n))){if(""===n)throw new me(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RN(e)&&-1!==n.indexOf("/"))throw new me(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Wt.fromString(n));if(!xe.isDocumentKey(r))throw new me(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wh(t,new xe(r))}if(n instanceof Kn)return wh(t,n._key);throw new me(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fT(n)}.`)}function E6(t,e){if(!Array.isArray(t)||0===t.length)throw new me(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I6(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new me(Y.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xk{convertValue(e,n="none"){switch(Lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new gT(br(e.latitude),br(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xI(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hv(e));default:return null}}convertTimestamp(e){const n=hl(e);return new tr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Wt.fromString(e);Je(Oz(r));const i=new Fc(r.get(1),r.get(3)),s=new xe(r.popFirst(5));return i.isEqual(n)||Mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function TT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nme extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}class Oh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bl extends Hv{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zv extends bl{data(e={}){return super.data(e)}}class Kc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zv(this._firestore,this._userDataWriter,r.key,r,new Oh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new zv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new zv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,d=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:ime(a.type),doc:u,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ime(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}function A6(t,e){return t instanceof bl&&e instanceof bl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Kc&&e instanceof Kc&&t._firestore===e._firestore&&Ek(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Qc extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function C6(t,e,n){t=Vt(t,Kn);const r=Vt(t.firestore,Tn),i=TT(t.converter,e,n);return Lg(r,[yT(xh(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,nr.none())])}function D6(t,e,n,...r){t=Vt(t,Kn);const i=Vt(t.firestore,Tn),s=xh(i);let o;return o="string"==typeof(e=(0,Rt.Ku)(e))||e instanceof vl?Pk(s,"updateDoc",t._key,e,n,r):Sk(s,"updateDoc",t._key,e),Lg(i,[o.toMutation(t._key,nr.exists(!0))])}function S6(t,...e){var n,r,i;t=(0,Rt.Ku)(t);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||Ik(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ik(e[o])){const g=e[o];e[o]=null===(n=g.next)||void 0===n?void 0:n.bind(g),e[o+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[o+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let u,l,d;if(t instanceof Kn)l=Vt(t.firestore,Tn),d=cg(t._key.path),u={next:g=>{e[o]&&e[o](Mk(l,t,g))},error:e[o+1],complete:e[o+2]};else{const g=Vt(t,Ni);l=Vt(g.firestore,Tn),d=g._query;const y=new Qc(l);u={next:v=>{e[o]&&e[o](new Kc(l,y,g,v))},error:e[o+1],complete:e[o+2]},v6(t._query)}return function(y,v,E,T){const C=new cT(T),k=new LR(v,C,E);return y.asyncQueue.enqueueAndForget((0,re.A)(function*(){return kR(yield Fg(y),k)})),()=>{C.$a(),y.asyncQueue.enqueueAndForget((0,re.A)(function*(){return MR(yield Fg(y),k)}))}}(rr(l),d,a,u)}function Lg(t,e){return function(r,i){const s=new ri;return r.asyncQueue.enqueueAndForget((0,re.A)(function*(){return function Xpe(t,e,n){return qR.apply(this,arguments)}(yield vk(r),i,s)})),s.promise}(rr(t),e)}function Mk(t,e,n){const r=n.docs.get(e._key),i=new Qc(t);return new bl(t,i,e._key,r,new Oh(n.hasPendingWrites,n.fromCache),e.converter)}const Eme={maxAttempts:5};class P6{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xh(e)}set(e,n,r){this._verifyNotCommitted();const i=Jc(e,this._firestore),s=TT(i.converter,n,r),o=yT(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,nr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Jc(e,this._firestore);let o;return o="string"==typeof(n=(0,Rt.Ku)(n))||n instanceof vl?Pk(this._dataReader,"WriteBatch.update",s._key,n,r,i):Sk(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Jc(e,this._firestore);return this._mutations=this._mutations.concat(new mg(n._key,nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jc(t,e){if((t=(0,Rt.Ku)(t)).firestore!==e)throw new me(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Ime extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=xh(n)}get(n){const r=Jc(n,this._firestore),i=new nme(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Ge();const o=s[0];if(o.isFoundDocument())return new Hv(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Hv(this._firestore,i,r._key,null,r.converter);throw Ge()})}set(n,r,i){const s=Jc(n,this._firestore),o=TT(s.converter,r,i),a=yT(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Jc(n,this._firestore);let a;return a="string"==typeof(r=(0,Rt.Ku)(r))||r instanceof vl?Pk(this._dataReader,"Transaction.update",o._key,r,i,s):Sk(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Jc(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Jc(e,this._firestore),r=new Qc(this._firestore);return super.get(e).then(i=>new bl(this._firestore,r,n._key,i._document,new Oh(!1,!1),n.converter))}}function Fk(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new me("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function x6(){if(typeof Uint8Array>"u")throw new me("unimplemented","Uint8Arrays are not available in this environment.")}function M6(){if(!function rfe(){return typeof atob<"u"}())throw new me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){ng=hu.SDK_VERSION,(0,hu._registerComponent)(new CI.uA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Tn(new Dhe(r.getProvider("auth-internal")),new Nhe(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new me(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,hu.registerVersion)(tG,"4.6.4",e),(0,hu.registerVersion)(tG,"4.6.4","esm2017")}();class qv{constructor(e){this._delegate=e}static fromBase64String(e){return M6(),new qv(bu.fromBase64String(e))}static fromUint8Array(e){return x6(),new qv(bu.fromUint8Array(e))}toBase64(){return M6(),this._delegate.toBase64()}toUint8Array(){return x6(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Vk(t){return function xme(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Mme{enableIndexedDbPersistence(e,n){return function Mge(t,e){d6(t=Vt(t,Tn));const n=rr(t);if(n._uninitializedComponentsProvider)throw new me(Y.FAILED_PRECONDITION,"SDK cache is already specified.");Bs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Mg;return c6(n,i,new hk(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Oge(t){d6(t=Vt(t,Tn));const e=rr(t);if(e._uninitializedComponentsProvider)throw new me(Y.FAILED_PRECONDITION,"SDK cache is already specified.");Bs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Mg;return c6(e,r,new z5(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Fge(t){if(t._initialized&&!t._terminated)throw new me(Y.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ri;return t._queue.enqueueAndForgetEvenWhileRestricted((0,re.A)(function*(){try{yield(n=(0,re.A)(function*(i){if(!pu.D())return Promise.resolve();const s=i+"main";yield pu.delete(s)}),function r(i){return n.apply(this,arguments)})(tR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class O6{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Bs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function o6(t,e,n,r={}){var i;const s=(t=Vt(t,Lv))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=mi.MOCK_USER;else{a=(0,Rt.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new me(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mi(l)}t._authCredentials=new Che(new nG(a,u))}}(this._delegate,e,n,r)}enableNetwork(){return function Lge(t){return function vge(t){return t.asyncQueue.enqueue((0,re.A)(function*(){const e=yield K5(t),n=yield Q5(t);return e.setNetworkEnabled(!0),function(i){const s=Pe(i);return s.M_.delete(0),Vv(s)}(n)}))}(rr(t=Vt(t,Tn)))}(this._delegate)}disableNetwork(){return function jge(t){return function bge(t){return t.asyncQueue.enqueue((0,re.A)(function*(){const e=yield K5(t),n=yield Q5(t);return e.setNetworkEnabled(!1),(r=(0,re.A)(function*(s){const o=Pe(s);o.M_.add(0),yield Ag(o),o.N_.set("Offline")}),function i(s){return r.apply(this,arguments)})(n);var r}))}(rr(t=Vt(t,Tn)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,t6("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Vge(t){return function(n){const r=new ri;return n.asyncQueue.enqueueAndForget((0,re.A)(function*(){return function nge(t,e){return YR.apply(this,arguments)}(yield vk(n),r)})),r.promise}(rr(t=Vt(t,Tn)))}(this._delegate)}onSnapshotsInSync(e){return function fme(t,e){return function Tge(t,e){const n=new cT(e);return t.asyncQueue.enqueueAndForget((0,re.A)(function*(){return i=yield Fg(t),s=n,Pe(i).z_.add(s),void s.next();var i,s})),()=>{n.$a(),t.asyncQueue.enqueueAndForget((0,re.A)(function*(){return i=yield Fg(t),s=n,void Pe(i).z_.delete(s);var i,s}))}}(rr(t=Vt(t,Tn)),Ik(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jg(this,a6(this._delegate,e))}catch(n){throw ys(n,"collection()","Firestore.collection()")}}doc(e){try{return new Wo(this,pT(this._delegate,e))}catch(n){throw ys(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _s(this,function Nge(t,e){if(t=Vt(t,Lv),wk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new me(Y.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ni(t,null,(r=e,new pl(Wt.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw ys(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Tme(t,e,n){t=Vt(t,Tn);const r=Object.assign(Object.assign({},Eme),n);return function(s){if(s.maxAttempts<1)throw new me(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new ri;return s.asyncQueue.enqueueAndForget((0,re.A)(function*(){const l=yield function J5(t){return hT(t).then(e=>e.datastore)}(s);new yge(s.asyncQueue,l,a,o,u).Xa()})),u.promise}(rr(t),i=>e(new Ime(t,i)),r)}(this._delegate,n=>e(new F6(this,n)))}batch(){return rr(this._delegate),new V6(new P6(this._delegate,e=>Lg(this._delegate,e)))}loadBundle(e){return function Uge(t,e){const n=rr(t=Vt(t,Tn)),r=new kge;return function Age(t,e,n,r){const i=function(o,a){let u;return u="string"==typeof o?gz().encode(o):o,d=function(d,g){if(d instanceof Uint8Array)return q5(d,g);if(d instanceof ArrayBuffer)return q5(new Uint8Array(d),g);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new gge(d,a);var d}(n,Fv(e));t.asyncQueue.enqueueAndForget((0,re.A)(function*(){!function fge(t,e,n){const r=Pe(t);var i;(i=(0,re.A)(function*(o,a,u){try{const l=yield a.getMetadata();if(yield function(E,T){const C=Pe(E),k=Or(T.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",R=>C.$r.getBundleMetadata(R,T.id)).then(R=>!!R&&R.createTime.compareTo(k)>=0)}(o.localStore,l))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(E=l).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);u._updateProgress(O5(l));const d=new Gpe(l,o.localStore,a.serializer);let g=yield a.qa();for(;g;){const v=yield d._a(g);v&&u._updateProgress(v),g=yield a.qa()}const y=yield d.complete();return yield _l(o,y.ca,void 0),yield function(E,T){const C=Pe(E);return C.persistence.runTransaction("Save bundle","readwrite",k=>C.$r.saveBundleMetadata(k,T))}(o.localStore,l),u._completeWith(y.progress),Promise.resolve(y.ua)}catch(l){return Bs("SyncEngine",`Loading bundle failed with ${l}`),u._failWith(l),Promise.resolve(new Set)}var E}),function s(o,a,u){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield vk(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Bge(t,e){return function Cge(t,e){return t.asyncQueue.enqueue((0,re.A)(function*(){return function(r,i){const s=Pe(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(yield Og(t),e)}))}(rr(t=Vt(t,Tn)),e).then(n=>n?new Ni(t,null,n.query):null)}(this._delegate,e).then(n=>n?new _s(this,n):null)}}class CT extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new qv(new bu(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Wo.forKey(n,this.firestore,null)}}class F6{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new CT(e)}get(e){const n=Vh(e);return this._delegate.get(n).then(r=>new Wv(this._firestore,new bl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Vh(e);return r?(Fk("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Vh(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Vh(e);return this._delegate.delete(n),this}}class V6{constructor(e){this._delegate=e}set(e,n,r){const i=Vh(e);return r?(Fk("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Vh(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Vh(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Fh{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new zv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kv(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Fh.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Fh(e,new CT(e),n),i.set(n,s)),s}}Fh.INSTANCES=new WeakMap;class Wo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new CT(e)}static forPath(e,n,r){if(e.length%2!=0)throw new me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wo(n,new Kn(n._delegate,r,new xe(e)))}static forKey(e,n,r){return new Wo(n,new Kn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new jg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jg(this.firestore,a6(this._delegate,e))}catch(n){throw ys(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.Ku)(e))instanceof Kn&&u6(this._delegate,e)}set(e,n){n=Fk("DocumentReference.set",n);try{return n?C6(this._delegate,e,n):C6(this._delegate,e)}catch(r){throw ys(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?D6(this._delegate,e):D6(this._delegate,e,n,...r)}catch(i){throw ys(i,"updateDoc()","DocumentReference.update()")}}delete(){return function dme(t){return Lg(Vt(t.firestore,Tn),[new mg(t._key,nr.none())])}(this._delegate)}onSnapshot(...e){const n=L6(e),r=j6(e,i=>new Wv(this.firestore,new bl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return S6(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function ome(t){t=Vt(t,Kn);const e=Vt(t.firestore,Tn),n=rr(e),r=new Qc(e);return function wge(t,e){const n=new ri;return t.asyncQueue.enqueueAndForget((0,re.A)(function*(){return(r=(0,re.A)(function*(s,o,a){try{const u=yield function(d,g){const y=Pe(d);return y.persistence.runTransaction("read document","readonly",v=>y.localDocuments.getDocument(v,g))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new me(Y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const l=Pg(u,`Failed to get document '${o} from cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Og(t),e,n);var r})),n.promise}(n,t._key).then(i=>new bl(e,r,t._key,i,new Oh(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function ame(t){t=Vt(t,Kn);const e=Vt(t.firestore,Tn);return Y5(rr(e),t._key,{source:"server"}).then(n=>Mk(e,t,n))}(this._delegate):function sme(t){t=Vt(t,Kn);const e=Vt(t.firestore,Tn);return Y5(rr(e),t._key).then(n=>Mk(e,t,n))}(this._delegate),n.then(r=>new Wv(this.firestore,new bl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Wo(this.firestore,this._delegate.withConverter(e?Fh.getInstance(this.firestore,e):null))}}function ys(t,e,n){return t.message=t.message.replace(e,n),t}function L6(t){for(const e of t)if("object"==typeof e&&!Vk(e))return e;return{}}function j6(t,e){var n,r;let i;return i=Vk(t[0])?t[0]:Vk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Wv{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Wo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return A6(this._delegate,e._delegate)}}class Kv extends Wv{data(e){const n=this._delegate.data(e);return this._delegate._converter||function The(t,e){t||Ge()}(void 0!==n),n}}class _s{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new CT(e)}where(e,n,r){try{return new _s(this.firestore,Wc(this._delegate,function Kge(t,e,n){const r=e,i=bT("where",t);return Gv._create(i,r,n)}(e,n,r)))}catch(i){throw ys(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new _s(this.firestore,Wc(this._delegate,function Qge(t,e="asc"){const n=e,r=bT("orderBy",t);return kk._create(r,n)}(e,n)))}catch(r){throw ys(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _s(this.firestore,Wc(this._delegate,function Jge(t){return i6("limit",t),wT._create("limit",t,"F")}(e)))}catch(n){throw ys(n,"limit()","Query.limit()")}}limitToLast(e){try{return new _s(this.firestore,Wc(this._delegate,function Yge(t){return i6("limitToLast",t),wT._create("limitToLast",t,"L")}(e)))}catch(n){throw ys(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new _s(this.firestore,Wc(this._delegate,function Xge(...t){return ET._create("startAt",t,!0)}(...e)))}catch(n){throw ys(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new _s(this.firestore,Wc(this._delegate,function Zge(...t){return ET._create("startAfter",t,!1)}(...e)))}catch(n){throw ys(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new _s(this.firestore,Wc(this._delegate,function eme(...t){return IT._create("endBefore",t,!1)}(...e)))}catch(n){throw ys(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new _s(this.firestore,Wc(this._delegate,function tme(...t){return IT._create("endAt",t,!0)}(...e)))}catch(n){throw ys(n,"endAt()","Query.endAt()")}}isEqual(e){return Ek(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function lme(t){t=Vt(t,Ni);const e=Vt(t.firestore,Tn),n=rr(e),r=new Qc(e);return function Ege(t,e){const n=new ri;return t.asyncQueue.enqueueAndForget((0,re.A)(function*(){return(r=(0,re.A)(function*(s,o,a){try{const u=yield nT(s,o,!0),l=new L5(o,u.hs),d=l.da(u.documents),g=l.applyChanges(d,!1);a.resolve(g.snapshot)}catch(u){const l=Pg(u,`Failed to execute query '${o} against cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Og(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Kc(e,r,t,i))}(this._delegate):"server"===e?.source?function cme(t){t=Vt(t,Ni);const e=Vt(t.firestore,Tn),n=rr(e),r=new Qc(e);return X5(n,t._query,{source:"server"}).then(i=>new Kc(e,r,t,i))}(this._delegate):function ume(t){t=Vt(t,Ni);const e=Vt(t.firestore,Tn),n=rr(e),r=new Qc(e);return v6(t._query),X5(n,t._query).then(i=>new Kc(e,r,t,i))}(this._delegate),n.then(r=>new Lk(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=L6(e),r=j6(e,i=>new Lk(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return S6(this._delegate,n,r)}withConverter(e){return new _s(this.firestore,this._delegate.withConverter(e?Fh.getInstance(this.firestore,e):null))}}class Fme{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Kv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Lk{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new _s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Fme(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Kv(this._firestore,r))})}isEqual(e){return A6(this._delegate,e._delegate)}}class jg extends _s{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wo(this.firestore,e):null}doc(e){try{return new Wo(this.firestore,void 0===e?pT(this._delegate):pT(this._delegate,e))}catch(n){throw ys(n,"doc()","CollectionReference.doc()")}}add(e){return function hme(t,e){const n=Vt(t.firestore,Tn),r=pT(t),i=TT(t.converter,e);return Lg(n,[yT(xh(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Wo(this.firestore,n))}isEqual(e){return u6(this._delegate,e._delegate)}withConverter(e){return new jg(this.firestore,this._delegate.withConverter(e?Fh.getInstance(this.firestore,e):null))}}function Vh(t){return Vt(t,Kn)}class jk{constructor(...e){this._delegate=new vl(...e)}static documentId(){return new jk(qn.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.Ku)(e))instanceof vl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Lh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Cme(){return new Tk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Lh(e)}static delete(){const e=function Ame(){return new Uv("deleteField")}();return e._methodName="FieldValue.delete",new Lh(e)}static arrayUnion(...e){const n=function Dme(...t){return new Ak("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Lh(n)}static arrayRemove(...e){const n=function Sme(...t){return new Ck("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Lh(n)}static increment(e){const n=function Pme(t){return new Dk("increment",t)}(e);return n._methodName="FieldValue.increment",new Lh(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Vme={Firestore:O6,GeoPoint:gT,Timestamp:tr,Blob:qv,Transaction:F6,WriteBatch:V6,DocumentReference:Wo,DocumentSnapshot:Wv,Query:_s,QueryDocumentSnapshot:Kv,QuerySnapshot:Lk,CollectionReference:jg,FieldPath:jk,FieldValue:Lh,setLogLevel:function Ome(t){!function Ihe(t){kc.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function U6(t,e){return function Ume(t,e=Yp){return new fn(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function Uk(t,e){return U6(t,e).pipe(Re(n=>({payload:n,type:"query"})))}!function jme(t){(function Lme(t,e){t.INTERNAL.registerComponent(new CI.uA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Vme)))})(t,(e,n)=>new O6(e,n,new Mme)),t.registerVersion("@firebase/firestore-compat","0.3.33")}(Us.A);class B6{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:s}=W6(r,n);return new G6(i,s,this.afs)}snapshotChanges(){return function Bme(t,e){return U6(t,e).pipe(UE(void 0),yN(),Re(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ms)}valueChanges(e={}){return this.snapshotChanges().pipe(Re(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return Zt(this.ref.get(e)).pipe(ms)}}function DT(t,e){return Uk(t,e).pipe(UE(void 0),yN(),Re(n=>{const[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const l=s.find(g=>g.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function H6(t,e,n){return DT(t,n).pipe(HE((r,i)=>function Hme(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function $me(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Bk(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Bk(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Bk(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(s=>s.payload),e),[]),function whe(t,e=ui){return t=t??Ehe,Be((n,r)=>{let i,s=!0;n.subscribe(We(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Re(r=>r.map(i=>({type:i.type,payload:i}))))}function Bk(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function $6(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class G6{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=DT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Re(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(UE(void 0),yN(),qo(([r,i])=>i.length>0||!r),Re(([,r])=>r),ms)}auditTrail(e){return this.stateChanges(e).pipe(HE((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=$6(e);return H6(this.query,n,this.afs.schedulers.outsideAngular).pipe(ms)}valueChanges(e={}){return Uk(this.query,this.afs.schedulers.outsideAngular).pipe(Re(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),ms)}get(e){return Zt(this.query.get(e)).pipe(ms)}add(e){return this.ref.add(e)}doc(e){return new B6(this.ref.doc(e),this.afs)}}class Gme{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?DT(this.query,this.afs.schedulers.outsideAngular).pipe(Re(n=>n.filter(r=>e.indexOf(r.type)>-1)),qo(n=>n.length>0),ms):DT(this.query,this.afs.schedulers.outsideAngular).pipe(ms)}auditTrail(e){return this.stateChanges(e).pipe(HE((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=$6(e);return H6(this.query,n,this.afs.schedulers.outsideAngular).pipe(ms)}valueChanges(e={}){return Uk(this.query,this.afs.schedulers.outsideAngular).pipe(Re(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),ms)}get(e){return Zt(this.query.get(e)).pipe(ms)}}const z6=new _e("angularfire2.enableFirestorePersistence"),q6=new _e("angularfire2.firestore.persistenceSettings"),zme=new _e("angularfire2.firestore.settings"),qme=new _e("angularfire2.firestore.use-emulator");function W6(t,e=(n=>n)){return{query:e(t),ref:t}}let Hk=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,u,l,d,g,y,v,E,T,C,k,R){this.schedulers=u;const L=ov(n,a,r),Q=d;g&&z$(L,a,y,E,T,C,v,k),[this.firestore,this.persistenceEnabled$]=AI(`${L.name}.firestore`,"AngularFirestore",L.name,()=>{const Ee=a.runOutsideAngular(()=>L.firestore());if(s&&Ee.settings(s),Q&&Ee.useEmulator(...Q),i&&!xE(o)){const Ce=()=>{try{return Zt(Ee.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(x){return typeof console<"u"&&console.warn(x),et(!1)}};return[Ee,a.runOutsideAngular(Ce)]}return[Ee,et(!1)]},[s,Q,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:s,query:o}=W6(i,r),a=this.schedulers.ngZone.run(()=>s);return new G6(a,o,this)}collectionGroup(n,r){const i=r||(o=>o),s=this.firestore.collectionGroup(n);return new Gme(i(s),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new B6(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(le(eg),le(tg,8),le(z6,8),le(zme,8),le(Ho),le(St),le(TI),le(q6,8),le(qme,8),le(mN,8),le(j$,8),le(U$,8),le(B$,8),le(H$,8),le($$,8),le(G$,8),le(II,8))};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Wme=(()=>{class t{constructor(){Us.A.registerVersion("angularfire",sv.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:z6,useValue:!0},{provide:q6,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zr({type:t});static \u0275inj=Sr({providers:[Hk]})}return t})();const $k={methods:{one:{},two:{},three:{},four:{}},model:{one:{},two:{},three:{}},compute:{},hooks:[]},Qme={compute:function(t){const{world:e}=this,n=e.compute;return"string"==typeof t&&n.hasOwnProperty(t)?n[t](this):(t=>"[object Array]"===Object.prototype.toString.call(t))(t)?t.forEach(r=>{e.compute.hasOwnProperty(r)?n[r](this):console.warn("no compute:",t)}):"function"==typeof t?t(this):console.warn("no compute:",t),this}},Jme={forEach:function(t){return this.fullPointer.forEach((n,r)=>{let i=this.update([n]);t(i,r)}),this},map:function(t,e){let r=this.fullPointer.map((s,o)=>{let a=this.update([s]),u=t(a,o);return void 0===u?this.none():u});if(0===r.length)return e||this.update([]);if(void 0!==r[0]&&("string"==typeof r[0]||"object"==typeof r[0]&&(null===r[0]||!r[0].isView)))return r;let i=[];return r.forEach(s=>{i=i.concat(s.fullPointer)}),this.toView(i)},filter:function(t){let e=this.fullPointer;return e=e.filter((r,i)=>{let s=this.update([r]);return t(s,i)}),this.update(e)},find:function(t){let n=this.fullPointer.find((r,i)=>{let s=this.update([r]);return t(s,i)});return this.update([n])},some:function(t){return this.fullPointer.some((n,r)=>{let i=this.update([n]);return t(i,r)})},random:function(t=1){let e=this.fullPointer,n=Math.floor(Math.random()*e.length);return n+t>this.length&&(n=this.length-t,n=n<0?0:n),e=e.slice(n,n+t),this.update(e)}},Aa={termList:function(){return this.methods.one.termList(this.docs)},terms:function(t){let e=this.match(".");return"number"==typeof t?e.eq(t):e},groups:function(t){if(t||0===t)return this.update(this._groups[t]||[]);let e={};return Object.keys(this._groups).forEach(n=>{e[n]=this.update(this._groups[n])}),e},eq:function(t){let e=this.pointer;return e||(e=this.docs.map((n,r)=>[r])),e[t]?this.update([e[t]]):this.none()},first:function(){return this.eq(0)},last:function(){return this.eq(this.fullPointer.length-1)},firstTerms:function(){return this.match("^.")},lastTerms:function(){return this.match(".$")},slice:function(t,e){let n=this.pointer||this.docs.map((r,i)=>[i]);return n=n.slice(t,e),this.update(n)},all:function(){return this.update().toView()},fullSentences:function(){let t=this.fullPointer.map(e=>[e[0]]);return this.update(t).toView()},none:function(){return this.update([])},isDoc:function(t){if(!t||!t.isView)return!1;let e=this.fullPointer,n=t.fullPointer;return!e.length!==n.length&&e.every((r,i)=>!!n[i]&&r[0]===n[i][0]&&r[1]===n[i][1]&&r[2]===n[i][2])},wordCount:function(){return this.docs.reduce((t,e)=>t+e.filter(n=>""!==n.text).length,0)},isFull:function(){let t=this.pointer;if(!t)return!0;if(0===t.length||0!==t[0][0])return!1;let e=0,n=0;return this.document.forEach(r=>e+=r.length),this.docs.forEach(r=>n+=r.length),e===n},getNth:function(t){return"number"==typeof t?this.eq(t):"string"==typeof t?this.if(t):this}};Aa.group=Aa.groups,Aa.fullSentence=Aa.fullSentences,Aa.sentence=Aa.fullSentences,Aa.lastTerm=Aa.lastTerms,Aa.firstTerm=Aa.firstTerms;const Gk=Object.assign({},Aa,Qme,Jme);Gk.get=Gk.eq;const Yme=Gk;class Ug{constructor(e,n,r={}){[["document",e],["world",$k],["_groups",r],["_cache",null],["viewType","View"]].forEach(s=>{Object.defineProperty(this,s[0],{value:s[1],writable:!0})}),this.ptrs=n}get docs(){let e=this.document;return this.ptrs&&(e=$k.methods.one.getDoc(this.ptrs,this.document)),e}get pointer(){return this.ptrs}get methods(){return this.world.methods}get model(){return this.world.model}get hooks(){return this.world.hooks}get isView(){return!0}get found(){return this.docs.length>0}get length(){return this.docs.length}get fullPointer(){let{docs:e,ptrs:n,document:r}=this;return(n||e.map((s,o)=>[o])).map(s=>{let[o,a,u,l,d]=s;return a=a||0,u=u||(r[o]||[]).length,r[o]&&r[o][a]&&(l=l||r[o][a].id,r[o][u-1]&&(d=d||r[o][u-1].id)),[o,a,u,l,d]})}update(e){let n=new Ug(this.document,e);if(this._cache&&e&&e.length>0){let r=[];e.forEach((i,s)=>{let[o,a,u]=i;(1===i.length||0===a&&this.document[o].length===u)&&(r[s]=this._cache[o])}),r.length>0&&(n._cache=r)}return n.world=this.world,n}toView(e){return new Ug(this.document,e||this.pointer)}fromText(e){const{methods:n}=this;let r=n.one.tokenize.fromString(e,this.world),i=new Ug(r);return i.world=this.world,i.compute(["normal","freeze","lexicon"]),this.world.compute.preTagger&&i.compute("preTagger"),i.compute("unfreeze"),i}clone(){let e=this.document.slice(0);e=e.map(r=>r.map(i=>((i=Object.assign({},i)).tags=new Set(i.tags),i)));let n=this.update(this.pointer);return n.document=e,n._cache=this._cache,n}}Object.assign(Ug.prototype,Yme);const zk=Ug,K6=function(t){return t&&"object"==typeof t&&!Array.isArray(t)};function Q6(t,e){if(K6(e))for(const n in e)K6(e[n])?(t[n]||Object.assign(t,{[n]:{}}),Q6(t[n],e[n])):Object.assign(t,{[n]:e[n]});return t}const tye=function(t,e,n,r){const{methods:i,model:s,compute:o,hooks:a}=e;t.methods&&function Zme(t,e){for(const n in e)t[n]=t[n]||{},Object.assign(t[n],e[n])}(i,t.methods),t.model&&Q6(s,t.model),t.irregulars&&function(t,e){let n=t.two.models||{};Object.keys(e).forEach(r=>{e[r].pastTense&&(n.toPast&&(n.toPast.ex[r]=e[r].pastTense),n.fromPast&&(n.fromPast.ex[e[r].pastTense]=r)),e[r].presentTense&&(n.toPresent&&(n.toPresent.ex[r]=e[r].presentTense),n.fromPresent&&(n.fromPresent.ex[e[r].presentTense]=r)),e[r].gerund&&(n.toGerund&&(n.toGerund.ex[r]=e[r].gerund),n.fromGerund&&(n.fromGerund.ex[e[r].gerund]=r)),e[r].comparative&&(n.toComparative&&(n.toComparative.ex[r]=e[r].comparative),n.fromComparative&&(n.fromComparative.ex[e[r].comparative]=r)),e[r].superlative&&(n.toSuperlative&&(n.toSuperlative.ex[r]=e[r].superlative),n.fromSuperlative&&(n.fromSuperlative.ex[e[r].superlative]=r))})}(s,t.irregulars),t.compute&&Object.assign(o,t.compute),a&&(e.hooks=a.concat(t.hooks||[])),t.api&&t.api(n),t.lib&&Object.keys(t.lib).forEach(u=>r[u]=t.lib[u]),t.tags&&r.addTags(t.tags),t.words&&r.addWords(t.words),t.frozen&&r.addWords(t.frozen,!0),t.mutate&&t.mutate(e)},qk=function(t){return"[object Array]"===Object.prototype.toString.call(t)},J6=function(t,e,n){const{methods:r}=n;let i=new e([]);if(i.world=n,"number"==typeof t&&(t=String(t)),!t)return i;if("string"==typeof t)return new e(r.one.tokenize.fromString(t,n));if((t=>"[object Object]"===Object.prototype.toString.call(t))(t)&&t.isView)return new e(t.document,t.ptrs);if(qk(t)){if(qk(t[0])){let o=function(t){return t.map(e=>e.map(n=>({text:n,normal:n,pre:"",post:" ",tags:new Set})))}(t);return new e(o)}let s=function(t){return t.map(e=>e.terms.map(n=>(qk(n.tags)&&(n.tags=new Set(n.tags)),n)))}(t);return new e(s)}return i};let ST=Object.assign({},$k);const Gs=function(t,e){e&&Gs.addWords(e);let n=J6(t,zk,ST);return t&&n.compute(ST.hooks),n};Object.defineProperty(Gs,"_world",{value:ST,writable:!0}),Gs.tokenize=function(t,e){const{compute:n}=this._world;e&&Gs.addWords(e);let r=J6(t,zk,ST);return n.contractions&&r.compute(["alias","normal","machine","contractions"]),r},Gs.plugin=function(t){return tye(t,this._world,zk,this),this},Gs.extend=Gs.plugin,Gs.world=function(){return this._world},Gs.model=function(){return this._world.model},Gs.methods=function(){return this._world.methods},Gs.hooks=function(){return this._world.hooks},Gs.verbose=function(t){const e=typeof process>"u"||!process.env?self.env||{}:process.env;return e.DEBUG_TAGS="tagger"===t||!0===t||"",e.DEBUG_MATCH="match"===t||!0===t||"",e.DEBUG_CHUNKS="chunker"===t||!0===t||"",this},Gs.version="14.13.0";const zs=Gs,oye={one:{cacheDoc:function(t){return t.map(n=>{let r=new Set;return n.forEach(i=>{""!==i.normal&&r.add(i.normal),i.switch&&r.add(`%${i.switch}%`),i.implicit&&r.add(i.implicit),i.machine&&r.add(i.machine),i.root&&r.add(i.root),i.alias&&i.alias.forEach(o=>r.add(o));let s=Array.from(i.tags);for(let o=0;o<s.length;o+=1)r.add("#"+s[o])}),r})}}},aye={cache:function(){return this._cache=this.methods.one.cacheDoc(this.document),this},uncache:function(){return this._cache=null,this}},uye={api:function(t){Object.assign(t.prototype,aye)},compute:{cache:function(t){t._cache=t.methods.one.cacheDoc(t.document)}},methods:oye},Y6=t=>new RegExp("^\\p{Lu}[\\p{Ll}'\u2019]","u").test(t)||new RegExp("^\\p{Lu}$","u").test(t),X6=(t,e,n)=>{if(n.forEach(r=>r.dirty=!0),t){let r=[e,0].concat(n);Array.prototype.splice.apply(t,r)}return t},Bg=function(t){let r=t[t.length-1];r&&!/ $/.test(r.post)&&!/[-\u2013\u2014]/.test(r.post)&&(r.post+=" ")},Z6=(t,e,n)=>{const r=/[-.?!,;:)\u2013\u2014'"]/g;let i=t[e-1];if(!i)return;let s=i.post;if(r.test(s)){let o=s.match(r).join(""),a=n[n.length-1];a.post=o+a.post,i.post=i.post.replace(r,"")}};let Qv=0;const e9=t=>(t=t.length<3?"0"+t:t).length<3?"0"+t:t,t9=function(t){let[e,n]=t.index||[0,0];Qv+=1,Qv=Qv>46655?0:Qv,e=e>46655?0:e,n=n>1294?0:n;let r=e9(Qv.toString(36));r+=e9(e.toString(36));let i=n.toString(36);return i=i.length<2?"0"+i:i,r+=i,r+=parseInt(36*Math.random(),10).toString(36),t.normal+"|"+r.toUpperCase()},n9=function(t){t.has("@hasContraction")&&"function"==typeof t.contractions&&t.grow("@hasContraction").contractions().expand()},r9=t=>"[object Array]"===Object.prototype.toString.call(t),i9=function(t,e,n){const{document:r,world:i}=e;e.uncache();let s=e.fullPointer,o=e.fullPointer;e.forEach((u,l)=>{let d=u.fullPointer[0],[g]=d,y=r[g],v=function(t,e){const{methods:n}=e;return"string"==typeof t?n.one.tokenize.fromString(t,e)[0]:"object"==typeof t&&t.isView?t.clone().docs[0]||[]:r9(t)?r9(t[0])?t[0]:t:[]}(t,i);0!==v.length&&(v=function(t){return t.map(e=>(e.id=t9(e),e))}(v),n?(n9(e.update([d]).firstTerm()),function(t,e,n,r){let[i,s,o]=e;0===s||o===r[i].length?Bg(n):(Bg(n),Bg([t[e[1]]])),function(t,e,n){if(0!==e||!Y6(t[e].text))return;n[0].text=(t=>t.replace(new RegExp("^\\p{Ll}","u"),e=>e.toUpperCase()))(n[0].text);let i=t[e];i.tags.has("ProperNoun")||i.tags.has("Acronym")||Y6(i.text)&&i.text.length>1&&(i.text=(t=>t.replace(new RegExp("^\\p{Lu}","u"),e=>e.toLowerCase()))(i.text))}(t,s,n),X6(t,s,n)}(y,d,v,r)):(n9(e.update([d]).lastTerm()),function(t,e,n,r){let[i,,s]=e,o=(r[i]||[]).length;s<o?(Z6(t,s,n),Bg(n)):o===s&&(Bg(t),Z6(t,s,n),r[i+1]&&(n[n.length-1].post+=" ")),X6(t,e[2],n),e[4]=n[n.length-1].id}(y,d,v,r)),r[g]&&r[g][d[1]]&&(d[3]=r[g][d[1]].id),o[l]=d,d[2]+=v.length,s[l]=d)});let a=e.toView(s);return e.ptrs=o,a.compute(["id","index","freeze","lexicon"]),a.world.compute.preTagger&&a.compute("preTagger"),a.compute("unfreeze"),a},jh={insertAfter:function(t){return i9(t,this,!1)},insertBefore:function(t){return i9(t,this,!0)}};jh.append=jh.insertAfter,jh.prepend=jh.insertBefore,jh.insert=jh.insertAfter;const yye=jh,_ye=/\$[0-9a-z]+/g,Wk={replaceWith:function(t,e={}){let n=this.fullPointer,r=this;if(this.uncache(),"function"==typeof t)return function(t,e){return t.forEach(n=>{let r=e(n);n.replaceWith(r)}),t}(r,t);let i=r.docs[0],s=e.possessives&&i[i.length-1].tags.has("Possessive");t=function(t,e){if("string"!=typeof t)return t;let n=e.groups();return t.replace(_ye,r=>{let i=r.replace(/\$/,"");return n.hasOwnProperty(i)?n[i].text():r})}(t,r);let o=this.update(n);n=n.map(l=>l.slice(0,3));let a=(o.docs[0]||[]).map(l=>Array.from(l.tags));if("string"==typeof t&&(t=this.fromText(t).compute("id")),r.insertAfter(t),o.has("@hasContraction")&&r.contractions&&r.grow("@hasContraction+").contractions().expand(),r.delete(o),s){let l=r.docs[0],d=l[l.length-1];d.tags.has("Possessive")||(d.text+="'s",d.normal+="'s",d.tags.add("Possessive"))}let u=r.toView(n).compute(["index","freeze","lexicon"]);return u.world.compute.preTagger&&u.compute("preTagger"),u.compute("unfreeze"),e.tags&&u.terms().forEach((l,d)=>{l.tagSafe(a[d])}),e.case&&u.docs[0]&&u.docs[0][0]&&0===u.docs[0][0].index[1]&&(u.docs[0][0].text=function(t){return t.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())}(u.docs[0][0].text)),u},replace:function(t,e,n){if(t&&!e)return this.replaceWith(t,n);let r=this.match(t);return r.found?(this.soften(),r.replaceWith(e,n)):this}},Eye=Wk,Kk={remove:function(t){const{indexN:e}=this.methods.one.pointer;this.uncache();let n=this.all(),r=this;t&&(n=this,r=this.match(t));let i=!n.ptrs;r.has("@hasContraction")&&r.contractions&&r.grow("@hasContraction").contractions().expand();let s=n.fullPointer,o=r.fullPointer.reverse(),a=function(t,e){e.forEach(n=>{let[r,i,s]=n,o=s-i;t[r]&&(s===t[r].length&&s>1&&function(t,e){let n=t.length-1,r=t[n],i=t[n-e];i&&r&&(i.post+=r.post,i.post=i.post.replace(/ +([.?!,;:])/,"$1"),i.post=i.post.replace(/[,;:]+([.?!])/,"$1"))}(t[r],o),t[r].splice(i,o))});for(let n=t.length-1;n>=0;n-=1)if(0===t[n].length&&(t.splice(n,1),n===t.length&&t[n-1])){let r=t[n-1],i=r[r.length-1];i&&(i.post=i.post.trimEnd())}return t}(this.document,o);return s=function(t,e){return(t=t.map(n=>{let[r]=n;return e[r]&&e[r].forEach(i=>{n[1]<=i[1]&&n[2]>=i[2]&&(n[2]-=i[2]-i[1])}),n})).forEach((n,r)=>{if(0===n[1]&&0==n[2])for(let i=r+1;i<t.length;i+=1)t[i][0]-=1,t[i][0]<0&&(t[i][0]=0)}),t=(t=t.filter(n=>n[2]-n[1]>0)).map(n=>(n[3]=null,n[4]=null,n))}(s,e(o)),n.ptrs=s,n.document=a,n.compute("index"),i&&(n.ptrs=void 0),t?n.toView(s):(this.ptrs=[],n.none())}};Kk.delete=Kk.remove;const Cye=Kk,Jv={pre:function(t,e){return void 0===t&&this.found?this.docs[0][0].pre:(this.docs.forEach(n=>{let r=n[0];!0===e?r.pre+=t:r.pre=t}),this)},post:function(t,e){if(void 0===t){let n=this.docs[this.docs.length-1];return n[n.length-1].post}return this.docs.forEach(n=>{let r=n[n.length-1];!0===e?r.post+=t:r.post=t}),this},trim:function(){if(!this.found)return this;let t=this.docs,e=t[0][0];e.pre=e.pre.trimStart();let n=t[t.length-1],r=n[n.length-1];return r.post=r.post.trimEnd(),this},hyphenate:function(){return this.docs.forEach(t=>{t.forEach((e,n)=>{0!==n&&(e.pre=""),t[n+1]&&(e.post="-")})}),this},dehyphenate:function(){const t=/[-\u2013\u2014]/;return this.docs.forEach(e=>{e.forEach(n=>{t.test(n.post)&&(n.post=" ")})}),this},toQuotations:function(t,e){return t=t||'"',e=e||'"',this.docs.forEach(n=>{n[0].pre=t+n[0].pre;let r=n[n.length-1];r.post=e+r.post}),this},toParentheses:function(t,e){return t=t||"(",e=e||")",this.docs.forEach(n=>{n[0].pre=t+n[0].pre;let r=n[n.length-1];r.post=e+r.post}),this}};Jv.deHyphenate=Jv.dehyphenate,Jv.toQuotation=Jv.toQuotations;const Dye=Jv,Qk={alpha:(t,e)=>t.normal<e.normal?-1:t.normal>e.normal?1:0,length:(t,e)=>{let n=t.normal.trim().length,r=e.normal.trim().length;return n<r?1:n>r?-1:0},wordCount:(t,e)=>t.words<e.words?1:t.words>e.words?-1:0,sequential:(t,e)=>t[0]<e[0]?1:t[0]>e[0]?-1:t[1]>e[1]?1:-1,byFreq:function(t){let e={};return t.forEach(n=>{e[n.normal]=e[n.normal]||0,e[n.normal]+=1}),t.sort((n,r)=>{let i=e[n.normal],s=e[r.normal];return i<s?1:i>s?-1:0}),t}},Sye=new Set(["index","sequence","seq","sequential","chron","chronological"]),Pye=new Set(["freq","frequency","topk","repeats"]),Nye=new Set(["alpha","alphabetical"]),kye={unique:function(){let t=new Set;return this.filter(n=>{let r=n.text("machine");return!t.has(r)&&(t.add(r),!0)})},reverse:function(){let t=this.pointer||this.docs.map((e,n)=>[n]);return t=[].concat(t),t=t.reverse(),this._cache&&(this._cache=this._cache.reverse()),this.update(t)},sort:function(t){let{docs:e,pointer:n}=this;if(this.uncache(),"function"==typeof t)return function(t,e){let n=t.fullPointer;return n=n.sort((r,i)=>(r=t.update([r]),i=t.update([i]),e(r,i))),t.ptrs=n,t}(this,t);t=t||"alpha";let r=n||e.map((s,o)=>[o]),i=e.map((s,o)=>({index:o,words:s.length,normal:s.map(a=>a.machine||a.normal||"").join(" "),pointer:r[o]}));return Sye.has(t)&&(t="sequential"),Nye.has(t)&&(t="alpha"),Pye.has(t)?(i=Qk.byFreq(i),this.update(i.map(s=>s.pointer))):"function"==typeof Qk[t]?(i=i.sort(Qk[t]),this.update(i.map(s=>s.pointer))):this}},s9=function(t,e){if(t.length>0){let n=t[t.length-1],r=n[n.length-1];!1===/ /.test(r.post)&&(r.post+=" ")}return t.concat(e)},Oye=Object.assign({},{toLowerCase:function(){return this.termList().forEach(t=>{t.text=t.text.toLowerCase()}),this},toUpperCase:function(){return this.termList().forEach(t=>{t.text=t.text.toUpperCase()}),this},toTitleCase:function(){return this.termList().forEach(t=>{t.text=t.text.replace(/^ *[a-z\u00C0-\u00FF]/,e=>e.toUpperCase())}),this},toCamelCase:function(){return this.docs.forEach(t=>{t.forEach((e,n)=>{0!==n&&(e.text=e.text.replace(/^ *[a-z\u00C0-\u00FF]/,r=>r.toUpperCase())),n!==t.length-1&&(e.post="")})}),this}},yye,Eye,Cye,Dye,kye,{concat:function(t){if("string"==typeof t){let e=this.fromText(t);if(this.found&&this.ptrs){let n=this.fullPointer;this.document.splice(n[n.length-1][0],0,...e.document)}else this.document=this.document.concat(e.document);return this.all().compute("index")}if("object"==typeof t&&t.isView)return function(t,e){if(t.document===e.document){let r=t.fullPointer.concat(e.fullPointer);return t.toView(r).compute("index")}return e.fullPointer.forEach(r=>{r[0]+=t.document.length}),t.document=s9(t.document,e.docs),t.all()}(this,t);if((t=>"[object Array]"===Object.prototype.toString.call(t))(t)){let e=s9(this.document,t);return this.document=e,this.all()}return this}},{harden:function(){return this.ptrs=this.fullPointer,this},soften:function(){let t=this.ptrs;return!t||t.length<1||(t=t.map(e=>e.slice(0,3)),this.ptrs=t),this}}),Fye={api:function(t){Object.assign(t.prototype,Oye)},compute:{id:function(t){let e=t.docs;for(let n=0;n<e.length;n+=1)for(let r=0;r<e[n].length;r+=1){let i=e[n][r];i.id=i.id||t9(i)}}}},mo=!0,Lye={one:{contractions:[{word:"@",out:["at"]},{word:"arent",out:["are","not"]},{word:"alot",out:["a","lot"]},{word:"brb",out:["be","right","back"]},{word:"cannot",out:["can","not"]},{word:"dun",out:["do","not"]},{word:"can't",out:["can","not"]},{word:"shan't",out:["should","not"]},{word:"won't",out:["will","not"]},{word:"that's",out:["that","is"]},{word:"what's",out:["what","is"]},{word:"let's",out:["let","us"]},{word:"dunno",out:["do","not","know"]},{word:"gonna",out:["going","to"]},{word:"gotta",out:["have","got","to"]},{word:"gimme",out:["give","me"]},{word:"outta",out:["out","of"]},{word:"tryna",out:["trying","to"]},{word:"gtg",out:["got","to","go"]},{word:"im",out:["i","am"]},{word:"imma",out:["I","will"]},{word:"imo",out:["in","my","opinion"]},{word:"irl",out:["in","real","life"]},{word:"ive",out:["i","have"]},{word:"rn",out:["right","now"]},{word:"tbh",out:["to","be","honest"]},{word:"wanna",out:["want","to"]},{word:"c'mere",out:["come","here"]},{word:"c'mon",out:["come","on"]},{word:"shoulda",out:["should","have"]},{word:"coulda",out:["coulda","have"]},{word:"woulda",out:["woulda","have"]},{word:"musta",out:["must","have"]},{word:"tis",out:["it","is"]},{word:"twas",out:["it","was"]},{word:"y'know",out:["you","know"]},{word:"ne'er",out:["never"]},{word:"o'er",out:["over"]},{after:"ll",out:["will"]},{after:"ve",out:["have"]},{after:"re",out:["are"]},{after:"m",out:["am"]},{before:"c",out:["ce"]},{before:"m",out:["me"]},{before:"n",out:["ne"]},{before:"qu",out:["que"]},{before:"s",out:["se"]},{before:"t",out:["tu"]},{word:"shouldnt",out:["should","not"]},{word:"couldnt",out:["could","not"]},{word:"wouldnt",out:["would","not"]},{word:"hasnt",out:["has","not"]},{word:"wasnt",out:["was","not"]},{word:"isnt",out:["is","not"]},{word:"cant",out:["can","not"]},{word:"dont",out:["do","not"]},{word:"wont",out:["will","not"]},{word:"howd",out:["how","did"]},{word:"whatd",out:["what","did"]},{word:"whend",out:["when","did"]},{word:"whered",out:["where","did"]}],numberSuffixes:{st:mo,nd:mo,rd:mo,th:mo,am:mo,pm:mo,max:mo,"\xb0":mo,s:mo,e:mo,er:mo,\u00e8re:mo,\u00e8me:mo}}},Jk=function(t,e,n){let[r,i]=e;!n||0===n.length||((n=n.map((s,o)=>(s.implicit=s.text,s.machine=s.text,s.pre="",s.post="",s.text="",s.normal="",s.index=[r,i+o],s)))[0]&&(n[0].pre=t[r][i].pre,n[n.length-1].post=t[r][i].post,n[0].text=t[r][i].text,n[0].normal=t[r][i].normal),t[r].splice(i,1,...n))},jye=/'/,Uye=new Set(["what","how","when","where","why"]),Bye=new Set(["be","go","start","think","need"]),Hye=new Set(["been","gone"]),Yk=/'/,zye=/(e|\xe9|aison|sion|tion)$/,qye=/(age|isme|acle|ege|oire)$/,Wye=/^([0-9.]{1,4}[a-z]{0,2}) ?[-\u2013\u2014] ?([0-9]{1,4}[a-z]{0,2})$/i,Kye=/^([0-9]{1,2}(:[0-9][0-9])?(am|pm)?) ?[-\u2013\u2014] ?([0-9]{1,2}(:[0-9][0-9])?(am|pm)?)$/i,Qye=/^[0-9]{3}-[0-9]{4}$/,Jye=function(t,e){let n=t[e],r=n.text.match(Wye);return null!==r?!0===n.tags.has("PhoneNumber")||Qye.test(n.text)?null:[r[1],"to",r[2]]:(r=n.text.match(Kye),null!==r?[r[1],"to",r[4]]:null)},Yye=/^([+-]?[0-9][.,0-9]*)([a-z\xb0\xb2\xb3\xb5/]+)$/,Xye=function(t,e,n){const r=n.model.one.numberSuffixes||{};let s=t[e].text.match(Yye);if(null!==s){let o=s[2].toLowerCase().trim();return r.hasOwnProperty(o)?null:[s[1],o]}return null},o9=/'/,Zye=/^[0-9][^-\u2013\u2014]*[-\u2013\u2014].*?[0-9]/,a9=function(t,e,n,r){let i=e.update();i.document=[t];let s=n+r;n>0&&(n-=1),t[s]&&(s+=1),i.ptrs=[[0,n,s]]},u9={t:(t,e)=>function(t,e){return"ain't"===t[e].normal||"aint"===t[e].normal?null:[t[e].normal.replace(/n't/,""),"not"]}(t,e),d:(t,e)=>function(t,e){let n=t[e].normal.split(jye)[0];if(Uye.has(n))return[n,"did"];if(t[e+1]){if(Hye.has(t[e+1].normal))return[n,"had"];if(Bye.has(t[e+1].normal))return[n,"would"]}return null}(t,e)},l9={j:(t,e)=>((t,e)=>["je",t[e].normal.split(Yk)[1]])(t,e),l:(t,e)=>((t,e)=>{let n=t[e].normal.split(Yk)[1];return n&&n.endsWith("e")?["la",n]:["le",n]})(t,e),d:(t,e)=>((t,e)=>{let n=t[e].normal.split(Yk)[1];return n&&zye.test(n)&&!qye.test(n)?["du",n]:n&&n.endsWith("s")?["des",n]:["de",n]})(t,e)},e_e=function(t,e,n,r){for(let i=0;i<t.length;i+=1){let s=t[i];if(s.word===e.normal)return s.out;if(null!==r&&r===s.after)return[n].concat(s.out);if(null!==n&&n===s.before&&r&&r.length>2)return s.out.concat(r)}return null},Zk=function(t,e){let n=e.fromText(t.join(" "));return n.compute(["id","alias"]),n.docs[0]},t_e=function(t,e){for(let n=e+1;n<5&&t[n];n+=1)if("been"===t[n].normal)return["there","has"];return["there","is"]},n_e={model:Lye,compute:{contractions:t=>{let{world:e,document:n}=t;const{model:r,methods:i}=e;let s=r.one.contractions||[];n.forEach((o,a)=>{for(let u=o.length-1;u>=0;u-=1){let l=null,d=null;if(!0===o9.test(o[u].normal)){let y=o[u].normal.split(o9);l=y[0],d=y[1]}let g=e_e(s,o[u],l,d);!g&&u9.hasOwnProperty(d)&&(g=u9[d](o,u,e)),!g&&l9.hasOwnProperty(l)&&(g=l9[l](o,u)),"there"===l&&"s"===d&&(g=t_e(o,u)),g?(g=Zk(g,t),Jk(n,[a,u],g),a9(n[a],t,u,g.length)):Zye.test(o[u].normal)?(g=Jye(o,u),g&&(g=Zk(g,t),Jk(n,[a,u],g),i.one.setTag(g,"NumberRange",e),g[2]&&g[2].tags.has("Time")&&i.one.setTag([g[0]],"Time",e,null,"time-range"),a9(n[a],t,u,g.length))):(g=Xye(o,u,e),g&&(g=Zk(g,t),Jk(n,[a,u],g),i.one.setTag([g[1]],"Unit",e,null,"contraction-unit")))}})}},hooks:["contractions"]},c9=function(t){const e=t.world,{model:n,methods:r}=t.world,i=r.one.setTag,{frozenLex:s}=n.one,o=n.one._multiCache||{};t.docs.forEach(a=>{for(let u=0;u<a.length;u+=1){let l=a[u],d=l.machine||l.normal;if(void 0!==o[d]&&a[u+1])for(let y=u+o[d]-1;y>u;y-=1){let v=a.slice(u,y+1),E=v.map(T=>T.machine||T.normal).join(" ");!0!==s.hasOwnProperty(E)||(i(v,s[E],e,!1,"1-frozen-multi-lexicon"),v.forEach(T=>T.frozen=!0))}void 0!==s[d]&&s.hasOwnProperty(d)&&(i([l],s[d],e,!1,"1-freeze-lexicon"),l.frozen=!0)}})},r_e={frozen:c9,freeze:c9,unfreeze:function(t){return t.docs.forEach(e=>{e.forEach(n=>{delete n.frozen})}),t}},d9=t=>"\x1b[34m"+t+"\x1b[0m",h9=t=>"\x1b[3m\x1b[2m"+t+"\x1b[0m",f9=function(t){t.docs.forEach(e=>{console.log(d9("\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500")),e.forEach(n=>{let r=`  ${h9("\u2502")}  `,i=n.implicit||n.text||"-";r+=!0===n.frozen?`${d9(i)} \u2744\ufe0f`:h9(i),console.log(r)})})},i_e={compute:r_e,mutate:t=>{const e=t.methods.one;e.termMethods.isFrozen=n=>!0===n.frozen,e.debug.freeze=f9,e.debug.frozen=f9},api:function(t){t.prototype.freeze=function(){return this.docs.forEach(e=>{e.forEach(n=>{n.frozen=!0})}),this},t.prototype.unfreeze=function(){this.compute("unfreeze")},t.prototype.isFrozen=function(){return this.match("@isFrozen+")}},hooks:["freeze"]},s_e=function(t,e,n){const{model:r,methods:i}=n,s=i.one.setTag,o=r.one._multiCache||{},{lexicon:a}=r.one||{};let u=t[e],l=u.machine||u.normal;if(void 0!==o[l]&&t[e+1]){for(let g=e+o[l]-1;g>e;g-=1){let y=t.slice(e,g+1);if(y.length<=1)return!1;let v=y.map(E=>E.machine||E.normal).join(" ");if(!0===a.hasOwnProperty(v)){let E=a[v];return s(y,E,n,!1,"1-multi-lexicon"),E&&2===E.length&&("PhrasalVerb"===E[0]||"PhrasalVerb"===E[1])&&s([y[1]],"Particle",n,!1,"1-phrasal-particle"),!0}}return!1}return null},p9=/^(under|over|mis|re|un|dis|semi|pre|post)-?/,o_e=new Set(["Verb","Infinitive","PastTense","Gerund","PresentTense","Adjective","Participle"]),a_e=function(t,e,n){const{model:r,methods:i}=n,s=i.one.setTag,{lexicon:o}=r.one;let a=t[e],u=a.machine||a.normal;if(void 0!==o[u]&&o.hasOwnProperty(u))return s([a],o[u],n,!1,"1-lexicon"),!0;if(a.alias){let l=a.alias.find(d=>o.hasOwnProperty(d));if(l)return s([a],o[l],n,!1,"1-lexicon-alias"),!0}if(!0===p9.test(u)){let l=u.replace(p9,"");if(o.hasOwnProperty(l)&&l.length>3&&o_e.has(o[l]))return s([a],o[l],n,!1,"1-lexicon-prefix"),!0}return null},u_e={model:{one:{lexicon:{},_multiCache:{},frozenLex:{}}},methods:{one:{expandLexicon:function(t){let e={},n={};return Object.keys(t).forEach(r=>{let i=t[r],s=(r=(r=r.toLowerCase().trim()).replace(/'s\b/,"")).split(/ /);s.length>1&&(void 0===n[s[0]]||s.length>n[s[0]])&&(n[s[0]]=s.length),e[r]=e[r]||i}),delete e[""],delete e.null,delete e[" "],{lex:e,_multi:n}}}},compute:{lexicon:function(t){const e=t.world;t.docs.forEach(n=>{for(let r=0;r<n.length;r+=1)if(0===n[r].tags.size){let i=null;i=i||s_e(n,r,e),i=i||a_e(n,r,e)}})}},lib:{addWords:function(t,e=!1){const n=this.world(),{methods:r,model:i}=n;if(!t)return;if(Object.keys(t).forEach(a=>{"string"==typeof t[a]&&t[a].startsWith("#")&&(t[a]=t[a].replace(/^#/,""))}),!0===e){let{lex:a,_multi:u}=r.one.expandLexicon(t,n);return Object.assign(i.one._multiCache,u),void Object.assign(i.one.frozenLex,a)}if(r.two.expandLexicon){let{lex:a,_multi:u}=r.two.expandLexicon(t,n);Object.assign(i.one.lexicon,a),Object.assign(i.one._multiCache,u)}let{lex:s,_multi:o}=r.one.expandLexicon(t,n);Object.assign(i.one.lexicon,s),Object.assign(i.one._multiCache,o)}},hooks:["lexicon"]},g9=function(t,e){let n=[{}],r=[null],i=[0],s=[],o=0;t.forEach(function(a){let u=0,l=function(t,e){const{methods:n,model:r}=e;return n.one.tokenize.splitTerms(t,r).map(s=>n.one.tokenize.splitWhitespace(s,r)).map(s=>s.text.toLowerCase())}(a,e);for(let d=0;d<l.length;d++){let g=l[d];n[u]&&n[u].hasOwnProperty(g)?u=n[u][g]:(o++,n[u][g]=o,n[o]={},u=o,r[o]=null)}r[u]=[l.length]});for(let a in n[0])o=n[0][a],i[o]=0,s.push(o);for(;s.length;){let a=s.shift(),u=Object.keys(n[a]);for(let l=0;l<u.length;l+=1){let d=u[l],g=n[a][d];for(s.push(g),o=i[a];o>0&&!n[o].hasOwnProperty(d);)o=i[o];if(n.hasOwnProperty(o)){let y=n[o][d];i[g]=y,r[y]&&(r[g]=r[g]||[],r[g]=r[g].concat(r[y]))}else i[g]=0}}return{goNext:n,endAs:r,failTo:i}},c_e=function(t,e,n){let r=0,i=[];for(let s=0;s<t.length;s++){let o=t[s][n.form]||t[s].normal;for(;r>0&&(void 0===e.goNext[r]||!e.goNext[r].hasOwnProperty(o));)r=e.failTo[r]||0;if(e.goNext[r].hasOwnProperty(o)&&(r=e.goNext[r][o],e.endAs[r])){let a=e.endAs[r];for(let u=0;u<a.length;u++){let l=a[u],d=t[s-l+1],[g,y]=d.index;i.push([g,y,y+l,d.id])}}}return i},d_e=function(t,e){for(let n=0;n<t.length;n+=1)if(!0===e.has(t[n]))return!1;return!0},ex=(t,e)=>{for(let n=t.length-1;n>=0;n-=1)if(t[n]!==e)return t.slice(0,n+1);return t},tx={buildTrie:function(t){return function(t){return t.goNext=t.goNext.map(e=>{if(0!==Object.keys(e).length)return e}),t.goNext=ex(t.goNext,void 0),t.failTo=ex(t.failTo,0),t.endAs=ex(t.endAs,null),t}(g9(t,this.world()))}};tx.compile=tx.buildTrie;const m_e={api:function p_e(t){t.prototype.lookup=function(e,n={}){if(!e)return this.none();"string"==typeof e&&(e=[e]);let r=(t=>"[object Object]"===Object.prototype.toString.call(t))(e)?e:g9(e,this.world),i=function(t,e,n){let r=[];n.form=n.form||"normal";let i=t.docs;if(!e.goNext||!e.goNext[0])return console.error("Compromise invalid lookup trie"),t.none();let s=Object.keys(e.goNext[0]);for(let o=0;o<i.length;o++){if(t._cache&&t._cache[o]&&!0===d_e(s,t._cache[o]))continue;let u=c_e(i[o],e,n);u.length>0&&(r=r.concat(u))}return t.update(r)}(this,r,n);return i=i.settle(),i}},lib:tx},m9=function(t,e){return e&&t.forEach(n=>{let r=n[0];e[r]&&(n[0]=e[r][0],n[1]+=e[r][1],n[2]+=e[r][1])}),t},y9=function(t,e){let{ptrs:n,byGroup:r}=t;return n=m9(n,e),Object.keys(r).forEach(i=>{r[i]=m9(r[i],e)}),{ptrs:n,byGroup:r}},Yv=function(t,e,n){const r=n.methods.one;return"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=r.killUnicode(t,n),t=r.parseMatch(t,e,n)),t},_9=t=>"[object Object]"===Object.prototype.toString.call(t),Xv=t=>t&&_9(t)&&!0===t.isView,Zv=t=>t&&_9(t)&&!0===t.isNet,y_e={matchOne:function(t,e,n){const r=this.methods.one;if(Xv(t))return this.intersection(t).eq(0);if(Zv(t))return this.sweep(t,{tagger:!1,matchOne:!0}).view;t=Yv(t,n,this.world);let s=r.match(this.docs,{regs:t,group:e,justOne:!0},this._cache),{ptrs:o,byGroup:a}=y9(s,this.fullPointer),u=this.toView(o);return u._groups=a,u},match:function(t,e,n){const r=this.methods.one;if(Xv(t))return this.intersection(t);if(Zv(t))return this.sweep(t,{tagger:!1}).view.settle();t=Yv(t,n,this.world);let s=r.match(this.docs,{regs:t,group:e},this._cache),{ptrs:o,byGroup:a}=y9(s,this.fullPointer),u=this.toView(o);return u._groups=a,u},has:function(t,e,n){const r=this.methods.one;return Xv(t)?this.intersection(t).fullPointer.length>0:Zv(t)?this.sweep(t,{tagger:!1}).view.found:(t=Yv(t,n,this.world),r.match(this.docs,{regs:t,group:e,justOne:!0},this._cache).ptrs.length>0)},if:function(t,e,n){const r=this.methods.one;if(Xv(t))return this.filter(u=>u.intersection(t).found);if(Zv(t)){let u=this.sweep(t,{tagger:!1}).view.settle();return this.if(u)}let i={regs:t=Yv(t,n,this.world),group:e,justOne:!0},s=this.fullPointer,o=this._cache||[];s=s.filter((u,l)=>{let d=this.update([u]);return r.match(d.docs,i,o[l]).ptrs.length>0});let a=this.update(s);return this._cache&&(a._cache=s.map(u=>o[u[0]])),a},ifNo:function(t,e,n){const{methods:r}=this,i=r.one;if(Xv(t))return this.filter(a=>!a.intersection(t).found);if(Zv(t)){let a=this.sweep(t,{tagger:!1}).view.settle();return this.ifNo(a)}t=Yv(t,n,this.world);let s=this._cache||[],o=this.filter((a,u)=>0===i.match(a.docs,{regs:t,group:e,justOne:!0},s[u]).ptrs.length);return this._cache&&(o._cache=o.ptrs.map(a=>s[a[0]])),o}},__e={before:function(t,e,n){const{indexN:r}=this.methods.one.pointer;let i=[],s=r(this.fullPointer);Object.keys(s).forEach(a=>{let u=s[a].sort((l,d)=>l[1]>d[1]?1:-1)[0];u[1]>0&&i.push([u[0],0,u[1]])});let o=this.toView(i);return t?o.match(t,e,n):o},after:function(t,e,n){const{indexN:r}=this.methods.one.pointer;let i=[],s=r(this.fullPointer),o=this.document;Object.keys(s).forEach(u=>{let l=s[u].sort((y,v)=>y[1]>v[1]?-1:1)[0],[d,,g]=l;g<o[d].length&&i.push([d,g,o[d].length])});let a=this.toView(i);return t?a.match(t,e,n):a},growLeft:function(t,e,n){"string"==typeof t&&(t=this.world.methods.one.parseMatch(t,n,this.world)),t[t.length-1].end=!0;let r=this.fullPointer;return this.forEach((i,s)=>{let o=i.before(t,e);if(o.found){let a=o.terms();r[s][1]-=a.length,r[s][3]=a.docs[0][0].id}}),this.update(r)},growRight:function(t,e,n){"string"==typeof t&&(t=this.world.methods.one.parseMatch(t,n,this.world)),t[0].start=!0;let r=this.fullPointer;return this.forEach((i,s)=>{let o=i.after(t,e);if(o.found){let a=o.terms();r[s][2]+=a.length,r[s][4]=null}}),this.update(r)},grow:function(t,e,n){return this.growRight(t,e,n).growLeft(t,e,n)}},v9=function(t,e){return[t[0],t[1],e[2]]},nx=(t,e,n)=>"string"==typeof t||function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)?e.match(t,n):t||e.none(),rx=function(t,e){let[n,r,i]=t;return e.document[n]&&e.document[n][r]&&(t[3]=t[3]||e.document[n][r].id,e.document[n][i-1]&&(t[4]=t[4]||e.document[n][i-1].id)),t},Hg={splitOn:function(t,e){const{splitAll:n}=this.methods.one.pointer;let r=nx(t,this,e).fullPointer,i=n(this.fullPointer,r),s=[];return i.forEach(o=>{s.push(o.passthrough),s.push(o.before),s.push(o.match),s.push(o.after)}),s=s.filter(o=>o),s=s.map(o=>rx(o,this)),this.update(s)},splitBefore:function(t,e){const{splitAll:n}=this.methods.one.pointer;let r=nx(t,this,e).fullPointer,i=n(this.fullPointer,r);for(let o=0;o<i.length;o+=1)!i[o].after&&i[o+1]&&i[o+1].before&&i[o].match&&i[o].match[0]===i[o+1].before[0]&&(i[o].after=i[o+1].before,delete i[o+1].before);let s=[];return i.forEach(o=>{s.push(o.passthrough),s.push(o.before),s.push(o.match&&o.after?v9(o.match,o.after):o.match)}),s=s.filter(o=>o),s=s.map(o=>rx(o,this)),this.update(s)},splitAfter:function(t,e){const{splitAll:n}=this.methods.one.pointer;let r=nx(t,this,e).fullPointer,i=n(this.fullPointer,r),s=[];return i.forEach(o=>{s.push(o.passthrough),o.before&&o.match?s.push(v9(o.before,o.match)):(s.push(o.before),s.push(o.match)),s.push(o.after)}),s=s.filter(o=>o),s=s.map(o=>rx(o,this)),this.update(s)}};Hg.split=Hg.splitAfter;const w_e=function(t,e){return!(!t||!e||t[0]!==e[0])&&t[2]===e[1]},b9=function(t,e,n){const r=t.world,i=r.methods.one.parseMatch;n=n||"^.";let s=i(e=e||".$",{},r),o=i(n,{},r);s[s.length-1].end=!0,o[0].start=!0;let a=t.fullPointer,u=[a[0]];for(let l=1;l<a.length;l+=1){let d=u[u.length-1],g=a[l],y=t.update([d]),v=t.update([g]);w_e(d,g)&&y.has(s)&&v.has(o)?u[u.length-1]=[d[0],d[1],g[2],d[3],g[4]]:u.push(g)}return t.update(u)},Ca=Object.assign({},y_e,__e,Hg,{joinIf:function(t,e){return b9(this,t,e)},join:function(){return b9(this)}});Ca.lookBehind=Ca.before,Ca.lookBefore=Ca.before,Ca.lookAhead=Ca.after,Ca.lookAfter=Ca.after,Ca.notIf=Ca.ifNo;const I_e=/(?:^|\s)([![^]*(?:<[^<]*>)?\/.*?[^\\/]\/[?\]+*$~]*)(?:\s|$)/,T_e=/([!~[^]*(?:<[^<]*>)?\([^)]+[^\\)]\)[?\]+*$~]*)(?:\s|$)/,A_e=/ /g,w9=t=>/^[![^]*(<[^<]*>)?\//.test(t)&&/\/[?\]+*$~]*$/.test(t),E9=function(t){return(t=t.map(e=>e.trim())).filter(e=>e)},I9=/\{([0-9]+)?(, *[0-9]*)?\}/,T9=/&&/,S_e=new RegExp(/^<\s*(\S+)\s*>/),A9=t=>t.charAt(0).toUpperCase()+t.substring(1),Ko=t=>t.charAt(t.length-1),yo=t=>t.charAt(0),$g=t=>t.substring(1),Gg=t=>t.substring(0,t.length-1),e0=function(t){return t=$g(t),Gg(t)},C9=function(t,e){let n={};for(let r=0;r<2;r+=1){if("$"===Ko(t)&&(n.end=!0,t=Gg(t)),"^"===yo(t)&&(n.start=!0,t=$g(t)),"?"===Ko(t)&&(n.optional=!0,t=Gg(t)),("["===yo(t)||"]"===Ko(t))&&(n.group=null,"["===yo(t)&&(n.groupStart=!0),"]"===Ko(t)&&(n.groupEnd=!0),t=(t=t.replace(/^\[/,"")).replace(/\]$/,""),"<"===yo(t))){const i=S_e.exec(t);i.length>=2&&(n.group=i[1],t=t.replace(i[0],""))}if("+"===Ko(t)&&(n.greedy=!0,t=Gg(t)),"*"!==t&&"*"===Ko(t)&&"\\*"!==t&&(n.greedy=!0,t=Gg(t)),"!"===yo(t)&&(n.negative=!0,t=$g(t)),"~"===yo(t)&&"~"===Ko(t)&&t.length>2&&(t=e0(t),n.fuzzy=!0,n.min=e.fuzzy||.85,!1===/\(/.test(t)))return n.word=t,n;if("/"===yo(t)&&"/"===Ko(t))return t=e0(t),e.caseSensitive&&(n.use="text"),n.regex=new RegExp(t),n;if(!0===I9.test(t)&&(t=t.replace(I9,(i,s,o)=>(void 0===o?(n.min=Number(s),n.max=Number(s)):(o=o.replace(/, */,""),void 0===s?(n.min=0,n.max=Number(o)):(n.min=Number(s),n.max=Number(o||999))),n.greedy=!0,n.min||(n.optional=!0),""))),"("===yo(t)&&")"===Ko(t)){T9.test(t)?(n.choices=t.split(T9),n.operator="and"):(n.choices=t.split("|"),n.operator="or"),n.choices[0]=$g(n.choices[0]);let i=n.choices.length-1;n.choices[i]=Gg(n.choices[i]),n.choices=n.choices.map(s=>s.trim()),n.choices=n.choices.filter(s=>s),n.choices=n.choices.map(s=>s.split(/ /g).map(o=>C9(o,e))),t=""}if("{"===yo(t)&&"}"===Ko(t)){if(t=e0(t),n.root=t,/\//.test(t)){let i=n.root.split(/\//);n.root=i[0],n.pos=i[1],"adj"===n.pos&&(n.pos="Adjective"),n.pos=n.pos.charAt(0).toUpperCase()+n.pos.substr(1).toLowerCase(),void 0!==i[2]&&(n.sense=i[2])}return n}if("<"===yo(t)&&">"===Ko(t))return t=e0(t),n.chunk=A9(t),n.greedy=!0,n;if("%"===yo(t)&&"%"===Ko(t))return t=e0(t),n.switch=t,n}return"#"===yo(t)?(n.tag=$g(t),n.tag=A9(n.tag),n):"@"===yo(t)?(n.method=$g(t),n):"."===t?(n.anything=!0,n):"*"===t?(n.anything=!0,n.greedy=!0,n.optional=!0,n):(t&&(t=(t=t.replace("\\*","*")).replace("\\.","."),e.caseSensitive?n.use="text":t=t.toLowerCase(),n.word=t),n)},P_e=C9,N_e=/[a-z0-9][-\u2013\u2014][a-z]/i,D9=function(t,e){let{all:n}=e.methods.two.transform.verb||{};return n?n(t.root,e.model):[]},S9=function(t,e){let{all:n}=e.methods.two.transform.noun||{};return n?n(t.root,e.model):[t.root]},P9=function(t,e){let{all:n}=e.methods.two.transform.adjective||{};return n?n(t.root,e.model):[t.root]},L_e=function(t,e){for(let n of e)if(t.has(n))return!0;return!1},j_e=function(t,e){for(let n=0;n<t.length;n+=1){let r=t[n];if(!0!==r.optional&&!0!==r.negative&&!0!==r.fuzzy){if(void 0!==r.word&&!1===e.has(r.word)||void 0!==r.tag&&!1===e.has("#"+r.tag))return!0;if(r.fastOr&&!1===L_e(r.fastOr,e))return!1}}return!1},H_e=/([\u0022\uFF02\u0027\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F])/,$_e=/([\u0022\uFF02\u0027\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4])/,N9=/^[-\u2013\u2014]$/,R9=/ [-\u2013\u2014]{1,3} /,wu=(t,e)=>-1!==t.post.indexOf(e),ix={hasQuote:t=>H_e.test(t.pre)||$_e.test(t.post),hasComma:t=>wu(t,","),hasPeriod:t=>!0===wu(t,".")&&!1===wu(t,"..."),hasExclamation:t=>wu(t,"!"),hasQuestionMark:t=>wu(t,"?")||wu(t,"\xbf"),hasEllipses:t=>wu(t,"..")||wu(t,"\u2026"),hasSemicolon:t=>wu(t,";"),hasColon:t=>wu(t,":"),hasSlash:t=>/\//.test(t.text),hasHyphen:t=>N9.test(t.post)||N9.test(t.pre),hasDash:t=>R9.test(t.post)||R9.test(t.pre),hasContraction:t=>!!t.implicit,isAcronym:t=>t.tags.has("Acronym"),isKnown:t=>t.tags.size>0,isTitleCase:t=>new RegExp("^\\p{Lu}[a-z'\\u00C0-\\u00FF]","u").test(t.text),isUpperCase:t=>new RegExp("^\\p{Lu}+$","u").test(t.text)};ix.hasQuotation=ix.hasQuote;const sx=ix;let PT=function(){};PT=function(t,e,n,r){let i=function(t,e,n,r){if(!0===e.anything)return!0;if(!0===e.start&&0!==n||!0===e.end&&n!==r-1)return!1;if(void 0!==e.id&&e.id===t.id)return!0;if(void 0!==e.word)return e.use?e.word===t[e.use]:!!(null!==t.machine&&t.machine===e.word||void 0!==t.alias&&t.alias.hasOwnProperty(e.word)||!0===e.fuzzy&&(e.word===t.root||function(t,e,n=3){if(t===e)return 1;if(t.length<n||e.length<n)return 0;const r=function(t,e){let n=t.length,r=e.length;if(0===n)return r;if(0===r)return n;let i=(r>n?r:n)+1;if(Math.abs(n-r)>(i||100))return i||100;let o,a,u,l,d,g,s=[];for(let y=0;y<i;y++)s[y]=[y],s[y].length=i;for(let y=0;y<i;y++)s[0][y]=y;for(let y=1;y<=n;++y)for(a=t[y-1],o=1;o<=r;++o){if(y===o&&s[y][o]>4)return n;u=e[o-1],l=a===u?0:1,d=s[y-1][o]+1,(g=s[y][o-1]+1)<d&&(d=g),(g=s[y-1][o-1]+l)<d&&(d=g),s[y][o]=y>1&&o>1&&a===e[o-2]&&t[y-2]===u&&(g=s[y-2][o-2]+l)<d?g:d}return s[n][r]}(t,e);let i=Math.max(t.length,e.length);return 1-(0===i?0:r/i)}(e.word,t.normal)>=e.min)||t.alias&&t.alias.some(i=>i===e.word))||e.word===t.text||e.word===t.normal;if(void 0!==e.tag)return!0===t.tags.has(e.tag);if(void 0!==e.method)return"function"==typeof sx[e.method]&&!0===sx[e.method](t);if(void 0!==e.pre)return t.pre&&t.pre.includes(e.pre);if(void 0!==e.post)return t.post&&t.post.includes(e.post);if(void 0!==e.regex){let i=t.normal;return e.use&&(i=t[e.use]),e.regex.test(i)}return void 0!==e.chunk?t.chunk===e.chunk:void 0!==e.switch?t.switch===e.switch:void 0!==e.machine?t.normal===e.machine||t.machine===e.machine||t.root===e.machine:void 0!==e.sense?t.sense===e.sense:void 0!==e.fastOr?e.pos&&!t.tags.has(e.pos)?null:e.fastOr.has(t.root||t.implicit||t.machine||t.normal)||e.fastOr.has(t.text):void 0!==e.choices&&("and"===e.operator?e.choices.every(i=>PT(t,i,n,r)):e.choices.some(i=>PT(t,i,n,r)))}(t,e,n,r);return!0===e.negative?!i:i};const vs=PT,W_e=function(t,e){if(!0===t.end&&!0===t.greedy&&e.start_i+e.t<e.phrase_length-1){let n=Object.assign({},t,{end:!1});if(!0===vs(e.terms[e.t],n,e.start_i+e.t,e.phrase_length))return!0}return!1},NT=function(t,e){return t.groups[t.inGroup]||(t.groups[t.inGroup]={start:e,length:0}),t.groups[t.inGroup]},K_e=function(t){let{regs:e}=t,n=e[t.r],r=function(t,e){let n=t.t;if(!e)return t.terms.length;for(;n<t.terms.length;n+=1)if(!0===vs(t.terms[n],e,t.start_i+n,t.phrase_length))return n;return null}(t,e[t.r+1]);return null===r||0===r||void 0!==n.min&&r-t.t<n.min?null:void 0!==n.max&&r-t.t>n.max?(t.t=t.t+n.max,!0):(!0===t.hasGroup&&(NT(t,t.t).length=r-t.t),t.t=r,!0)},Q_e=function(t){return"[object Array]"===Object.prototype.toString.call(t)},k9=function(t,e=0){let n=t.regs[t.r],r=!1;for(let i=0;i<n.choices.length;i+=1){let s=n.choices[i];if(!Q_e(s))return!1;if(r=s.every((o,a)=>{let u=0,l=t.t+a+e+u;if(void 0===t.terms[l])return!1;let d=vs(t.terms[l],o,l+t.start_i,t.phrase_length);if(!0===d&&!0===o.greedy)for(let g=1;g<t.terms.length;g+=1){let y=t.terms[l+g];if(y){if(!0!==vs(y,o,t.start_i+g,t.phrase_length))break;u+=1}}return e+=u,d}),r){e+=s.length;break}}return r&&!0===n.greedy?k9(t,e):e},Y_e=function(t){const{regs:e}=t;let n=e[t.r],r=k9(t);return r?!0===n.negative?null:(!0===t.hasGroup&&(NT(t,t.t).length+=r),!0===n.end&&t.t+t.start_i+r!==t.phrase_length?null:(t.t+=r,!0)):!!n.optional||null},X_e=function(t){const{regs:e}=t;let n=e[t.r],r=function(t){let e=0;return!0===t.regs[t.r].choices.every(i=>{let s=i.every((o,a)=>{let u=t.t+a;return void 0!==t.terms[u]&&vs(t.terms[u],o,u,t.phrase_length)});return!0===s&&i.length>e&&(e=i.length),s})&&e}(t);return r?!0===n.negative?null:(!0===t.hasGroup&&(NT(t,t.t).length+=r),!0===n.end&&t.t+t.start_i!==t.phrase_length-1?null:(t.t+=r,!0)):!!n.optional||null},eve=function(t){const{regs:e}=t;let n=e[t.r],r=Object.assign({},n);if(r.negative=!1,vs(t.terms[t.t],r,t.start_i+t.t,t.phrase_length))return!1;if(n.optional){let s=e[t.r+1];s&&(vs(t.terms[t.t],s,t.start_i+t.t,t.phrase_length)?t.r+=1:s.optional&&e[t.r+2]&&vs(t.terms[t.t],e[t.r+2],t.start_i+t.t,t.phrase_length)&&(t.r+=2))}return n.greedy?function(t,e,n){let r=0;for(let i=t.t;i<t.terms.length;i+=1){let s=vs(t.terms[i],e,t.start_i+t.t,t.phrase_length);if(s||n&&(s=vs(t.terms[i],n,t.start_i+t.t,t.phrase_length),s)||(r+=1,void 0!==e.max&&r===e.max))break}return!(0===r||e.min&&e.min>r||(t.t+=r,0))}(t,r,e[t.r+1]):(t.t+=1,!0)},ox=function(t){const{regs:e}=t;let n=e[t.r],r=t.terms[t.t],i=t.t;return!!(n.optional&&e[t.r+1]&&n.negative)||(n.optional&&e[t.r+1]&&function(t){const{regs:e}=t;let n=e[t.r],i=vs(t.terms[t.t],e[t.r+1],t.start_i+t.t,t.phrase_length);if(n.negative||i){let s=t.terms[t.t+1];(!s||!vs(s,e[t.r+1],t.start_i+t.t,t.phrase_length))&&(t.r+=1)}}(t),r.implicit&&t.terms[t.t+1]&&function(t){let e=t.terms[t.t],n=t.regs[t.r];if(e.implicit&&t.terms[t.t+1]){if(!t.terms[t.t+1].implicit)return;n.word===e.normal&&(t.t+=1),"hasContraction"===n.method&&(t.t+=1)}}(t),t.t+=1,!0===n.end&&t.t!==t.terms.length&&!0!==n.greedy||!0===n.greedy&&!function(t){const{regs:e,phrase_length:n}=t;let r=e[t.r];return t.t=function(t,e){let n=Object.assign({},t.regs[t.r],{start:!1,end:!1}),r=t.t;for(;t.t<t.terms.length;t.t+=1){if(e&&vs(t.terms[t.t],e,t.start_i+t.t,t.phrase_length))return t.t;let i=t.t-r+1;if(void 0!==n.max&&i===n.max)return t.t;if(!1===vs(t.terms[t.t],n,t.start_i+t.t,t.phrase_length))return void 0!==n.min&&i<n.min?null:t.t}return t.t}(t,e[t.r+1]),!(null===t.t||r.min&&r.min>t.t||!0===r.end&&t.start_i+t.t!==n)||null}(t)?null:(!0===t.hasGroup&&function(t,e){let n=t.regs[t.r];const r=NT(t,e);t.t>1&&n.greedy?r.length+=t.t-e:r.length++}(t,i),!0))},ax=function(t,e,n,r){if(0===t.length||0===e.length)return null;let i={t:0,terms:t,r:0,regs:e,groups:{},start_i:n,phrase_length:r,inGroup:null};for(;i.r<e.length;i.r+=1){let a=e[i.r];if(i.hasGroup=!!a.group,i.inGroup=!0===i.hasGroup?a.group:null,!i.terms[i.t]){if(!1===e.slice(i.r).some(d=>!d.optional))break;return null}if(!0!==a.anything||!0!==a.greedy){if(void 0===a.choices||"or"!==a.operator){if(void 0===a.choices||"and"!==a.operator){if(!0!==a.anything){if(!0!==W_e(a,i)){if(a.negative){if(!eve(i))return null}else if(!0!==vs(i.terms[i.t],a,i.start_i+i.t,i.phrase_length)){if(!0!==a.optional)return null}else if(!ox(i))return null}else if(!ox(i))return null}else if(a.negative&&a.anything||!ox(i))return null}else if(!X_e(i))return null}else if(!Y_e(i))return null}else if(!K_e(i))return null}let s=[null,n,i.t+n];if(s[1]===s[2])return null;let o={};return Object.keys(i.groups).forEach(a=>{let u=i.groups[a],l=n+u.start;o[a]=[null,l,l+u.length]}),{pointer:s,groups:o}},x9=function(t,e){return t.pointer[0]=e,Object.keys(t.groups).forEach(n=>{t.groups[n][0]=e}),t},ave=function(t,e,n){let r=ax(t,e,0,t.length);return r?(r=x9(r,n),r):null},uve={api:function(t){Object.assign(t.prototype,Ca)},methods:{one:{termMethods:sx,parseMatch:function(t,e,n){if(null==t||""===t)return[];e=e||{},"number"==typeof t&&(t=String(t));let r=function(t){let e=t.split(I_e),n=[];e.forEach(i=>{w9(i)?n.push(i):n=n.concat(i.split(T_e))}),n=E9(n);let r=[];return n.forEach(i=>{(t=>/^[![^]*(<[^<]*>)?\(/.test(t)&&/\)[?\]+*$~]*$/.test(t))(i)||w9(i)?r.push(i):r=r.concat(i.split(A_e))}),r=E9(r),r}(t);return r=r.map(i=>P_e(i,e)),r=function(t,e){let n=e.model.one.prefixes;for(let r=t.length-1;r>=0;r-=1){let i=t[r];if(i.word&&N_e.test(i.word)){let s=i.word.split(/[-\u2013\u2014]/g);if(n.hasOwnProperty(s[0]))continue;s=s.filter(o=>o).reverse(),t.splice(r,1),s.forEach(o=>{let a=Object.assign({},i);a.word=o,t.splice(r,0,a)})}}return t}(r,n),r=function(t,e){return t.map(n=>{if(n.root)if(e.methods.two&&e.methods.two.transform){let r=[];n.pos?"Verb"===n.pos?r=r.concat(D9(n,e)):"Noun"===n.pos?r=r.concat(S9(n,e)):"Adjective"===n.pos&&(r=r.concat(P9(n,e))):(r=r.concat(D9(n,e)),r=r.concat(S9(n,e)),r=r.concat(P9(n,e))),r=r.filter(i=>i),r.length>0&&(n.operator="or",n.fastOr=new Set(r))}else n.machine=n.root,delete n.id,delete n.root;return n})}(r,n),r=function(t){return function(t){return t.map(e=>(e.fuzzy&&e.choices&&e.choices.forEach(n=>{1===n.length&&n[0].word&&(n[0].fuzzy=!0,n[0].min=e.min)}),e))}(t=function(t){return t.map(e=>{if(void 0!==e.choices){if("or"!==e.operator||!0===e.fuzzy)return e;!0===e.choices.every(r=>{if(1!==r.length)return!1;let i=r[0];return!0!==i.fuzzy&&!i.start&&!i.end&&void 0!==i.word&&!0!==i.negative&&!0!==i.optional&&!0!==i.method})&&(e.fastOr=new Set,e.choices.forEach(r=>{e.fastOr.add(r[0].word)}),delete e.choices)}return e})}(t=function(t){let e=0,n=null;for(let r=0;r<t.length;r++){const i=t[r];!0===i.groupStart&&(n=i.group,null===n&&(n=String(e),e+=1)),null!==n&&(i.group=n),!0===i.groupEnd&&(n=null)}return t}(t)))}(r),r},match:function(t,e,n){n=n||[];let{regs:r,group:i,justOne:s}=e,o=[];if(!r||0===r.length)return{ptrs:[],byGroup:{}};const a=r.filter(u=>!0!==u.optional&&!0!==u.negative).length;e:for(let u=0;u<t.length;u+=1){let l=t[u];if(!n[u]||!j_e(r,n[u])){if(!0===r[0].start){let d=ave(l,r,u);d&&o.push(d);continue}for(let d=0;d<l.length;d+=1){let g=l.slice(d);if(g.length<a)break;let y=ax(g,r,d,l.length);if(y){if(y=x9(y,u),o.push(y),!0===s)break e;let v=y.pointer[2];Math.abs(v-1)>d&&(d=Math.abs(v-1))}}}}return!0===r[r.length-1].end&&(o=o.filter(u=>t[u.pointer[0]].length===u.pointer[2])),e.notIf&&(o=function(t,e,n){return t.filter(r=>{let[i,s,o]=r.pointer,a=n[i].slice(s,o);for(let u=0;u<a.length;u+=1){let l=a.slice(u);if(null!==ax(l,e,u,a.length))return!1}return!0})}(o,e.notIf,t)),o=function(t,e){let n=[],r={};return 0===t.length||("number"==typeof e&&(e=String(e)),t.forEach(e?i=>{i.groups[e]&&n.push(i.groups[e])}:i=>{n.push(i.pointer),Object.keys(i.groups).forEach(s=>{r[s]=r[s]||[],r[s].push(i.groups[s])})})),{ptrs:n,byGroup:r}}(o,i),o.ptrs.forEach(u=>{let[l,d,g]=u;u[3]=t[l][d].id,u[4]=t[l][g-1].id}),o}}},lib:{parseMatch:function(t,e){const n=this.world();let r=n.methods.one.killUnicode;return r&&(t=r(t,n)),n.methods.one.parseMatch(t,e,n)}}},lve=/^\../,cve=/^#./,pve={html:function(t){let{starts:e,ends:n}=function(t,e){let n={},r={};return Object.keys(e).forEach(i=>{let s=e[i],o=function(t){let e="",n="</span>";return t=(t=>(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/'/g,"&apos;"))(t),lve.test(t)?e=`<span class="${t.replace(/^\./,"")}"`:cve.test(t)?e=`<span id="${t.replace(/^#/,"")}"`:(e=`<${t}`,n=`</${t}>`),e+=">",{start:e,end:n}}(i);"string"==typeof s&&(s=t.match(s)),s.docs.forEach(a=>{if(a.every(d=>d.implicit))return;let u=a[0].id;n[u]=n[u]||[],n[u].push(o.start);let l=a[a.length-1].id;r[l]=r[l]||[],r[l].push(o.end)})}),{starts:n,ends:r}}(this,t),r="";return this.docs.forEach(i=>{for(let s=0;s<i.length;s+=1){let o=i[s];e.hasOwnProperty(o.id)&&(r+=e[o.id].join("")),r+=o.pre||"",r+=o.text||"",n.hasOwnProperty(o.id)&&(r+=n[o.id].join("")),r+=o.post||""}}),r}},M9=/[,:;)\]*.?~!\u0022\uFF02\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4\u2014-]+$/,ux=/^[(['"*~\uFF02\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F]+/,gve=/[,:;)('"\u201D\]]/,mve=/^[-\u2013\u2014]$/,yve=/ /,Uh=function(t,e,n=!0){let r="";return t.forEach(i=>{let s=i.pre||"",o=i.post||"";"some"===e.punctuation&&(s=s.replace(ux,""),mve.test(o)&&(o=" "),o=o.replace(gve,""),o=o.replace(/\?!+/,"?"),o=o.replace(/!+/,"!"),o=o.replace(/\?+/,"?"),o=o.replace(/\.{2,}/,""),i.tags.has("Abbreviation")&&(o=o.replace(/\./,""))),"some"===e.whitespace&&(s=s.replace(/\s/,""),o=o.replace(/\s+/," ")),e.keepPunct||(s=s.replace(ux,""),o="-"===o?" ":o.replace(M9,""));let a=i[e.form||"text"]||i.normal||"";"implicit"===e.form&&(a=i.implicit||i.text),"root"===e.form&&i.implicit&&(a=i.root||i.implicit||i.normal),("machine"===e.form||"implicit"===e.form||"root"===e.form)&&i.implicit&&(!o||!yve.test(o))&&(o+=" "),r+=s+a+o}),!1===n&&(r=r.trim()),!0===e.lowerCase&&(r=r.toLowerCase()),r},t0={text:{form:"text"},normal:{whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"normal"},machine:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"none",unicode:"some",form:"machine"},root:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"root"},implicit:{form:"implicit"}};t0.clean=t0.normal,t0.reduced=t0.root;const RT=t0;let O9=[],Bh=0;for(;Bh<64;)O9[Bh]=0|4294967296*Math.sin(++Bh%Math.PI);const lx=function(t){let e,n,r,i=[e=1732584193,n=4023233417,~e,~n],s=[],o=decodeURI(encodeURI(t))+"\x80",a=o.length;for(t=--a/4+2|15,s[--t]=8*a;~a;)s[a>>2]|=o.charCodeAt(a)<<8*a--;for(Bh=o=0;Bh<t;Bh+=16){for(a=i;o<64;a=[r=a[3],e+((r=a[0]+[e&n|~e&r,r&e|~r&n,e^n^r,n^(e|~r)][a=o>>4]+O9[o]+~~s[Bh|15&[o,5*o+1,3*o+5,7*o][a]])<<(a=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*a+o++%4])|r>>>-a),e,n])e=0|a[1],n=a[2];for(o=4;o;)i[--o]+=a[o]}for(t="";o<32;)t+=(i[o>>3]>>4*(1^o++)&15).toString(16);return t},vve={text:!0,terms:!0};let F9={case:"none",unicode:"some",form:"machine",punctuation:"some"};const cx=function(t,e){return Object.assign({},t,e)},wl={text:t=>Uh(t,{keepPunct:!0},!1),normal:t=>Uh(t,cx(RT.normal,{keepPunct:!0}),!1),implicit:t=>Uh(t,cx(RT.implicit,{keepPunct:!0}),!1),machine:t=>Uh(t,F9,!1),root:t=>Uh(t,cx(F9,{form:"root"}),!1),hash:t=>lx(Uh(t,{keepPunct:!0},!1)),offset:t=>{let e=wl.text(t).length;return{index:t[0].offset.index,start:t[0].offset.start,length:e}},terms:t=>t.map(e=>{let n=Object.assign({},e);return n.tags=Array.from(e.tags),n}),confidence:(t,e,n)=>e.eq(n).confidence(),syllables:(t,e,n)=>e.eq(n).syllables(),sentence:(t,e,n)=>e.eq(n).fullSentence().text(),dirty:t=>t.some(e=>!0===e.dirty)};wl.sentences=wl.sentence,wl.clean=wl.normal,wl.reduced=wl.root;const dx={json:function(t){let e=function(t,e){return"string"==typeof(e=e||{})&&(e={}),(e=Object.assign({},vve,e)).offset&&t.compute("offset"),t.docs.map((n,r)=>{let i={};return Object.keys(e).forEach(s=>{e[s]&&wl[s]&&(i[s]=wl[s](n,t,r))}),i})}(this,t);return"number"==typeof t?e[t]:e}};dx.data=dx.json;const Tve=function(t){return(t.pre||"")+t.text+(t.post||"")},V9=function(t,e){let n=function(t,e){let n={};return Object.keys(e).forEach(r=>{t.match(r).fullPointer.forEach(s=>{n[s[3]]={fn:e[r],end:s[2]}})}),n}(t,e),r="";return t.docs.forEach((i,s)=>{for(let o=0;o<i.length;o+=1){let a=i[o];if(n.hasOwnProperty(a.id)){let{fn:u,end:l}=n[a.id],d=t.update([[s,o,l]]);r+=i[o].pre||"",r+=u(d),o=l-1,r+=i[o].post||""}else r+=Tve(a)}}),r},Sve={debug:function(t){let e=this.methods.one.debug||{};return t&&e.hasOwnProperty(t)?(e[t](this),this):typeof window<"u"&&window.document?(e.clientSide(this),this):(e.tags(this),this)},out:function(t){if((t=>"[object Object]"===Object.prototype.toString.call(t))(t))return V9(this,t);if("text"===t)return this.text();if("normal"===t)return this.text("normal");if("root"===t)return this.text("root");if("machine"===t||"reduced"===t)return this.text("machine");if("hash"===t||"md5"===t)return lx(this.text());if("json"===t)return this.json();if("offset"===t||"offsets"===t)return this.compute("offset"),this.json({offset:!0});if("array"===t)return this.docs.map(n=>n.reduce((r,i)=>r+i.pre+i.text+i.post,"").trim()).filter(n=>n);if("freq"===t||"frequency"===t||"topk"===t)return function(t){let e={};return t.forEach(r=>{e[r]=e[r]||0,e[r]+=1}),Object.keys(e).map(r=>({normal:r,count:e[r]})).sort((r,i)=>r.count>i.count?-1:0)}(this.json({normal:!0}).map(e=>e.normal));if("terms"===t){let e=[];return this.docs.forEach(n=>{let r=n.map(i=>i.text);r=r.filter(i=>i),e=e.concat(r)}),e}return"tags"===t?this.docs.map(e=>e.reduce((n,r)=>(n[r.implicit||r.normal]=Array.from(r.tags),n),{})):"debug"===t?this.debug():this.text()},wrap:function(t){return V9(this,t)}},Nve=Object.assign({},Sve,{text:function(t){let e={};if(t&&"string"==typeof t&&RT.hasOwnProperty(t)?e=Object.assign({},RT[t]):t&&(t=>"[object Object]"===Object.prototype.toString.call(t))(t)&&(e=Object.assign({},t)),void 0===e.keepSpace&&!this.isFull()&&(e.keepSpace=!1),void 0===e.keepEndPunct&&this.pointer){let n=this.pointer[0];e.keepEndPunct=!n||!n[1]}return void 0===e.keepPunct&&(e.keepPunct=!0),void 0===e.keepSpace&&(e.keepSpace=!0),function(t,e){let n="";if(!t||!t[0]||!t[0][0])return n;for(let r=0;r<t.length;r+=1)n+=Uh(t[r],e,!0);if(e.keepSpace||(n=n.trim()),!1===e.keepEndPunct){t[0][0].tags.has("Emoticon")||(n=n.replace(ux,""));let r=t[t.length-1];r[r.length-1].tags.has("Emoticon")||(n=n.replace(M9,"")),n.endsWith("'")&&!n.endsWith("s'")&&(n=n.replace(/'/,""))}return!0===e.cleanWhitespace&&(n=n.trim()),n}(this.docs,e)}},dx,pve),El="\x1b[0m",_o={green:t=>"\x1b[32m"+t+El,red:t=>"\x1b[31m"+t+El,blue:t=>"\x1b[34m"+t+El,magenta:t=>"\x1b[35m"+t+El,cyan:t=>"\x1b[36m"+t+El,yellow:t=>"\x1b[33m"+t+El,black:t=>"\x1b[30m"+t+El,dim:t=>"\x1b[2m"+t+El,i:t=>"\x1b[3m"+t+El},Lve={api:function(t){Object.assign(t.prototype,Nve)},methods:{one:{hash:lx,debug:{tags:function(t){let{docs:e,model:n}=t;0===e.length&&console.log(_o.blue("\n     \u2500\u2500\u2500\u2500\u2500\u2500")),e.forEach(r=>{console.log(_o.blue("\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500")),r.forEach(i=>{let s=[...i.tags||[]],o=i.text||"-";i.sense&&(o=`{${i.normal}/${i.sense}}`),i.implicit&&(o="["+i.implicit+"]"),o=_o.yellow(o);let a="'"+o+"'";if(i.reference){let l=t.update([i.reference]).text("normal");a+=` - ${_o.dim(_o.i("["+l+"]"))}`}a=a.padEnd(18);let u=_o.blue("  \u2502 ")+_o.i(a)+"  - "+function(t,e){return e.one.tagSet&&(t=t.map(n=>e.one.tagSet.hasOwnProperty(n)?_o[e.one.tagSet[n].color||"blue"](n):n)),t.join(", ")}(s,n);console.log(u)})}),console.log("\n")},clientSide:function(t){console.log("%c -=-=- ","background-color:#6699cc;"),t.forEach(e=>{console.groupCollapsed(e.text());let r=e.docs[0].map(i=>{let s=i.text||"-";return i.implicit&&(s="["+i.implicit+"]"),{text:s,tags:"["+Array.from(i.tags).join(", ")+"]"}});console.table(r,["text","tags"]),console.groupEnd()})},chunks:function(t){let{docs:e}=t;console.log(""),e.forEach(n=>{let r=[];n.forEach(i=>{r.push("Noun"===i.chunk?_o.blue(i.implicit||i.normal):"Verb"===i.chunk?_o.green(i.implicit||i.normal):"Adjective"===i.chunk?_o.yellow(i.implicit||i.normal):"Pivot"===i.chunk?_o.red(i.implicit||i.normal):i.implicit||i.normal)}),console.log(r.join(" "),"\n")}),console.log("\n")},highlight:function(t){if(!t.found)return;let e={};t.fullPointer.forEach(n=>{e[n[0]]=e[n[0]]||[],e[n[0]].push(n)}),Object.keys(e).forEach(n=>{let i=t.update([[Number(n)]]).text();t.update(e[n]).json({offset:!0}).forEach((a,u)=>{i=function(t,e,n){let r=((t,e,n)=>{let i=e.start+9*n,s=i+e.length;return[t.substring(0,i),t.substring(i,s),t.substring(s,t.length)]})(t,e,n);return`${r[0]}${_o.blue(r[1])}${r[2]}`}(i,a.offset,u)}),console.log(i)}),console.log("\n")}}}}},L9=function(t,e){if(t[0]!==e[0])return!1;let[,n,r]=t,[,i,s]=e;return n<=i&&r>i||i<=n&&s>n},kT=function(t){let e={};return t.forEach(n=>{e[n[0]]=e[n[0]]||[],e[n[0]].push(n)}),e},j9=function(t,e){let n=kT(e),r=[];return t.forEach(i=>{let[s]=i,o=n[s]||[];if(o=o.filter(u=>function(t,e){return t[1]<=e[1]&&e[2]<=t[2]}(i,u)),0===o.length)return void r.push({passthrough:i});o=o.sort((u,l)=>u[1]-l[1]);let a=i;o.forEach((u,l)=>{let d=function(t,e){let[n,r]=t,i=e[1],s=e[2],o={};return r<i&&(o.before=[n,r,i<t[2]?i:t[2]]),o.match=e,t[2]>s&&(o.after=[n,s,t[2]]),o}(a,u);o[l+1]?(r.push({before:d.before,match:d.match}),d.after&&(a=d.after)):r.push(d)})}),r},qve={one:{termList:function(t){let e=[];for(let n=0;n<t.length;n+=1)for(let r=0;r<t[n].length;r+=1)e.push(t[n][r]);return e},getDoc:function(t,e){let n=[];return t.forEach((r,i)=>{if(!r)return;let[s,o,a,u,l]=r,d=e[s]||[];if(void 0===o&&(o=0),void 0===a&&(a=d.length),!u||d[o]&&d[o].id===u)d=d.slice(o,a);else{let g=function(t,e,n){for(let r=0;r<20;r+=1){if(e[n-r]){let i=e[n-r].findIndex(s=>s.id===t);if(-1!==i)return[n-r,i]}if(e[n+r]){let i=e[n+r].findIndex(s=>s.id===t);if(-1!==i)return[n+r,i]}}return null}(u,e,s);if(null!==g){let y=a-o;d=e[g[0]].slice(g[1],g[1]+y),t[i]=[g[0],g[1],g[1]+y,d[0]?d[0].id:null]}}0!==d.length&&o!==a&&(l&&d[d.length-1].id!==l&&(d=function(t,e){let[n,r,,,i]=t,s=e[n],o=s.findIndex(a=>a.id===i);return-1===o?(t[2]=e[n].length,t[4]=s.length?s[s.length-1].id:null):t[2]=o,e[n].slice(r,t[2]+1)}(r,e)),n.push(d))}),n=n.filter(r=>r.length>0),n},pointer:{indexN:kT,splitAll:j9}}},U9=function(t,e){let n=t.concat(e),r=kT(n),i=[];return n.forEach(s=>{let[o]=s;if(1===r[o].length)return void i.push(s);let a=r[o].filter(l=>L9(s,l));a.push(s);let u=function(t){let e=t[0][1],n=t[0][2];return t.forEach(r=>{r[1]<e&&(e=r[1]),r[2]>n&&(n=r[2])}),[t[0][0],e,n]}(a);i.push(u)}),i=function(t){let e={};for(let n=0;n<t.length;n+=1)e[t[n].join(",")]=t[n];return Object.values(e)}(i),i},B9=function(t,e){let n=[];return j9(t,e).forEach(i=>{i.passthrough&&n.push(i.passthrough),i.before&&n.push(i.before),i.after&&n.push(i.after)}),n},hx=(t,e)=>"string"==typeof t||function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)?e.match(t):t||e.none(),n0=function(t,e){return t.map(n=>{let[r,i]=n;return e[r]&&e[r][i]&&(n[3]=e[r][i].id),n})},Eu={union:function(t){t=hx(t,this);let e=U9(this.fullPointer,t.fullPointer);return e=n0(e,this.document),this.toView(e)}};Eu.and=Eu.union,Eu.intersection=function(t){t=hx(t,this);let e=function(t,e){let n=kT(e),r=[];return t.forEach(i=>{let s=n[i[0]]||[];s=s.filter(o=>L9(i,o)),0!==s.length&&s.forEach(o=>{let a=function(t,e){let n=t[1]<e[1]?e[1]:t[1],r=t[2]>e[2]?e[2]:t[2];return n<r?[t[0],n,r]:null}(i,o);a&&r.push(a)})}),r}(this.fullPointer,t.fullPointer);return e=n0(e,this.document),this.toView(e)},Eu.not=function(t){t=hx(t,this);let e=B9(this.fullPointer,t.fullPointer);return e=n0(e,this.document),this.toView(e)},Eu.difference=Eu.not,Eu.complement=function(){let t=this.all(),e=B9(t.fullPointer,this.fullPointer);return e=n0(e,this.document),this.toView(e)},Eu.settle=function(){let t=this.fullPointer;return t.forEach(e=>{t=U9(t,[e])}),t=n0(t,this.document),this.update(t)};const Jve={methods:qve,api:function(t){Object.assign(t.prototype,Eu)}},fx=function(t){return!0===t.optional||!0===t.negative?null:t.tag?"#"+t.tag:t.word?t.word:t.switch?`%${t.switch}%`:null},l0e={lib:{buildNet:function(t){let n=this.methods().one.buildNet(t,this.world());return n.isNet=!0,n}},api:function(t){t.prototype.sweep=function(e,n={}){const{world:r,docs:i}=this,{methods:s}=r;let o=s.one.bulkMatch(i,e,this.methods,n);!1!==n.tagger&&s.one.bulkTagger(o,i,this.world),o=o.map(u=>{let l=u.pointer,d=i[l[0]][l[1]];return d.index&&(u.pointer=[d.index[0],d.index[1],l[1]+(l[2]-l[1])]),u});let a=o.map(u=>u.pointer);return o=o.map(u=>(u.view=this.update([u.pointer]),delete u.regs,delete u.needs,delete u.pointer,delete u._expanded,u)),{view:this.update(a),found:o}}},methods:{one:{buildNet:function(t,e){t=function(t,e){const n=e.methods.one.parseMatch;return t.forEach(r=>{r.regs=n(r.match,{},e),"string"==typeof r.ifNo&&(r.ifNo=[r.ifNo]),r.notIf&&(r.notIf=n(r.notIf,{},e)),r.needs=function(t){let e=[];return t.forEach(n=>{e.push(fx(n)),"and"===n.operator&&n.choices&&n.choices.forEach(r=>{r.forEach(i=>{e.push(fx(i))})})}),e.filter(n=>n)}(r.regs);let{wants:i,count:s}=function(t){let e=[],n=0;return t.forEach(r=>{"or"===r.operator&&!r.optional&&!r.negative&&(r.fastOr&&Array.from(r.fastOr).forEach(i=>{e.push(i)}),r.choices&&r.choices.forEach(i=>{i.forEach(s=>{let o=fx(s);o&&e.push(o)})}),n+=1)}),{wants:e,count:n}}(r.regs);r.wants=i,r.minWant=s,r.minWords=r.regs.filter(o=>!o.optional).length}),t}(t,e);let n={};t.forEach(i=>{i.needs.forEach(s=>{n[s]=Array.isArray(n[s])?n[s]:[],n[s].push(i)}),i.wants.forEach(s=>{n[s]=Array.isArray(n[s])?n[s]:[],n[s].push(i)})}),Object.keys(n).forEach(i=>{let s={};n[i]=n[i].filter(o=>"boolean"!=typeof s[o.match]&&(s[o.match]=!0,!0))});let r=t.filter(i=>0===i.needs.length&&0===i.wants.length);return{hooks:n,always:r}},bulkMatch:function(t,e,n,r={}){let i=n.one.cacheDoc(t),s=function(t,e){return t.map((n,r)=>{let i=[];Object.keys(e).forEach(o=>{t[r].has(o)&&(i=i.concat(e[o]))});let s={};return i=i.filter(o=>"boolean"!=typeof s[o.match]&&(s[o.match]=!0,!0)),i})}(i,e.hooks);return s=function(t,e){return t.map((n,r)=>{let i=e[r];return(n=(n=n.filter(s=>s.needs.every(o=>i.has(o)))).filter(s=>!(void 0!==s.ifNo&&!0===s.ifNo.some(o=>i.has(o))))).filter(s=>0===s.wants.length||s.wants.filter(a=>i.has(a)).length>=s.minWant)})}(s,i),e.always.length>0&&(s=s.map(a=>a.concat(e.always))),s=function(t,e){return t.map((n,r)=>{let i=e[r].length;return n.filter(s=>i>=s.minWords)})}(s,t),function(t,e,n,r,i){let s=[];for(let o=0;o<t.length;o+=1)for(let a=0;a<t[o].length;a+=1){let u=t[o][a],l=r.one.match([e[o]],u);if(l.ptrs.length>0&&(l.ptrs.forEach(d=>{d[0]=o;let g=Object.assign({},u,{pointer:d});void 0!==u.unTag&&(g.unTag=u.unTag),s.push(g)}),!0===i.matchOne))return[s[0]]}return s}(s,t,0,n,r)},bulkTagger:function(t,e,n){const{model:r,methods:i}=n,{getDoc:s,setTag:o,unTag:a}=i.one,u=i.two.looksPlural;return 0===t.length?t:((typeof process>"u"||!process.env?self.env||{}:process.env).DEBUG_TAGS&&console.log(`\n\n  \x1b[32m\u2192 ${t.length} post-tagger:\x1b[0m`),t.map(d=>{if(!d.tag&&!d.chunk&&!d.unTag)return;let g=d.reason||d.match,y=s([d.pointer],e)[0];if(!0!==d.safe||!1!==function(t,e,n){let r=n.one.tagSet;if(!r.hasOwnProperty(e))return!0;let i=r[e].not||[];for(let s=0;s<t.length;s+=1){let o=t[s];for(let a=0;a<i.length;a+=1)if(!0===o.tags.has(i[a]))return!1}return!0}(y,d.tag,r)&&"-"!==y[y.length-1].post){if(void 0!==d.tag){if(o(y,d.tag,n,d.safe,`[post] '${g}'`),"Noun"===d.tag&&u){let v=y[y.length-1];u(v.text)?o([v],"Plural",n,d.safe,"quick-plural"):o([v],"Singular",n,d.safe,"quick-singular")}!0===d.freeze&&y.forEach(v=>v.frozen=!0)}void 0!==d.unTag&&a(y,d.unTag,n,d.safe,g),d.chunk&&y.forEach(v=>v.chunk=d.chunk)}}))}}}},H9=/ /,$9=function(t,e){"Noun"===e&&(t.chunk=e),"Verb"===e&&(t.chunk=e)},G9=function(t,e,n,r){if(!0===t.tags.has(e)||"."===e)return null;!0===t.frozen&&(r=!0);let i=n[e];if(i){if(i.not&&i.not.length>0)for(let s=0;s<i.not.length;s+=1){if(!0===r&&t.tags.has(i.not[s]))return null;t.tags.delete(i.not[s])}if(i.parents&&i.parents.length>0)for(let s=0;s<i.parents.length;s+=1)t.tags.add(i.parents[s]),$9(t,i.parents[s])}return t.tags.add(e),t.dirty=!0,$9(t,e),!0},z9=function(t,e,n={},r,i){const s=n.model.one.tagSet||{};if(!e)return;const o=typeof process>"u"||!process.env?self.env||{}:process.env;if(o&&o.DEBUG_TAGS&&((t,e,n="")=>{let s=t.map(o=>o.text||"["+o.implicit+"]").join(" ");var o;"string"!=typeof e&&e.length>2&&(e=e.slice(0,2).join(", #")+" +"),e="string"!=typeof e?e.join(", #"):e,console.log(` ${(o=s,"\x1b[33m\x1b[3m"+o+"\x1b[0m").padEnd(24)} \x1b[32m\u2192\x1b[0m #${e.padEnd(22)}  ${(o=>"\x1b[3m"+o+"\x1b[0m")(n)}`)})(t,e,i),!0!==function(t){return"[object Array]"===Object.prototype.toString.call(t)}(e))if("string"==typeof e)if(e=e.trim(),H9.test(e))!function(t,e,n,r){let i=e.split(H9);t.forEach((s,o)=>{let a=i[o];a&&(a=a.replace(/^#/,""),G9(s,a,n,r))})}(t,e,s,r);else{e=e.replace(/^#/,"");for(let a=0;a<t.length;a+=1)G9(t[a],e,s,r)}else console.warn(`compromise: Invalid tag '${e}'`);else e.forEach(a=>z9(t,a,n,r))},f0e=z9,Yc=function(t){return t.children=t.children||[],t._cache=t._cache||{},t.props=t.props||{},t._cache.parents=t._cache.parents||[],t._cache.children=t._cache.children||[],t},m0e=/^ *(#|\/\/)/,y0e=function(t){let e=t.trim().split(/->/),n=[];e.forEach(i=>{n=n.concat(function(s){if(!(s=s.trim()))return null;if(/^\[/.test(s)&&/\]$/.test(s)){let o=(s=(s=s.replace(/^\[/,"")).replace(/\]$/,"")).split(/,/);return o=o.map(a=>a.trim()).filter(a=>a),o=o.map(a=>Yc({id:a})),o}return[Yc({id:s})]}(i))}),n=n.filter(i=>i);let r=n[0];for(let i=1;i<n.length;i+=1)r.children.push(n[i]),r=n[i];return n[0]},Il=(t,e)=>{let n=[],r=[t];for(;r.length>0;){let i=r.pop();n.push(i),i.children&&i.children.forEach(s=>{e&&e(i,s),r.push(s)})}return n},px=t=>"[object Array]"===Object.prototype.toString.call(t),xT=t=>(t=t||"").trim(),gx=function(t,e){let n="-> ";e&&(n="\x1b[2m\u2192 \x1b[0m");let r="";return Il(t).forEach((i,s)=>{let o=i.id||"";e&&(o=(t=>"\x1b[31m"+t+"\x1b[0m")(o)),(0!==s||i.id)&&(r+="    ".repeat(i._cache.parents.length)+n+o+"\n")}),r},q9=function(t){let e=Il(t);e.forEach(r=>{delete(r=Object.assign({},r)).children});let n=e[0];return n&&!n.id&&0===Object.keys(n.props).length&&e.shift(),e},W9={text:gx,txt:gx,array:q9,flat:q9},K9=function(t,e){return"nested"===e||"json"===e?t:"debug"===e?(console.log(gx(t,!0)),null):W9.hasOwnProperty(e)?W9[e](t):t},mx=t=>{Il(t,(e,n)=>{e.id&&(e._cache.parents=e._cache.parents||[],n._cache.parents=e._cache.parents.concat([e.id]))})},E0e=/\//;class r0{constructor(e={}){Object.defineProperty(this,"json",{enumerable:!1,value:e,writable:!0})}get children(){return this.json.children}get id(){return this.json.id}get found(){return this.json.id||this.json.children.length>0}props(e={}){let n=this.json.props||{};return"string"==typeof e&&(n[e]=!0),this.json.props=Object.assign(n,e),this}get(e){if(e=xT(e),!E0e.test(e)){let r=this.json.children.find(i=>i.id===e);return new r0(r)}let n=((r,i)=>{let s="string"!=typeof(o=i=i||"")?o:(o=o.replace(/^\//,"")).split(/\//);var o;for(let o=0;o<s.length;o+=1){let a=r.children.find(u=>u.id===s[o]);if(!a)return null;r=a}return r})(this.json,e)||Yc({});return new r0(n)}add(e,n={}){if(px(e))return e.forEach(i=>this.add(xT(i),n)),this;e=xT(e);let r=Yc({id:e,props:n});return this.json.children.push(r),new r0(r)}remove(e){return e=xT(e),this.json.children=this.json.children.filter(n=>n.id!==e),this}nodes(){return Il(this.json).map(e=>(delete(e=Object.assign({},e)).children,e))}cache(){return(e=>{let n=Il(e,(i,s)=>{i.id&&(i._cache.parents=i._cache.parents||[],i._cache.children=i._cache.children||[],s._cache.parents=i._cache.parents.concat([i.id]))}),r={};n.forEach(i=>{i.id&&(r[i.id]=i)}),n.forEach(i=>{i._cache.parents.forEach(s=>{r.hasOwnProperty(s)&&r[s]._cache.children.push(i.id)})}),e._cache.children=Object.keys(r)})(this.json),this}list(){return Il(this.json)}fillDown(){return Il(this.json,(n,r)=>{r.props=((t,e)=>(Object.keys(e).forEach(n=>{var r;e[n]instanceof Set?t[n]=new Set([...t[n]||new Set,...e[n]]):(r=e[n])&&"object"==typeof r&&!Array.isArray(r)?t[n]=Object.assign({},e[n],t[n]||{}):px(e[n])?t[n]=e[n].concat(t[n]||[]):void 0===t[n]&&(t[n]=e[n])}),t))(r.props,n.props)}),this}depth(){mx(this.json);let e=Il(this.json),n=e.length>1?1:0;return e.forEach(r=>{if(0===r._cache.parents.length)return;let i=r._cache.parents.length+1;i>n&&(n=i)}),n}out(e){return mx(this.json),K9(this.json,e)}debug(){return mx(this.json),K9(this.json,"debug"),this}}const Q9=function(t){let e=function(t=[]){return"string"==typeof t?function(n){let r=n.split(/\r?\n/),i=[];r.forEach(o=>{if(!o.trim()||m0e.test(o))return;let a=(u=>{const l=/^( {2}|\t)/;let d=0;for(;l.test(u);)u=u.replace(l,""),d+=1;return d})(o);i.push({indent:a,node:y0e(o)})});let s=function(o){let a={children:[]};return o.forEach((u,l)=>{0===u.indent?a.children=a.children.concat(u.node):o[l-1]&&function(d,g){let y=d[g].indent;for(;g>=0;g-=1)if(d[g].indent<y)return d[g];return d[0]}(o,l).node.children.push(u.node)}),a}(i);return s=Yc(s),s}(t):px(t)?function(n){let r={};n.forEach(s=>{r[s.id]=s});let i=Yc({});return n.forEach(s=>{if((s=Yc(s)).parent)if(r.hasOwnProperty(s.parent)){let o=r[s.parent];delete s.parent,o.children.push(s)}else console.warn(`[Grad] - missing node '${s.parent}'`);else i.children.push(s)}),i}(t):(Il(e=t).forEach(Yc),e);var e}(t);return new r0(e)};Q9.prototype.plugin=function(t){t(this)};const zg={Noun:"blue",Verb:"green",Negative:"green",Date:"red",Value:"red",Adjective:"magenta",Preposition:"cyan",Conjunction:"cyan",Determiner:"cyan",Hyphenated:"cyan",Adverb:"cyan"},I0e=function(t){if(zg.hasOwnProperty(t.id))return zg[t.id];if(zg.hasOwnProperty(t.is))return zg[t.is];let e=t._cache.parents.find(n=>zg[n]);return zg[e]},J9=function(t){return t?"string"==typeof t?[t]:t:[]},P0e={one:{setTag:f0e,unTag:function(t,e,n){e=e.trim().replace(/^#/,"");for(let r=0;r<t.length;r+=1){let i=t[r];if(!0===i.frozen)continue;if("*"===e){i.tags.clear();continue}let s=n[e];if(s&&s.children.length>0)for(let o=0;o<s.children.length;o+=1)i.tags.delete(s.children[o]);i.tags.delete(e)}},addTags:function(t,e){Object.keys(e).length>0&&(t=function(t){return Object.keys(t).forEach(e=>{t[e]=Object.assign({},t[e]),t[e].novel=!0}),t}(t)),t=function(t,e){return t=function(t,e){return Object.keys(t).forEach(n=>{t[n].isA&&(t[n].is=t[n].isA),t[n].notA&&(t[n].not=t[n].notA),t[n].is&&"string"==typeof t[n].is&&!e.hasOwnProperty(t[n].is)&&!t.hasOwnProperty(t[n].is)&&(t[t[n].is]={}),t[n].not&&"string"==typeof t[n].not&&!t.hasOwnProperty(t[n].not)&&!e.hasOwnProperty(t[n].not)&&!t.hasOwnProperty(t[n].not)&&(t[t[n].not]={})}),t}(t,e),Object.keys(t).forEach(n=>{t[n].children=J9(t[n].children),t[n].not=J9(t[n].not)}),Object.keys(t).forEach(n=>{(t[n].not||[]).forEach(i=>{t[i]&&t[i].not&&t[i].not.push(n)})}),t}(t,e);const r=function(t){const e=Object.keys(t).map(r=>{let i=t[r];const s={not:new Set(i.not),also:i.also,is:i.is,novel:i.novel};return{id:r,parent:i.is,props:s,children:[]}});return Q9(e).cache().fillDown().out("array")}(Object.assign({},e,t));return function(t){const e={};return t.forEach(n=>{let{not:r,also:i,is:s,novel:o}=n.props,a=n._cache.parents;i&&(a=a.concat(i)),e[n.id]={is:s,not:r,novel:o,also:i,parents:a,children:n._cache.children,color:I0e(n)}}),Object.keys(e).forEach(n=>{let r=new Set(e[n].not);e[n].not.forEach(i=>{e[i]&&e[i].children.forEach(s=>r.add(s))}),e[n].not=Array.from(r)}),e}(r)},canBe:function(t,e,n){if(!n.hasOwnProperty(e))return!0;let r=n[e].not||[];for(let i=0;i<r.length;i+=1)if(t.tags.has(r[i]))return!1;return!0}}},Y9=function(t){return"[object Array]"===Object.prototype.toString.call(t)},N0e={tag:function(t,e="",n){if(!this.found||!t)return this;let r=this.termList();if(0===r.length)return this;const{methods:i,verbose:s,world:o}=this;return!0===s&&console.log(" +  ",t,e||""),Y9(t)?t.forEach(a=>i.one.setTag(r,a,o,n,e)):i.one.setTag(r,t,o,n,e),this.uncache(),this},tagSafe:function(t,e=""){return this.tag(t,e,!0)},unTag:function(t,e){if(!this.found||!t)return this;let n=this.termList();if(0===n.length)return this;const{methods:r,verbose:i,model:s}=this;!0===i&&console.log(" -  ",t,e||"");let o=s.one.tagSet;return Y9(t)?t.forEach(a=>r.one.unTag(n,a,o)):r.one.unTag(n,t,o),this.uncache(),this},canBe:function(t){t=t.replace(/^#/,"");let e=this.model.one.tagSet,n=this.methods.one.canBe,r=[];this.document.forEach((s,o)=>{s.forEach((a,u)=>{n(a,t,e)||r.push([o,u,u+1])})});let i=this.update(r);return this.difference(i)}},X9=new Set(["Auxiliary","Possessive"]),M0e={model:{one:{tagSet:{}}},compute:{tagRank:function(t){const{document:e,world:n}=t,r=n.model.one.tagSet;e.forEach(i=>{i.forEach(s=>{let o=Array.from(s.tags);s.tagRank=function(t,e){return t.sort((n,r)=>{if(X9.has(n)||!e.hasOwnProperty(r))return 1;if(X9.has(r)||!e.hasOwnProperty(n))return-1;let i=e[n].children||[],s=i.length;return i=e[r].children||[],s-i.length})}(o,r)})})}},methods:P0e,api:function(t){Object.assign(t.prototype,N0e)},lib:{addTags:function(t){const{model:e,methods:n}=this.world();let s=(0,n.one.addTags)(t,e.one.tagSet);return e.one.tagSet=s,this}}},O0e=/([.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s)/g,F0e=/^[.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s$/,V0e=/((?:\r?\n|\r)+)/,j0e=/[a-z0-9\u00C0-\u00FF\u00a9\u00ae\u2000-\u3300\ud000-\udfff]/i,U0e=/\S/,eq={'"':'"',"\uff02":"\uff02","\u201c":"\u201d","\u201f":"\u201d","\u201e":"\u201d","\u2e42":"\u201d","\u201a":"\u2019","\xab":"\xbb","\u2039":"\u203a","\u2035":"\u2032","\u2036":"\u2033","\u2037":"\u2034","\u301d":"\u301e","\u301f":"\u301e"},$0e=RegExp("["+Object.keys(eq).join("")+"]","g"),G0e=RegExp("["+Object.values(eq).join("")+"]","g"),tq=function(t){if(!t)return!1;let e=t.match(G0e);return null!==e&&1===e.length},nq=/\(/g,W0e=/\)/g,Q0e=/\S/,rq=/^\s+/,Y0e=function(t,e){let n=t.split(/[-\u2013\u2014]/);if(n.length<=1)return!1;const{prefixes:r,suffixes:i}=e.one;return!(1===n[0].length&&/[a-z]/i.test(n[0])||r.hasOwnProperty(n[0])||(n[1]=n[1].trim().replace(/[.?!]$/,""),i.hasOwnProperty(n[1]))||!0!==/^([a-z\u00C0-\u00FF`"'/]+)[-\u2013\u2014]([a-z0-9\u00C0-\u00FF].*)/i.test(t)&&!0!==/^[('"]?([0-9]{1,4})[-\u2013\u2014]([a-z\u00C0-\u00FF`"'/-]+[)'"]?$)/i.test(t))},X0e=function(t){let e=[];const n=t.split(/[-\u2013\u2014]/);let r="-",i=t.match(/[-\u2013\u2014]/);i&&i[0]&&(r=i);for(let s=0;s<n.length;s++)e.push(s===n.length-1?n[s]:n[s]+r);return e},ebe=new RegExp("\\p{L} ?\\/ ?\\p{L}+$","u"),nbe=/\S/,rbe=/^[!?.]+$/,ibe=/(\S+)/;let yx=[".","?","!",":",";","-","\u2013","\u2014","--","...","(",")","[","]",'"',"'","`","\xab","\xbb","*","\u2022"];yx=yx.reduce((t,e)=>(t[e]=!0,t),{});const iq=new RegExp("\\p{Letter}","u"),MT=/[\p{Number}\p{Currency_Symbol}]/u,abe=/^[a-z]\.([a-z]\.)+/i,ube=/[sn]['\u2019]$/,fbe=/([A-Z]\.)+[A-Z]?,?$/,pbe=/^[A-Z]\.,?$/,gbe=/[A-Z]{2,}('s|,)?$/,mbe=/([a-z]\.)+[a-z]\.?$/,sq=function(t,e){const n=e.methods.one.killUnicode;let r=t.text||"";r=function(t){let e=t=(t=(t=t||"").toLowerCase()).trim();return t=(t=(t=t.replace(/[,;.!?]+$/,"")).replace(/\u2026/g,"...")).replace(/\u2013/g,"-"),!1===/^[:;]/.test(t)&&(t=(t=(t=t.replace(/\.{3,}$/g,"")).replace(/[",.!:;?)]+$/g,"")).replace(/^['"(]+/g,"")),""===(t=(t=t.replace(/[\u200B-\u200D\uFEFF]/g,"")).trim())&&(t=e),t.replace(/([0-9]),([0-9])/g,"$1$2")}(r),r=n(r,e),r=function(t){return function(t){return!0===fbe.test(t)||!0===mbe.test(t)||!0===pbe.test(t)||!0===gbe.test(t)}(t)&&(t=t.replace(/\./g,"")),t}(r),t.normal=r},bbe=/[ .][A-Z]\.? *$/i,wbe=/(?:\u2026|\.{2,}) *$/,Ebe=new RegExp("\\p{L}","u"),Ibe=/\. *$/,Tbe=/^[A-Z]\. $/,Abe={one:{killUnicode:function(t,e){const n=e.model.one.unicode||{};let r=(t=t||"").split("");return r.forEach((i,s)=>{n[i]&&(r[s]=n[i])}),r.join("")},tokenize:{splitSentences:function(t,e){if(t=t||"",!(t=String(t))||"string"!=typeof t||!1===Q0e.test(t))return[];let n=function(t){let e=[],n=t.split(V0e);for(let r=0;r<n.length;r++){let i=n[r].split(O0e);for(let s=0;s<i.length;s++)i[s+1]&&!0===F0e.test(i[s+1])&&(i[s]+=i[s+1],i[s+1]=""),""!==i[s]&&e.push(i[s])}return e}(t=t.replace("\xa0"," ")),r=function(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];if(void 0!==r&&""!==r){if(!1===U0e.test(r)||!1===j0e.test(r)){if(e[e.length-1]){e[e.length-1]+=r;continue}if(t[n+1]){t[n+1]=r+t[n+1];continue}}e.push(r)}}return e}(n);if(r=function(t,e){const n=e.methods.one.tokenize.isSentence,r=e.model.one.abbreviations||new Set;let i=[];for(let s=0;s<t.length;s++){let o=t[s];t[s+1]&&!1===n(o,r)?t[s+1]=o+(t[s+1]||""):o&&o.length>0&&(i.push(o),t[s]="")}return i}(r,e),r=function(t){let e=[];for(let n=0;n<t.length;n+=1){let i=t[n].match($0e);if(null!==i&&1===i.length){if(tq(t[n+1])&&t[n+1].length<280){t[n]+=t[n+1],e.push(t[n]),t[n+1]="",n+=1;continue}if(tq(t[n+2])){let s=t[n+1]+t[n+2];if(s.length<280){t[n]+=s,e.push(t[n]),t[n+1]="",t[n+2]="",n+=2;continue}}}e.push(t[n])}return e}(r),r=function(t){let e=[];for(let n=0;n<t.length;n+=1){let i=t[n].match(nq);null!==i&&1===i.length&&t[n+1]&&t[n+1].length<250&&null!==t[n+1].match(W0e)&&1===i.length&&!nq.test(t[n+1])?(t[n]+=t[n+1],e.push(t[n]),t[n+1]="",n+=1):e.push(t[n])}return e}(r),0===r.length)return[t];for(let i=1;i<r.length;i+=1){let s=r[i].match(rq);null!==s&&(r[i-1]+=s[0],r[i]=r[i].replace(rq,""))}return r},isSentence:function(t,e){if(!1===Ebe.test(t)||!0===bbe.test(t)||3===t.length&&Tbe.test(t)||!0===wbe.test(t))return!1;let r=t.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/,"").split(" "),i=r[r.length-1].toLowerCase();return!(!0===e.hasOwnProperty(i)&&!0===Ibe.test(t))},splitTerms:function(t,e){let n=[],r=[];if("number"==typeof(t=t||"")&&(t=String(t)),function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t))return t;const i=t.split(ibe);for(let o=0;o<i.length;o++)!0!==Y0e(i[o],e)?r.push(i[o]):r=r.concat(X0e(i[o]));let s="";for(let o=0;o<r.length;o++){let a=r[o];!0===nbe.test(a)&&!1===yx.hasOwnProperty(a)&&!1===rbe.test(a)?(n.length>0?(n[n.length-1]+=s,n.push(a)):n.push(s+a),s=""):s+=a}return s&&(0===n.length&&(n[0]=""),n[n.length-1]+=s),n=function(t){for(let e=1;e<t.length-1;e++)ebe.test(t[e])&&(t[e-1]+=t[e]+t[e+1],t[e]=null,t[e+1]=null);return t}(n),n=function(t){const e=/^[0-9]{1,4}(:[0-9][0-9])?([a-z]{1,2})? ?[-\u2013\u2014] ?$/,n=/^[0-9]{1,4}([a-z]{1,2})? ?$/;for(let r=0;r<t.length-1;r+=1)t[r+1]&&e.test(t[r])&&n.test(t[r+1])&&(t[r]=t[r]+t[r+1],t[r+1]=null);return t}(n),n=n.filter(o=>o),n},splitWhitespace:(t,e)=>{let{str:n,pre:r,post:i}=function(t,e){let{prePunctuation:n,postPunctuation:r,emoticons:i}=e.one,s=t,o="",a="",u=Array.from(t);if(i.hasOwnProperty(t.trim()))return{str:t.trim(),pre:o,post:" "};let l=u.length;for(let d=0;d<l;d+=1){let g=u[0];if(!0!==n[g]){if(("+"===g||"-"===g)&&MT.test(u[1])||"'"===g&&3===g.length&&MT.test(u[1])||iq.test(g)||MT.test(g))break;o+=u.shift()}}l=u.length;for(let d=0;d<l;d+=1){let g=u[u.length-1];if(!0!==r[g]){if(iq.test(g)||MT.test(g))break;"."===g&&!0===abe.test(s)||"'"===g&&!0===ube.test(s)||(a=u.pop()+a)}}return""===(t=u.join(""))&&(s=s.replace(/ *$/,d=>(a=d||"","")),t=s,o=""),{str:t,pre:o,post:a}}(t,e);return{text:n,pre:r,post:i,tags:new Set}},fromString:function(t,e){const{methods:n,model:r}=e,{splitSentences:i,splitTerms:s,splitWhitespace:o}=n.one.tokenize;return i(t=t||"",e).map(u=>{let l=s(u,r);return l=l.map(d=>o(d,r)),l.forEach(d=>{sq(d,e)}),l})}}}};let oq={},OT={};[[["approx","apt","bc","cyn","eg","esp","est","etc","ex","exp","prob","pron","gal","min","pseud","fig","jd","lat","lng","vol","fm","def","misc","plz","ea","ps","sec","pt","pref","pl","pp","qt","fr","sq","nee","ss","tel","temp","vet","ver","fem","masc","eng","adj","vb","rb","inf","situ","vivo","vitro","wr"]],[["dl","ml","gal","qt","pt","tbl","tsp","tbsp","km","dm","cm","mm","mi","td","hr","hrs","kg","hg","dg","cg","mg","\xb5g","lb","oz","sq ft","hz","mps","mph","kmph","kb","mb","tb","lx","lm","fl oz","yb"],"Unit"],[["ad","al","arc","ba","bl","ca","cca","col","corp","ft","fy","ie","lit","ma","md","pd","tce"],"Noun"],[["adj","adm","adv","asst","atty","bldg","brig","capt","cmdr","comdr","cpl","det","dr","esq","gen","gov","hon","jr","llb","lt","maj","messrs","mlle","mme","mr","mrs","ms","mstr","phd","prof","pvt","rep","reps","res","rev","sen","sens","sfc","sgt","sir","sr","supt","surg"],"Honorific"],[["jan","feb","mar","apr","jun","jul","aug","sep","sept","oct","nov","dec"],"Month"],[["dept","univ","assn","bros","inc","ltd","co"],"Organization"],[["rd","st","dist","mt","ave","blvd","cl","cres","hwy","ariz","cal","calif","colo","conn","fla","fl","ga","ida","ia","kan","kans","minn","neb","nebr","okla","penna","penn","pa","dak","tenn","tex","ut","vt","va","wis","wisc","wy","wyo","usafa","alta","ont","que","sask"],"Place"]].forEach(t=>{t[0].forEach(e=>{oq[e]=!0,OT[e]="Abbreviation",void 0!==t[1]&&(OT[e]=[OT[e],t[1]])})});const Sbe=["anti","bi","co","contra","de","extra","infra","inter","intra","macro","micro","mis","mono","multi","peri","pre","pro","proto","pseudo","re","sub","supra","trans","tri","un","out","ex"].reduce((t,e)=>(t[e]=!0,t),{});let aq={"!":"\xa1","?":"\xbf\u0241",'"':'\u201c\u201d"\u275d\u275e',"'":"\u2018\u201b\u275b\u275c\u2019","-":"\u2014\u2013",a:"\xaa\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\u0100\u0101\u0102\u0103\u0104\u0105\u01cd\u01ce\u01de\u01df\u01e0\u01e1\u01fa\u01fb\u0200\u0201\u0202\u0203\u0226\u0227\u023a\u0386\u0391\u0394\u039b\u03ac\u03b1\u03bb\u0410\u0430\u0466\u0467\u04d0\u04d1\u04d2\u04d3\u019b\xe6",b:"\xdf\xfe\u0180\u0181\u0182\u0183\u0184\u0185\u0243\u0392\u03b2\u03d0\u03e6\u0411\u0412\u042a\u042c\u0432\u044a\u044c\u0462\u0463\u048c\u048d",c:"\xa2\xa9\xc7\xe7\u0106\u0107\u0108\u0109\u010a\u010b\u010c\u010d\u0186\u0187\u0188\u023b\u023c\u037b\u037c\u03f2\u03f9\u03fd\u03fe\u0421\u0441\u0454\u0480\u0481\u04aa\u04ab",d:"\xd0\u010e\u010f\u0110\u0111\u0189\u018a\u0221\u018b\u018c",e:"\xc8\xc9\xca\xcb\xe8\xe9\xea\xeb\u0112\u0113\u0114\u0115\u0116\u0117\u0118\u0119\u011a\u011b\u0190\u0204\u0205\u0206\u0207\u0228\u0229\u0246\u0247\u0388\u0395\u039e\u03a3\u03ad\u03b5\u03be\u03f5\u0400\u0401\u0415\u0435\u0450\u0451\u04bc\u04bd\u04be\u04bf\u04d6\u04d7\u1ec5",f:"\u0191\u0192\u03dc\u03dd\u04fa\u04fb\u0492\u0493\u017f",g:"\u011c\u011d\u011e\u011f\u0120\u0121\u0122\u0123\u0193\u01e4\u01e5\u01e6\u01e7\u01f4\u01f5",h:"\u0124\u0125\u0126\u0127\u0195\u01f6\u021e\u021f\u0389\u0397\u0402\u040a\u040b\u041d\u043d\u0452\u045b\u04a2\u04a3\u04a4\u04a5\u04ba\u04bb\u04c9\u04ca",I:"\xcc\xcd\xce\xcf",i:"\xec\xed\xee\xef\u0128\u0129\u012a\u012b\u012c\u012d\u012e\u012f\u0130\u0131\u0196\u0197\u0208\u0209\u020a\u020b\u038a\u0390\u03aa\u03af\u03b9\u03ca\u0406\u0407\u0456\u0457i\u0307",j:"\u0134\u0135\u01f0\u0237\u0248\u0249\u03f3\u0408\u0458",k:"\u0136\u0137\u0138\u0198\u0199\u01e8\u01e9\u039a\u03ba\u040c\u0416\u041a\u0436\u043a\u045c\u049a\u049b\u049c\u049d\u049e\u049f\u04a0\u04a1",l:"\u0139\u013a\u013b\u013c\u013d\u013e\u013f\u0140\u0141\u0142\u019a\u01aa\u01c0\u01cf\u01d0\u0234\u023d\u0399\u04c0\u04cf",m:"\u039c\u03fa\u03fb\u041c\u043c\u04cd\u04ce",n:"\xd1\xf1\u0143\u0144\u0145\u0146\u0147\u0148\u0149\u014a\u014b\u019d\u019e\u01f8\u01f9\u0220\u0235\u039d\u03a0\u03ae\u03b7\u03de\u040d\u0418\u0419\u041b\u041f\u0438\u0439\u043b\u043f\u045d\u048a\u048b\u04c5\u04c6\u04e2\u04e3\u04e4\u04e5\u03c0",o:"\xd2\xd3\xd4\xd5\xd6\xd8\xf0\xf2\xf3\xf4\xf5\xf6\xf8\u014c\u014d\u014e\u014f\u0150\u0151\u019f\u01a0\u01a1\u01d1\u01d2\u01ea\u01eb\u01ec\u01ed\u01fe\u01ff\u020c\u020d\u020e\u020f\u022a\u022b\u022c\u022d\u022e\u022f\u0230\u0231\u038c\u0398\u039f\u03b8\u03bf\u03c3\u03cc\u03d5\u03d8\u03d9\u03ec\u03f4\u041e\u0424\u043e\u0472\u0473\u04e6\u04e7\u04e8\u04e9\u04ea\u04eb",p:"\u01a4\u03a1\u03c1\u03f7\u03f8\u03fc\u0420\u0440\u048e\u048f\xde",q:"\u024a\u024b",r:"\u0154\u0155\u0156\u0157\u0158\u0159\u01a6\u0210\u0211\u0212\u0213\u024c\u024d\u0403\u0413\u042f\u0433\u044f\u0453\u0490\u0491",s:"\u015a\u015b\u015c\u015d\u015e\u015f\u0160\u0161\u01a7\u01a8\u0218\u0219\u023f\u0405\u0455",t:"\u0162\u0163\u0164\u0165\u0166\u0167\u01ab\u01ac\u01ad\u01ae\u021a\u021b\u0236\u023e\u0393\u03a4\u03c4\u03ee\u0422\u0442",u:"\xd9\xda\xdb\xdc\xf9\xfa\xfb\xfc\u0168\u0169\u016a\u016b\u016c\u016d\u016e\u016f\u0170\u0171\u0172\u0173\u01af\u01b0\u01b1\u01b2\u01d3\u01d4\u01d5\u01d6\u01d7\u01d8\u01d9\u01da\u01db\u01dc\u0214\u0215\u0216\u0217\u0244\u03b0\u03c5\u03cb\u03cd",v:"\u03bd\u0474\u0475\u0476\u0477",w:"\u0174\u0175\u019c\u03c9\u03ce\u03d6\u03e2\u03e3\u0428\u0429\u0448\u0449\u0461\u047f",x:"\xd7\u03a7\u03c7\u03d7\u03f0\u0425\u0445\u04b2\u04b3\u04fc\u04fd\u04fe\u04ff",y:"\xdd\xfd\xff\u0176\u0177\u0178\u01b3\u01b4\u0232\u0233\u024e\u024f\u038e\u03a5\u03ab\u03b3\u03c8\u03d2\u03d3\u03d4\u040e\u0423\u0443\u0447\u045e\u0470\u0471\u04ae\u04af\u04b0\u04b1\u04ee\u04ef\u04f0\u04f1\u04f2\u04f3",z:"\u0179\u017a\u017b\u017c\u017d\u017e\u01b5\u01b6\u0224\u0225\u0240\u0396"},uq={};Object.keys(aq).forEach(function(t){aq[t].split("").forEach(function(e){uq[e]=t})});const Nbe={one:{aliases:{"&":"and","@":"at","%":"percent",plz:"please",bein:"being"},abbreviations:oq,prefixes:Sbe,suffixes:{like:!0,ish:!0,less:!0,able:!0,elect:!0,type:!0,designate:!0},prePunctuation:{"#":!0,"@":!0,_:!0,"\xb0":!0,"\u200b":!0,"\u200c":!0,"\u200d":!0,"\ufeff":!0},postPunctuation:{"%":!0,_:!0,"\xb0":!0,"\u200b":!0,"\u200c":!0,"\u200d":!0,"\ufeff":!0},lexicon:OT,unicode:uq,emoticons:{"<3":!0,"</3":!0,"<\\3":!0,":^P":!0,":^p":!0,":^O":!0,":^3":!0}}},lq=/\//,Rbe=/[a-z]\.[a-z]/i,kbe=/[0-9]/,xbe=function(t,e){let n=t.normal||t.text||t.machine;const r=e.model.one.aliases;if(r.hasOwnProperty(n)&&(t.alias=t.alias||[],t.alias.push(r[n])),lq.test(n)&&!Rbe.test(n)&&!kbe.test(n)){let i=n.split(lq);i.length<=3&&i.forEach(s=>{""!==(s=s.trim())&&(t.alias=t.alias||[],t.alias.push(s))})}return t},Mbe=new RegExp("^\\p{Letter}+-\\p{Letter}+$","u"),Obe=function(t){let e=t.implicit||t.normal||t.text;e=e.replace(/['\u2019]s$/,""),e=e.replace(/s['\u2019]$/,"s"),e=e.replace(/([aeiou][ktrp])in'$/,"$1ing"),Mbe.test(e)&&(e=e.replace(/-/g,"")),e=e.replace(/^[#@]/,""),e!==t.normal&&(t.machine=e)},_x=function(t,e){let n=t.docs;for(let r=0;r<n.length;r+=1)for(let i=0;i<n[r].length;i+=1)e(n[r][i],t.world)},Ube={compute:{alias:t=>_x(t,xbe),machine:t=>_x(t,Obe),normal:t=>_x(t,sq),freq:function(t){let e=t.docs,n={};for(let r=0;r<e.length;r+=1)for(let i=0;i<e[r].length;i+=1){let s=e[r][i],o=s.machine||s.normal;n[o]=n[o]||0,n[o]+=1}for(let r=0;r<e.length;r+=1)for(let i=0;i<e[r].length;i+=1){let s=e[r][i];s.freq=n[s.machine||s.normal]}},offset:function(t){let e=0,n=0,r=t.document;for(let i=0;i<r.length;i+=1)for(let s=0;s<r[i].length;s+=1){let o=r[i][s];o.offset={index:n,start:e+o.pre.length,length:o.text.length},e+=o.pre.length+o.text.length+o.post.length,n+=1}},index:function(t){let e=t.document;for(let n=0;n<e.length;n+=1)for(let r=0;r<e[n].length;r+=1)e[n][r].index=[n,r]},wordCount:function(t){let e=0,n=t.docs;for(let r=0;r<n.length;r+=1)for(let i=0;i<n[r].length;i+=1)""!==n[r][i].normal&&(e+=1,n[r][i].wordCount=e)}},methods:Abe,model:Nbe,hooks:["alias","machine","index","id"]},Bbe={typeahead:function(t){const e=t.model.one.typeahead,n=t.docs;if(0===n.length||0===Object.keys(e).length)return;let r=n[n.length-1]||[],i=r[r.length-1];if(!i.post&&e.hasOwnProperty(i.normal)){let s=e[i.normal];i.implicit=s,i.machine=s,i.typeahead=!0,t.compute.preTagger&&t.last().unTag("*").compute(["lexicon","preTagger"])}}},Hbe=function(){const t=this.docs;if(0===t.length)return this;let e=t[t.length-1]||[],n=e[e.length-1];return!0===n.typeahead&&n.machine&&(n.text=n.machine,n.normal=n.machine),this},qbe={safe:!0,min:3},Wbe={model:{one:{typeahead:{}}},api:function(t){t.prototype.autoFill=Hbe},lib:{typeahead:function(t=[],e={}){let n=this.model();e=Object.assign({},qbe,e),(t=>"[object Object]"===Object.prototype.toString.call(t))(t)&&(Object.assign(n.one.lexicon,t),t=Object.keys(t));let r=function(t,e,n){let r={},i=[],s=n.prefixes||{};return t.forEach(o=>{let a=(o=o.toLowerCase().trim()).length;e.max&&a>e.max&&(a=e.max);for(let u=e.min;u<a;u+=1){let l=o.substring(0,u);if(!e.safe||!n.model.one.lexicon.hasOwnProperty(l)){if(!0===s.hasOwnProperty(l)){i.push(l);continue}if(!0===r.hasOwnProperty(l)){i.push(l);continue}r[l]=o}}}),r=Object.assign({},s,r),i.forEach(o=>{delete r[o]}),r}(t,e,this.world());return Object.keys(r).forEach(i=>{n.one.typeahead.hasOwnProperty(i)?delete n.one.typeahead[i]:n.one.typeahead[i]=r[i]}),this}},compute:Bbe,hooks:["typeahead"]};zs.extend(Fye),zs.extend(Lve),zs.extend(uve),zs.extend(Jve),zs.extend(M0e),zs.plugin(n_e),zs.extend(Ube),zs.extend(i_e),zs.plugin(uye),zs.extend(m_e),zs.extend(Wbe),zs.extend(u_e),zs.extend(l0e);const qg=zs,cq={addendum:"addenda",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",opus:"opera",ovum:"ova",phenomenon:"phenomena",referendum:"referenda",alga:"algae",alumna:"alumnae",antenna:"antennae",formula:"formulae",larva:"larvae",nebula:"nebulae",vertebra:"vertebrae",analysis:"analyses",axis:"axes",diagnosis:"diagnoses",parenthesis:"parentheses",prognosis:"prognoses",synopsis:"synopses",thesis:"theses",neurosis:"neuroses",appendix:"appendices",index:"indices",matrix:"matrices",ox:"oxen",sex:"sexes",alumnus:"alumni",bacillus:"bacilli",cactus:"cacti",fungus:"fungi",hippopotamus:"hippopotami",libretto:"libretti",modulus:"moduli",nucleus:"nuclei",octopus:"octopi",radius:"radii",stimulus:"stimuli",syllabus:"syllabi",cookie:"cookies",calorie:"calories",auntie:"aunties",movie:"movies",pie:"pies",rookie:"rookies",tie:"ties",zombie:"zombies",leaf:"leaves",loaf:"loaves",thief:"thieves",foot:"feet",goose:"geese",tooth:"teeth",beau:"beaux",chateau:"chateaux",tableau:"tableaux",bus:"buses",gas:"gases",circus:"circuses",crisis:"crises",virus:"viruses",database:"databases",excuse:"excuses",abuse:"abuses",avocado:"avocados",barracks:"barracks",child:"children",clothes:"clothes",echo:"echoes",embargo:"embargoes",epoch:"epochs",deer:"deer",halo:"halos",man:"men",woman:"women",mosquito:"mosquitoes",mouse:"mice",person:"people",quiz:"quizzes",rodeo:"rodeos",shoe:"shoes",sombrero:"sombreros",stomach:"stomachs",tornado:"tornados",tuxedo:"tuxedos",volcano:"volcanoes"},dq={Comparative:"true\xa6bett1f0;arth0ew0in0;er",Superlative:"true\xa6earlier",PresentTense:"true\xa6bests,sounds",Condition:"true\xa6lest,unless",PastTense:"true\xa6began,came,d4had,kneel3l2m0sa4we1;ea0sg2;nt;eap0i0;ed;id",Participle:"true\xa60:09;a06b01cZdXeat0fSgQhPoJprov0rHs7t6u4w1;ak0ithdra02o2r1;i02uY;k0v0;nd1pr04;ergoJoJ;ak0hHo3;e9h7lain,o6p5t4un3w1;o1um;rn;g,k;ol0reS;iQok0;ught,wn;ak0o1runk;ne,wn;en,wn;ewriNi1uJ;dd0s0;ut3ver1;do4se0t1;ak0h2;do2g1;roG;ne;ast0i7;iv0o1;ne,tt0;all0loBor1;bi3g2s1;ak0e0;iv0o9;dd0;ove,r1;a5eamt,iv0;hos0lu1;ng;e4i3lo2ui1;lt;wn;tt0;at0en,gun;r2w1;ak0ok0;is0;en",Gerund:"true\xa6accord0be0doin,go0result0stain0;ing",Expression:"true\xa6a0Yb0Uc0Sd0Oe0Mfarew0Lg0FhZjeez,lWmVnToOpLsJtIuFvEw7y0;a5e3i1u0;ck,p;k04p0;ee,pee;a0p,s;!h;!a,h,y;a5h2o1t0;af,f;rd up,w;atsoever,e1o0;a,ops;e,w;hoo,t;ery w06oi0L;gh,h0;! 0h,m;huh,oh;here nPsk,ut tut;h0ic;eesh,hh,it,oo;ff,h1l0ow,sst;ease,s,z;ew,ooey;h1i,mg,o0uch,w,y;h,o,ps;! 0h;hTmy go0wT;d,sh;a7evertheless,o0;!pe;eh,mm;ah,eh,m1ol0;!s;ao,fao;aCeBi9o2u0;h,mph,rra0zzC;h,y;l1o0;r6y9;la,y0;! 0;c1moCsmok0;es;ow;!p hip hoor0;ay;ck,e,llo,y;ha1i,lleluj0;ah;!ha;ah,ee4o1r0;eat scott,r;l1od0sh; grief,bye;ly;! whiz;ell;e0h,t cetera,ureka,ww,xcuse me;k,p;'oh,a0rat,uh;m0ng;mit,n0;!it;mon,o0;ngratulations,wabunga;a2oo1r0tw,ye;avo,r;!ya;h,m; 1h0ka,las,men,rgh,ye;!a,em,h,oy;la",Negative:"true\xa6n0;ever,o0;n,t",QuestionWord:"true\xa6how3wh0;at,e1ich,o0y;!m,se;n,re; come,'s",Reflexive:"true\xa6h4it5my5o1the0your2;ir1m1;ne3ur0;sel0;f,ves;er0im0;self",Plural:"true\xa6dick0gre0ones,records;ens","Unit|Noun":"true\xa6cEfDgChBinchAk9lb,m6newt5oz,p4qt,t1y0;ardEd;able1b0ea1sp;!l,sp;spo1;a,t,x;on9;!b,g,i1l,m,p0;h,s;!les;!b,elvin,g,m;!es;g,z;al,b;eet,oot,t;m,up0;!s",Value:"true\xa6a few",Imperative:"true\xa6bewa0come he0;re","Plural|Verb":"true\xa6leaves",Demonym:"true\xa60:15;1:12;a0Vb0Oc0Dd0Ce08f07g04h02iYjVkTlPmLnIomHpEqatari,rCs7t5u4v3welAz2;am0Gimbabwe0;enezuel0ietnam0I;gAkrai1;aiwTex0hai,rinida0Ju2;ni0Prkmen;a5cotti4e3ingapoOlovak,oma0Spaniard,udRw2y0W;ede,iss;negal0Cr09;sh;mo0uT;o5us0Jw2;and0;a2eru0Fhilippi0Nortugu07uerto r0S;kist3lesti1na2raguay0;ma1;ani;ami00i2orweP;caragu0geri2;an,en;a3ex0Lo2;ngo0Drocc0;cedo1la2;gasy,y07;a4eb9i2;b2thua1;e0Cy0;o,t01;azakh,eny0o2uwaiI;re0;a2orda1;ma0Ap2;anO;celandic,nd4r2sraeli,ta01vo05;a2iB;ni0qi;i0oneU;aiAin2ondur0unO;di;amEe2hanai0reek,uatemal0;or2rm0;gi0;ilipino,ren8;cuadoVgyp4mira3ngli2sto1thiopi0urope0;shm0;ti;ti0;aPominUut3;a9h6o4roat3ub0ze2;ch;!i0;lom2ngol5;bi0;a6i2;le0n2;ese;lifor1m2na3;bo2eroo1;di0;angladeshi,el6o4r3ul2;gaE;azi9it;li2s1;vi0;aru2gi0;si0;fAl7merBngol0r5si0us2;sie,tr2;a2i0;li0;genti2me1;ne;ba1ge2;ri0;ni0;gh0r2;ic0;an",Organization:"true\xa60:4Q;a3Tb3Bc2Od2He2Df27g1Zh1Ti1Pj1Nk1Ll1Gm12n0Po0Mp0Cqu0Br02sTtHuCv9w3xiaomi,y1;amaha,m1Bou1w1B;gov,tu3C;a4e2iki1orld trade organizati33;leaRped0O;lls fargo,st1;fie2Hinghou2R;l1rner br3U;gree3Jl street journ2Im1E;an halOeriz2Xisa,o1;dafo2Yl1;kswagMvo;b4kip,n2ps,s1;a tod3Aps;es3Mi1;lev3Fted natio3C;er,s; mobi32aco beRd bOe9gi frida3Lh3im horto3Amz,o1witt3D;shi49y1;ota,s r 05;e 1in lizzy;b3carpen3Jdaily ma3Dguess w2holli0s1w2;mashing pumpki35uprem0;ho;ea1lack eyed pe3Xyr0Q;ch bo3Dtl0;l2n3Qs1xas instrumen1U;co,la m1F;efoni0Kus;a8cientology,e5ieme2Ymirnoff,np,o3pice gir6quare0Ata1ubaru;rbuc1to34;ks;ny,undgard1;en;a2x pisto1;ls;g1Wrs;few2Minsbur31lesfor03msu2E;adiohead,b8e4o1yana3C;man empi1Xyal 1;b1dutch she4;ank;a3d 1max,vl20;bu1c2Ahot chili peppe2Ylobst2N;ll;ders dige1Ll madrid;c,s;ant3Aizn2Q;a8bs,e5fiz2Ihilip4i3r1;emier 1udenti1D;leagTo2K;nk floyd,zza hut; morrBs;psi2tro1uge0E;br33chi0Tn33;!co;lant2Un1yp16; 2ason27da2P;ld navy,pec,range juli2xf1;am;us;aAb9e6fl,h5i4o1sa,vid3wa;k2tre dame,vart1;is;ia;ke,ntendo,ss0QvZ;l,s;c,st1Otflix,w1; 1sweek;kids on the block,york0D;a,c;nd22s2t1;ional aca2Po,we0U;a,c02d0S;aDcdonalCe9i6lb,o3tv,y1;spa1;ce;b1Tnsanto,ody blu0t1;ley cr1or0T;ue;c2t1;as,subisO;helin,rosoft;dica2rcedes benz,talli1;ca;id,re;ds;cs milk,tt19z24;a3e1g,ittle caesa1P; ore09novo,x1;is,mark,us; 1bour party;pres0Dz boy;atv,fc,kk,lm,m1od1O;art;iffy lu0Roy divisi0Jpmorgan1sa;! cha09;bm,hop,k3n1tv;g,te1;l,rpol;ea;a5ewlett pack1Vi3o1sbc,yundai;me dep1n1P;ot;tac1zbollah;hi;lliburt08sbro;eneral 6hq,ithub,l5mb,o2reen d0Ou1;cci,ns n ros0;ldman sachs,o1;dye1g0H;ar;axo smith kli04encoW;electr0Nm1;oto0Z;a5bi,c barcelo4da,edex,i2leetwood m03o1rito l0G;rd,xcY;at,fa,nancial1restoZ; tim0;na;cebook,nnie mae;b0Asa,u3xxon1; m1m1;ob0J;!rosceptics;aiml0De5isney,o4u1;nkin donu2po0Zran dur1;an;ts;j,w jon0;a,f lepp12ll,peche mode,r spieg02stiny's chi1;ld;aJbc,hFiDloudflaCnn,o3r1;aigsli5eedence clearwater reviv1ossra09;al;c7inba6l4m1o0Est09;ca2p1;aq;st;dplSg1;ate;se;a c1o chanQ;ola;re;a,sco1tigroup;! systems;ev2i1;ck fil a,na daily;r1y;on;d2pital o1rls jr;ne;bury,ill1;ac;aEbc,eBf9l5mw,ni,o1p,rexiteeU;ei3mbardiIston 1;glo1pizza;be;ng;o2ue c1;roV;ckbuster video,omingda1;le; g1g1;oodriL;cht2e ge0rkshire hathaw1;ay;el;cardi,idu,nana republ3s1xt5y5;f,kin robbi1;ns;ic;bYcTdidSerosmith,iRlKmEnheuser busDol,ppleAr6s4u3v2y1;er;is,on;di,todesk;hland o1sociated E;il;b3g2m1;co;os;ys; compu1be0;te1;rs;ch;c,d,erican3t1;!r1;ak; ex1;pre1;ss; 5catel2ta1;ir;! lu1;ce1;nt;jazeera,qae1;da;g,rbnb;as;/dc,a3er,tivision1;! blizz1;ard;demy of scienc0;es;ba",Possessive:"true\xa6its,my,our0thy;!s","Noun|Verb":"true\xa60:9W;1:AA;2:96;3:A3;4:9R;5:A2;6:9K;7:8N;8:7L;9:A8;A:93;B:8D;C:8X;a9Ob8Qc7Id6Re6Gf5Sg5Hh55i4Xj4Uk4Rl4Em40n3Vo3Sp2Squ2Rr21s0Jt02u00vVwGyFzD;ip,oD;ne,om;awn,e6Fie68;aOeMhJiHoErD;ap,e9Oink2;nd0rDuC;kDry,sh5Hth;!shop;ck,nDpe,re,sh;!d,g;e86iD;p,sD;k,p0t2;aDed,lco8W;r,th0;it,lk,rEsDt4ve,x;h,te;!ehou1ra9;aGen5FiFoD;iDmAte,w;ce,d;be,ew,sA;cuum,l4B;pDr7;da5gra6Elo6A;aReQhrPiOoMrGuEwiDy5Z;n,st;nDrn;e,n7O;aGeFiEoDu6;t,ub2;bu5ck4Jgg0m,p;at,k,nd;ck,de,in,nsDp,v7J;f0i8R;ll,ne,p,r4Yss,t94uD;ch,r;ck,de,e,le,me,p,re;e5Wow,u6;ar,e,ll,mp0st,xt;g,lDng2rg7Ps5x;k,ly;a0Sc0Ne0Kh0Fi0Dk0Cl0Am08n06o05pXquaBtKuFwD;ea88iD;ng,pe,t4;bGit,m,ppErD;fa3ge,pri1v2U;lDo6S;e6Py;!je8;aMeLiKoHrEuDy2;dy,ff,mb2;a85eEiDo5Pugg2;ke,ng;am,ss,t4;ckEop,p,rD;e,m;ing,pi2;ck,nk,t4;er,m,p;ck,ff,ge,in,ke,lEmp,nd,p2rDte,y;!e,t;k,l;aJeIiHlGoFrDur,y;ay,e56inDu3;g,k2;ns8Bt;a5Qit;ll,n,r87te;ed,ll;m,n,rk;b,uC;aDee1Tow;ke,p;a5Je4FiDo53;le,rk;eep,iDou4;ce,p,t;ateboa7Ii;de,gnDl2Vnk,p,ze;!al;aGeFiEoDuff2;ck,p,re,w;ft,p,v0;d,i3Ylt0;ck,de,pe,re,ve;aEed,nDrv1It;se,t2N;l,r4t;aGhedu2oBrD;aEeDibb2o3Z;en,w;pe,t4;le,n,r2M;cDfegua72il,mp2;k,rifi3;aZeHhy6LiGoEuD;b,in,le,n,s5X;a6ck,ll,oDpe,u5;f,t;de,ng,ot,p,s1W;aTcSdo,el,fQgPje8lOmMnLo17pJque6sFturn,vDwa6V;eDi27;al,r1;er74oFpe8tEuD;lt,me;!a55;l71rt;air,eaDly,o53;l,t;dezvo2Zt;aDedy;ke,rk;ea1i4G;a6Iist0r5N;act6Yer1Vo71uD;nd,se;a38o6F;ch,s6G;c1Dge,iEke,lly,nDp1Wt1W;ge,k,t;n,se;es6Biv0;a04e00hYiXlToNrEsy4uD;mp,n4rcha1sh;aKeIiHoDu4O;be,ceFdu3fi2grDje8mi1p,te6;amDe6W;!me;ed,ss;ce,de,nt;sDy;er6Cs;cti3i1;iHlFoEp,re,sDuCw0;e,i5Yt;l,p;iDl;ce,sh;nt,s5V;aEce,e32uD;g,mp,n7;ce,nDy;!t;ck,le,n17pe,tNvot;a1oD;ne,tograph;ak,eFnErDt;fu55mA;!c32;!l,r;ckJiInHrFsEtDu1y;ch,e9;s,te;k,tD;!y;!ic;nt,r,se;!a7;bje8ff0il,oErDutli3Qver4B;bAd0ie9;ze;a4ReFoDur1;d,tD;e,i3;ed,gle8tD;!work;aMeKiIoEuD;rd0;ck,d3Rld,nEp,uDve;nt,th;it5EkD;ey;lk,n4Brr5CsDx;s,ta2B;asuBn4UrDss;ge,it;il,nFp,rk3WsEtD;ch,t0;h,k,t0;da5n0oeuvB;aLeJiHoEuD;mp,st;aEbby,ck,g,oDve;k,t;d,n;cDe,ft,mAnIst;en1k;aDc0Pe4vK;ch,d,k,p,se;bFcEnd,p,t4uD;gh,n4;e,k;el,o2U;eEiDno4E;ck,d,ll,ss;el,y;aEo1OuD;i3mp;m,zz;mpJnEr46ssD;ue;c1Rdex,fluGha2k,se2HteDvoi3;nt,rD;e6fa3viD;ew;en3;a8le2A;aJeHiGoEuD;g,nt;l3Ano2Dok,pDr1u1;!e;ghli1Fke,nt,re,t;aDd7lp;d,t;ck,mGndFrEsh,tDu9;ch,e;bo3Xm,ne4Eve6;!le;!m0;aMear,ift,lKossJrFuD;arDe4Alp,n;antee,d;aFiEoDumb2;uCwth;ll,nd,p;de,sp;ip;aBoDue;ss,w;g,in,me,ng,s,te,ze;aZeWiRlNoJrFuD;ck,el,nDss,zz;c38d;aEoDy;st,wn;cDgme,me,nchi1;tuB;cFg,il,ld,rD;ce,e29mDwa31;!at;us;aFe0Vip,oDy;at,ck,od,wD;!er;g,ke,me,re,sh,vo1E;eGgFlEnDre,sh,t,x;an3i0Q;e,m,t0;ht,uB;ld;aEeDn3;d,l;r,tuB;ce,il,ll,rm,vo2W;cho,d7ffe8nMsKxFyeD;!baD;ll;cGerci1hFpDtra8;eriDo0W;en3me9;au6ibA;el,han7u1;caDtima5;pe;count0d,vy;a01eSiMoJrEuDye;b,el,mp,pli2X;aGeFiEoD;ne,p;ft,ll,nk,p,ve;am,ss;ft,g,in;cEd7ubt,wnloD;ad;k,u0E;ge6p,sFt4vD;e,iDor3;de;char7gui1h,liEpD;at4lay,u5;ke;al,bKcJfeIlGmaCposAsEtaD;il;e07iD;gn,re;ay,ega5iD;ght;at,ct;li04rea1;a5ut;b,ma7n3rDte;e,t;a0Eent0Dh06irc2l03oKrFuD;be,e,rDt;b,e,l,ve;aGeFoEuDy;sh;p,ss,wd;dAep;ck,ft,sh;at,de,in,lTmMnFordina5py,re,st,uDv0;gh,nDp2rt;s01t;ceHdu8fli8glomeIsFtDveN;a8rD;a6ol;e9tru8;ct;ntDrn;ra5;bHfoGmFpD;leDouCromi1;me9;aCe9it,u5;rt;at,iD;ne;lap1oD;r,ur;aEiDoud,ub;ck,p;im,w;aEeDip;at,ck,er;iGllen7nErD;ge,m,t;ge,nD;el;n,r;er,re;ke,ll,mp,noe,pGrXsFtEuDve;se,ti0I;alog,ch;h,t;!tuB;re;a03eZiXlToPrHuEyD;pa11;bb2ck2dgEff0mp,rDst,zz;den,n;et;anJeHiFoadEuD;i1sh;ca6;be,d7;ge;aDed;ch,k;ch,d;aFg,mb,nEoDrd0tt2x,ycott;k,st,t;d,e;rd,st;aFeCiDoYur;nk,tz;nd;me;as,d,ke,nd,opsy,tD;!ch,e;aFef,lt,nDt;d,efA;it;r,t;ck,il,lan3nIrFsEtt2;le;e,h;!gDk;aDe;in;!d,g,k;bu1c05dZge,iYlVnTppQrLsIttGucEwaD;rd;tiD;on;aDempt;ck;k,sD;i6ocia5;st;chFmD;!oD;ur;!iD;ve;eEroa4;ch;al;chDg0sw0;or;aEt0;er;rm;d,m,r;dreHvD;an3oD;ca5;te;ce;ss;cDe,he,t;eFoD;rd,u9;nt;nt,ss;se",Actor:"true\xa60:7B;1:7G;2:6A;3:7F;4:7O;5:7K;a6Nb62c4Ud4Be41f3Sg3Bh30i2Uj2Qkin2Pl2Km26n1Zo1Sp0Vqu0Tr0JsQtJuHvEw8yo6;gi,ut6;h,ub0;aAe9i8o7r6;estl0it0;m2rk0;fe,nn0t2Bza2H;atherm2ld0;ge earn0it0nder0rri1;eter7i6oyF;ll5Qp,s3Z;an,ina2U;n6s0;c6Uder03;aoisea23e9herapi5iktok0o8r6ut1yco6S;a6endseLo43;d0mp,nscri0Bvel0;ddl0u1G;a0Qchn7en6na4st0;ag0;i3Oo0D;aiXcUeRhPiMki0mu26oJpGquaFtBu7wee6;p0theart;lt2per7r6;f0ge6Iviv1;h6inten0Ist5Ivis1;ero,um2;a8ep7r6;ang0eam0;bro2Nc2Ofa2Nmo2Nsi20;ff0tesm2;tt0;ec7ir2Do6;kesp59u0M;ia5Jt3;l7me6An,rcere6ul;r,ss;di0oi5;n7s6;sy,t0;g0n0;am2ephe1Iow6;girl,m2r2Q;cretInior cit3Fr6;gea4v6;a4it1;hol4Xi7reen6ulpt1;wr2C;e01on;l1nt;aEe9o8u6;l0nn6;er up,ingE;g40le mod3Zof0;a4Zc8fug2Ppo32searQv6;ere4Uolution6;ary;e6luYru22;ptio3T;bbi,dic5Vpp0;arter6e2Z;back;aYeWhSiRlOoKr8sycho7u6;nk,p31;logi5;aGeDiBo6;d9fess1g7ph47s6;pe2Ktitu51;en6ramm0;it1y;igy,uc0;est4Nme mini0Unce6s3E;!ss;a7si6;de4;ch0;ctiti39nk0P;dca0Oet,li6pula50rnst42;c2Itic6;al scie6i2;nti5;a6umb0;nn0y6;er,ma4Lwright;lgrim,one0;a8iloso7otogra7ra6ysi1V;se;ph0;ntom,rmaci5;r6ssi1T;form0s4O;i3El,nel3Yr8st1tr6wn;i6on;arWot;ent4Wi42tn0;ccupa4ffBp8r7ut6;ca5l0B;ac4Iganiz0ig2Fph2;er3t6;i1Jomet6;ri5;ic0spring;aBe9ie4Xo7u6;n,rser3J;b6mad,vi4V;le2Vo4D;i6mesis,phew;ce,ghb1;nny,rr3t1X;aEeDiAo7u6yst1Y;m8si16;der3gul,m7n6th0;arDk;!my;ni7s6;f02s0Jt0;on,st0;chan1Qnt1rcha4;gi9k0n8rtyr,t6y1;e,riar6;ch;ag0iac;ci2stra3I;a7e2Aieutena4o6;rd,s0v0;bor0d7ndlo6ss,urea3Fwy0ym2;rd;!y;!s28;e8o7u6;ggl0;gg0urna2U;st0;c3Hdol,llu3Ummigra4n6; l9c1Qfa4habi42nov3s7ve6;nt1stig3;pe0Nt6;a1Fig3ru0M;aw;airFeBistoAo8u6ygie1K;man6sba2H;!ita8;bo,st6usekN;age,e3P;ri2;ir,r6;m7o6;!ine;it;dress0sty2C;aLeIhostGirl26ladi3oCrand7u6;e5ru;c9daug0Jfa8m7pa6s2Y;!re4;a,o6;th0;hi1B;al7d6lf0;!de3A;ie,k6te26;eep0;!wr6;it0;isha,n6;i6tl04;us;mbl0rden0;aDella,iAo7r6;eela2Nie1P;e,re6ster pare4;be1Hm2r6st0;unn0;an2ZgZlmm17nanci0r6tt0;e6st la2H; marsh2OfigXm2;rm0th0;conoEdDlectriCm8n7x6;amin0cellency,i2A;emy,trepreneur,vironmenta1J;c8p6;er1loye6;e,r;ee;ci2;it1;mi5;aKeBi8ork,ri7u6we02;de,tche2H;ft0v0;ct3eti7plom2Hre6va;ct1;ci2ti2;aDcor3fencCi0InAput9s7tectLvel6;op0;ce1Ge6ign0;rt0;ee,y;iz6;en;em2;c1Ml0;d8nc0redev7ug6;ht0;il;!dy;a06e04fo,hXitizenWlToBr9u6;r3stomer6;! representat6;ive;e3it6;ic;lJmGnAord9rpor1Nu7w6;boy,ork0;n6ri0;ciTte1Q;in3;fidantAgressSs9t6;e0Kr6;ibut1o6;ll0;tab13ul1O;!e;edi2m6pos0rade;a0EeQissi6;on0;leag8on7um6;ni5;el;ue;e6own;an0r6;ic,k;!s;a9e7i6um;ld;erle6f;ad0;ir7nce6plFract0;ll1;m2wI;lebri6o;ty;dBptAr6shi0;e7pe6;nt0;r,t6;ak0;ain;et;aMeLiJlogg0oErBu6;dd0Fild0rgl9siness6;m2p7w6;om2;ers05;ar;i7o6;!k0th0;cklay0de,gadi0;hemi2oge8y6;!frie6;nd;ym2;an;cyc6sR;li5;atbox0ings;by,nk0r6;b0on7te6;nd0;!e07;c04dWge4nQpLrHsFtAu7yatull6;ah;nt7t6;h1oG;!ie;h8t6;e6orney;nda4;ie5le6;te;sis00tron6;aut,om0;chbis8isto7tis6;an,t;crU;hop;ost9p6;ari6rentiS;ti6;on;le;a9cest1im3nou8y6;bo6;dy;nc0;ly5rc6;hi5;mi8v6;entur0is1;er;ni7r6;al;str3;at1;or;counBquaintanArob9t6;ivi5or,re6;ss;st;at;ce;ta4;nt","Adj|Noun":"true\xa60:16;a1Db17c0Ud0Re0Mf0Dg0Ah08i06ju05l02mWnUoSpNrIsBt7u4v1watershed;a1ision0Z;gabo4nilla,ria1;b0Vnt;ndergr1pstairs;adua14ou1;nd;a3e1oken,ri0;en,r1;min0rori13;boo,n;age,e5ilv0Flack,o3quat,ta2u1well;bordina0Xper5;b0Lndard;ciali0Yl1vereign;e,ve16;cret,n1ri0;ior;a4e2ou1ubbiL;nd,tiY;ar,bBl0Wnt0p1side11;resent0Vublican;ci0Qsh;a4eriodic0last0Zotenti0r1;emi2incip0o1;!fession0;er,um;rall4st,tie0U;ff1pposi0Hv0;ens0Oi0C;agg01ov1uts;el;a5e3iniatJo1;bi01der07r1;al,t0;di1tr0N;an,um;le,riG;attOi2u1;sh;ber0ght,qC;stice,veniT;de0mpressioYn1;cumbe0Edividu0no0Dsta0Eterim;alf,o1umdrum;bby,melF;en2old,ra1;ph0Bve;er0ious;a7e5i4l3u1;git03t1;ure;uid;ne;llow,m1;aFiL;ir,t,vo1;riOuriO;l3p00x1;c1ecutUpeV;ess;d1iK;er;ar2e1;mographUrivO;k,l2;hiGlassSo2rude,unn1;ing;m5n1operK;creCstitueOte2vertab1;le;mpor1nt;ary;ic,m2p1;anion,lex;er2u1;ni8;ci0;al;e5lank,o4r1;i2u1;te;ef;ttom,urgeois;st;cadem9d6l2ntarct9r1;ab,ct8;e3tern1;at1;ive;rt;oles1ult;ce1;nt;ic","Adj|Past":"true\xa60:4Q;1:4C;2:4H;3:4E;a44b3Tc36d2Je29f20g1Wh1Si1Jj1Gkno1Fl1Am15n12o0Xp0Mqu0Kr08sLtEuAv9w4yellow0;a7ea6o4rinkl0;r4u3Y;n,ri0;k31th3;rp0sh0tZ;ari0e1O;n5p4s0;d1li1Rset;cov3derstood,i4;fi0t0;a8e3Rhr7i6ouTr4urn0wi4C;a4imm0ou2G;ck0in0pp0;ed,r0;eat2Qi37;m0nn0r4;get0ni2T;aOcKeIhGimFm0Hoak0pDt7u4;bsid3Ogge44s4;pe4ta2Y;ct0nd0;a8e7i2Eok0r5u4;ff0mp0nn0;ength2Hip4;ed,p0;am0reotyp0;in0t0;eci4ik0oH;al3Efi0;pRul1;a4ock0ut;d0r0;a4c1Jle2t31;l0s3Ut0;a6or5r4;at4e25;ch0;r0tt3;t4ut0;is2Mur1;aEe5o4;tt0;cAdJf2Bg9je2l8m0Knew0p7qu6s4;eTpe2t4;or0ri2;e3Dir0;e1lac0;at0e2Q;i0Rul1;eiv0o4ycl0;mme2Lrd0v3;in0lli0ti2A;a4ot0;li28;aCer30iBlAo9r5u4;mp0zzl0;e6i2Oo4;ce2Fd4lo1Anou30pos0te2v0;uc0;fe1CocCp0Iss0;i2Kli1L;ann0e2CuS;ck0erc0ss0;ck0i2Hr4st0;allLk0;bse7c6pp13rgan2Dver4;lo4whelm0;ok0;cupi0;rv0;aJe5o4;t0uri1A;ed0gle2;a6e5ix0o4ut0ys1N;di1Nt15u26;as0Clt0;n4rk0;ag0ufact0A;e6i5o4;ad0ck0st,v0;cens0m04st0;ft,v4;el0;tt0wn;a5o15u4;dg0s1B;gg0;llumSmpAn4sol1;br0cre1Ldebt0f8jZspir0t5v4;it0olv0;e4ox0Y;gr1n4re23;d0si15;e2l1o1Wuri1;li0o01r4;ov0;a6e1o4um03;ok0r4;ri0Z;mm3rm0;i6r5u4;a1Bid0;a0Ui0Rown;ft0;aAe9i8l6oc0Ir4;a4i0oz0Y;ctHg19m0;avo0Ju4;st3;ni08tt0x0;ar0;d0il0sc4;in1;dCl1mBn9quipp0s8x4;agger1c6p4te0T;a0Se4os0;ct0rie1D;it0;cap0tabliZ;cha0XgFha1As4;ur0;a0Zbarra0N;i0Buc1;aMeDi5r4;a01i0;gni08miniSre2s4;a9c6grun0Ft4;o4re0Hu17;rt0;iplWou4;nt0r4;ag0;bl0;cBdRf9l8p7ra6t5v4;elop0ot0;ail0ermQ;ng0;re07;ay0ight0;e4in0o0M;rr0;ay0enTor1;m5t0z4;ed,zl0;ag0p4;en0;aPeLhIlHo9r6u4;lt4r0stom03;iv1;a5owd0u4;sh0;ck0mp0;d0loAm7n4ok0v3;centr1f5s4troC;id3olid1;us0;b5pl4;ic1;in0;r0ur0;assi9os0utt3;ar5i4;ll0;g0m0;lebr1n6r4;ti4;fi0;tralJ;g0lcul1;aDewild3iCl9o7r5urn4;ed,t;ok4uis0;en;il0r0t4und;tl0;e5i4;nd0;ss0;as0;ffl0k0laMs0tt3;bPcNdKfIg0lFmaz0nDppBrm0ss9u5wa4;rd0;g5thor4;iz0;me4;nt0;o6u4;m0r0;li0re4;ci1;im1ticip1;at0;a5leg0t3;er0;rm0;fe2;ct0;ju5o7va4;nc0;st0;ce4knowledg0;pt0;and5so4;rb0;on0;ed",Singular:"true\xa60:5I;1:5G;2:4V;3:4R;4:51;5:56;6:5K;a4Zb4Ic3Ld33e2Vf2Mg2Hh26in22j21k20l1Sm1Jn1Fo19p0Pqu0Or0DsXtKuFvAw7x r55yo yo;a7ha3No3O;f3i4Ot0Ey7;! arou37;arAe8ideo ga2Oo7;cabu4Gl59;gMr7t;di4Wt1W;iety,ni4M;n9p2Yr8s 7;do41s5B;bani1in0;coordinat38der7;estima1to22we3Z; rex,aIeHhFiDoCr9u8v7;! show;m2Mn2rntJto1B;agedy,ib7o4B;e,u7;n0ta43;ni1p2rq3J;c,er,m7;etD;ing7ree24;!y;am,mp3D;ct2le6x return;aLcKeIhor4NiHkFoEpin off,tBu9y7;ll7ner4Jst4Q;ab2V;b7i1n26per bowl,rro1V;st3Jtot0;at8ipe2Eo1Jrate4Fudent7;! lo0G;i37u1;ft ser4Imeo1G;elet5i7;ll,r3S;b36gn2Rte;ab2Hc7min39;t,urity gua2L;e6ho2W;bbatic0la3Gndwi0Opi5;av5eBhetor2i8o7;de6om,w;t8v7;erb2A;e,u0;bBc9f7publ2r0Yspi1;er7orm3;e6r0;i7ord label;p2Ft0;a1u43;estion mark,ot2D;aNeKhoJiGlEoCr8u7yram1D;ddi3EpCrpo1Hs3G;e9o7;bl3Ws7;pe3Gta1;dic1Pmi1Dp1Oroga3Sss relea1D;p7rt0;py;a7ebisci1;q2Bte;cn2e8g7;!gy;!r;ne call,tocoI;anut,d8r7t0yo1;cen3Gsp3H;al,est0;nop4r8t7;e,hog5;adi0Zi2S;atme0bj3Cc9pia1rde0thers,utspok5ve7wn3;n,r7;ti0Nview;cu8e7;an;pi3;ar9it8ot7umb3;a2Chi2O;e,ra1;cot2ra34;aDeAi8o7ur0;nopo4p16rni2Ksq1Pti33uld;c,li0Zn08s7tt5;chief,si31;d8nu,t7;al,i3;al,ic;gna1mm0nd13rsupi0te7yf4;ri0;aBegAi9u7;ddi1n7;ch;me,p07; 9e0K;bor12y7; 7er;up;eyno1itt5;el4ourn0;c9dices,itia2Kni22s8tel0Jvert7;eb1H;e25titu1;en2Hi2Q;aGeCighBo8u7;man right,s1Z;me7rmoDsp1Dtb0I;! r7;un; scho0WriW;a7i1K;d7v5; start,pho7;ne;ndful,sh brown,v5ze;a9elat0Glaci3r7ul4yp1P;an7enadi3id;a19d slam,ny;df4r7;l2ni1F;aEeti1EiDlu1oAr8un7;er0;ee market,i7onti3;ga1;l4ur7;so7;me;eNref4;br2mi4;conoDffi1Mgg,lecto0Pmbas1BnApidem2s1Wth2ven9x8yel7;id;ampXempl0Lte6;i16t;er1Iterp7;ri7;se;my;eJiCo9r7ump tru0R;agonf4i7;er,ve thru;c8g1Bi4or,ssi3wn7;side;to0CumenC;aCgniBnn3s8vide7;nd;conte6incen1Bp7tri0Y;osi7;tion;ta0E;le0U;ath9c8f7ni0terre6;ault 03err0;al,im0;!b7;ed;aUeRhKiJlHoBr7;edit ca9uc7;ib7;le;rd;efficBke,lAmmuniqJns8pi3rr0t0Uus7yo1;in;erv7uG;atoZ;ic,lO;ie6;er0Li7oth;e6n2;ty,vil wK;aBeqAick5oco9r7;istmas car7ysanthemum;ol;la1;ue;ndeli3racteri7;st2;i8llCr7;e0tifica1;liW;hi3nDpCrAt7ucus;erpi7hedr0;ll7;ar;!bohyd7ri3;ra1;it0;a7e,nib0;l,ry;aKeJiop2leHoFrBu7;nny,r7tterf4;g7i0;la7;ry;eak8i7;ck;fa7thro9;st;dy,ro7wl;ugh;mi7;sh;an,l4;nki8rri3;er;ng;cQdKlGnDppeti1rBs9tt2utop7;sy;ic;ce6pe7;ct;r7sen0;ay;ec8oma4ti8;ly;do1;i5l7;er7y;gy;en; hominBj8van7;tage;ec7;ti7;ve;em;cAe8qui7;tt0;ta1;te;i8ru0;al;de6;nt","Person|Noun":"true\xa6a0Eb07c03dWeUfQgOhLjHkiGlFmCnBolive,p7r4s3trini06v1wa0;ng,rd,tts;an,enus,iol0;a,et;ky,onPumm09;ay,e1o0uby;bin,d,se;ed,x;a2e1o0;l,tt04;aLnJ;dYge,tR;at,orm;a0eloW;t0x,ya;!s;a9eo,iH;ng,tP;a2e1o0;lGy;an,w3;de,smi4y;a0erb,iOolBuntR;ll,z0;el;ail,e0iLuy;ne;a1ern,i0lo;elds,nn;ith,n0;ny;a0dEmir,ula,ve;rl;a4e3i1j,ol0;ly;ck,x0;ie;an,ja;i0wn;sy;am,h0liff,rystal;a0in,ristian;mbers,ri0;ty;a4e3i2o,r0ud;an0ook;dy;ll;nedict,rg;k0nks;er;l0rt;fredo,ma","Actor|Verb":"true\xa6aCb8c5doctor,engineAfool,g3host,judge,m2nerd,p1recruit,scout,ushAvolunteAwi0;mp,tneA;arent,ilot;an,ime;eek,oof,r0uide;adu8oom;ha1o0;ach,nscript,ok;mpion,uffeur;o2u0;lly,tch0;er;ss;ddi1ffili0rchite1;ate;ct",MaleName:"true\xa60:H6;1:FZ;2:DS;3:GQ;4:CZ;5:FV;6:GM;7:FP;8:GW;9:ET;A:C2;B:GD;aF8bE1cCQdBMeASfA1g8Yh88i7Uj6Sk6Bl5Mm48n3So3Ip33qu31r26s1Et0Ru0Ov0CwTxSyHzC;aCor0;cChC1karia,nAT;!hDkC;!aF6;!ar7CeF5;aJevgenBSoEuC;en,rFVsCu3FvEF;if,uf;nDs6OusC;ouf,s6N;aCg;s,tC;an,h0;hli,nCrosE1ss09;is,nC;!iBU;avi2ho5;aPeNiDoCyaEL;jcieBJlfgang,odrFutR;lFnC;f8TsC;lCt1;ow;bGey,frEhe4QlC;aE5iCy;am,e,s;ed8iC;d,ed;eAur;i,ndeD2rn2sC;!l9t1;lDyC;l1ne;lDtC;!er;aCHy;aKernDAiFladDoC;jteB0lodymyr;!iC;mFQsDB;cFha0ktBZnceDrgCOvC;a0ek;!nC;t,zo;!e4StBV;lCnC7sily;!entC;in9J;ghE2lCm70nax,ri,sm0;riCyss87;ch,k;aWeRhNiLoGrEuDyC;!l2roEDs1;n6r6E;avD0eCist0oy,um0;ntCRvBKy;bFdAWmCny;!asDmCoharu;aFFie,y;!z;iA6y;mCt4;!my,othy;adEeoDia0SomC;!as;!dor91;!de4;dFrC;enBKrC;anBJeCy;ll,nBI;!dy;dgh,ha,iCnn2req,tsu5V;cDAka;aYcotWeThPiMlobod0oKpenc2tEurDvenAEyCzym1;ed,lvest2;aj,e9V;anFeDuC;!aA;fan17phEQvCwaA;e77ie;!islaCl9;v,w;lom1rBuC;leymaDHta;dDgmu9UlCm1yabonga;as,v8B;!dhart8Yn9;aEeClo75;lCrm0;d1t1;h9Jne,qu1Jun,wn,yne;aDbastiEDk2Yl5Mpp,rgCth,ymoCU;e1Dio;m4n;!tC;!ie,y;eDPlFmEnCq67tosCMul;dCj2UtiA5;e01ro;!iATkeB6mC4u5;!ik,vato9K;aZeUheC8iRoGuDyC;an,ou;b99dDf4peAssC;!elEG;ol00y;an,bLc7MdJel,geIh0lHmGnEry,sDyC;!ce;ar7Ocoe,s;!aCnBU;ld,n;an,eo;a7Ef;l7Jr;e3Eg2n9olfo,riC;go;bBNeDH;cCl9;ar87c86h54kCo;!ey,ie,y;cFeA3gDid,ubByCza;an8Ln06;g85iC;naC6s;ep;ch8Kfa5hHin2je8HlGmFndEoHpha5sDul,wi36yC;an,mo8O;h9Im4;alDSol3O;iD0on;f,ph;ul;e9CinC;cy,t1;aOeLhilJiFrCyoG;aDeC;m,st1;ka85v2O;eDoC;tr;r8GtC;er,ro;!ipCl6H;!p6U;dCLrcy,tC;ar,e9JrC;!o7;b9Udra8So9UscAHtri62ulCv8I;!ie,o7;ctav6Ji2lImHndrBRrGsDtCum6wB;is,to;aDc6k6m0vCwaBE;al79;ma;i,vR;ar,er;aDeksandr,ivC;er,i2;f,v;aNeLguyBiFoCu3O;aDel,j4l0ma0rC;beAm0;h,m;cFels,g5i9EkDlC;es,s;!au,h96l78olaC;!i,y;hCkCol76;ol75;al,d,il,ls1vC;ilAF;hom,tC;e,hC;anCy;!a5i5;aYeViLoGuDyC;l4Nr1;hamDr84staC;fa,p6E;ed,mG;di10e,hamEis4JntDritz,sCussa;es,he;e,y;ad,ed,mC;ad,ed;cGgu5hai,kFlEnDtchC;!e8O;a9Pik;house,o7t1;ae73eC3ha8Iolaj;ah,hDkC;!ey,y;aDeC;al,l;el,l;hDlv3rC;le,ri8Ev4T;di,met;ay0c00gn4hWjd,ks2NlTmadZnSrKsXtDuric7VxC;imilBKwe8B;eHhEi69tCus,y69;!eo,hCia7;ew,i67;eDiC;as,eu,s;us,w;j,o;cHiGkFlEqu8Qsha83tCv3;iCy;!m,n;in,on;el,o7us;a6Yo7us;!elCin,o7us;!l8o;frAEi5Zny,u5;achDcoCik;lm;ai,y;amDdi,e5VmC;oud;adCm6W;ou;aulCi9P;ay;aWeOiMloyd,oJuDyC;le,nd1;cFdEiDkCth2uk;a7e;gi,s,z;ov7Cv6Hw6H;!as,iC;a6Een;g0nn52renDuCvA4we7D;!iS;!zo;am,n4oC;n5r;a9Yevi,la5KnHoFst2thaEvC;eCi;nte;bo;nCpo8V;!a82el,id;!nC;aAy;mEnd1rDsz73urenCwr6K;ce,t;ry,s;ar,beAont;aOeIhalHiFla4onr63rDu5SylC;e,s;istCzysztof;i0oph2;er0ngsl9p,rC;ilA9k,ollos;ed,id;en0iGnDrmCv4Z;it;!dDnCt1;e2Ny;ri4Z;r,th;cp2j4mEna8BrDsp6them,uC;ri;im,l;al,il;a03eXiVoFuC;an,lCst3;en,iC;an,en,o,us;aQeOhKkub4AnIrGsDzC;ef;eDhCi9Wue;!ua;!f,ph;dCge;i,on;!aCny;h,s,th6J;anDnC;!ath6Hie,n72;!nC;!es;!l,sCy;ph;o,qu3;an,mC;!i,m6V;d,ffFns,rCs4;a7JemDmai7QoCry;me,ni1H;i9Dy;!e73rC;ey,y;cKdBkImHrEsDvi2yC;dBs1;on,p2;ed,oDrCv67;e6Qod;d,s61;al,es5Wis1;a,e,oCub;b,v;ob,qu13;aTbNchiMgLke53lija,nuKonut,rIsEtCv0;ai,suC;ki;aDha0i8XmaCsac;el,il;ac,iaC;h,s;a,vinCw3;!g;k,nngu6X;nac1Xor;ka;ai,rahC;im;aReLoIuCyd6;beAgGmFsC;eyDsC;a3e3;in,n;ber5W;h,o;m2raDsse3wC;a5Pie;c49t1K;a0Qct3XiGnDrC;beAman08;dr7VrC;iCy2N;!k,q1R;n0Tt3S;bKlJmza,nIo,rEsDyC;a5KdB;an,s0;lEo67r2IuCv9;hi5Hki,tC;a,o;an,ey;k,s;!im;ib;a08e00iUlenToQrMuCyorgy;iHnFsC;!taC;f,vC;!e,o;n6tC;er,h2;do,lC;herDlC;auCerQ;me;aEegCov2;!g,orC;!io,y;dy,h7C;dfr9nza3XrDttfC;ri6C;an,d47;!n;acoGlEno,oCuseppe;rgiCvan6O;!o,s;be6Ies,lC;es;mo;oFrC;aDha4HrC;it,y;ld,rd8;ffErgC;!e7iCy;!os;!r9;bElBrCv3;eCla1Nr4Hth,y;th;e,rC;e3YielC;!i4;aXeSiQlOorrest,rCyod2E;aHedFiC;edDtC;s,z;ri18;!d42eri11riC;ck,k;nCs2;cEkC;ie,lC;in,yn;esLisC;!co,z3M;etch2oC;ri0yd;d5lConn;ip;deriFliEng,rC;dinaCg4nan0B;nd8;pe,x;co;bCdi,hd;iEriC;ce,zC;io;an,en,o;benez2dZfrYit0lTmMnJo3rFsteb0th0ugenEvCymBzra;an,eCge4D;ns,re3K;!e;gi,iDnCrol,v3w3;est8ie,st;cCk;!h,k;o0DriCzo;co,qC;ue;aHerGiDmC;aGe3A;lCrh0;!iC;a10o,s;s1y;nu5;beAd1iEliDm2t1viCwood;n,s;ot28s;!as,j5Hot,sC;ha;a3en;!dGg6mFoDua2QwC;a2Pin;arC;do;oZuZ;ie;a04eTiOmitrNoFrag0uEwDylC;an,l0;ay3Hig4D;a3Gdl9nc0st3;minFnDri0ugCvydGy2S;!lF;!a36nCov0;e1Eie,y;go,iDykC;as;cCk;!k;i,y;armuFetDll1mitri7neCon,rk;sh;er,m6riC;ch;id;andLepak,j0lbeAmetri4nIon,rGsEvDwCxt2;ay30ey;en,in;hawn,moC;nd;ek,riC;ck;is,nC;is,y;rt;re;an,le,mKnIrEvC;e,iC;!d;en,iEne0PrCyl;eCin,yl;l45n;n,o,us;!iCny;el,lo;iCon;an,en,on;a0Fe0Ch03iar0lRoJrFuDyrC;il,us;rtC;!is;aEistC;iaCob12;no;ig;dy,lInErC;ey,neliCy;s,us;nEor,rDstaC;nt3;ad;or;by,e,in,l3t1;aHeEiCyde;fCnt,ve;fo0Xt1;menDt4;us;s,t;rFuDyC;!t1;dCs;e,io;enC;ce;aHeGrisC;!toC;phCs;!eC;!r;st2t;d,rCs;b5leC;s,y;cDdrCs6;ic;il;lHmFrC;ey,lDroCy;ll;!o7t1;er1iC;lo;!eb,v3;a09eZiVjorn,laUoSrEuCyr1;ddy,rtKst2;er;aKeFiEuDyC;an,ce,on;ce,no;an,ce;nDtC;!t;dDtC;!on;an,on;dFnC;dDisC;lav;en,on;!foOl9y;bby,gd0rCyd;is;i0Lke;bElDshC;al;al,lL;ek;nIrCshoi;at,nEtC;!raC;m,nd;aDhaCie;rd;rd8;!iDjam3nCs1;ie,y;to;kaMlazs,nHrC;n9rDtC;!holomew;eCy;tt;ey;dCeD;ar,iC;le;ar1Nb1Dd16fon15gust3hm12i0Zja0Yl0Bm07nTputsiSrGsaFugustEveDyCziz;a0kh0;ry;o,us;hi;aMchiKiJjun,mHnEon,tCy0;em,hCie,ur8;ur;aDoC;!ld;ud,v;aCin;an,nd8;!el,ki;baCe;ld;ta;aq;aMdHgel8tCw6;hoFoC;iDnC;!i8y;ne;ny;er7rCy;eDzC;ej;!as,i,j,s,w;!s;s,tolC;iCy;!y;ar,iEmaCos;nu5r;el;ne,r,t;aVbSdBeJfHiGl01onFphonsEt1vC;aPin;on;e,o;so,zo;!sR;!onZrC;ed;c,jaHksFssaHxC;!andC;er,rC;e,os,u;andCei;ar,er,r;ndC;ro;en;eDrecC;ht;rt8;dd3in,n,sC;taC;ir;ni;dDm6;ar;an,en;ad,eC;d,t;in;so;aGi,olErDvC;ik;ian8;f8ph;!o;mCn;!a;dGeFraDuC;!bakr,lfazl;hCm;am;!l;allFel,oulaye,ulC;!lDrahm0;an;ah,o;ah;av,on",Uncountable:"true\xa60:2E;1:2L;2:33;a2Ub2Lc29d22e1Rf1Ng1Eh16i11j0Yk0Wl0Rm0Hn0Do0Cp03rZsLt9uran2Jv7w3you gu0E;a5his17i4oo3;d,l;ldlife,ne;rm8t1;apor,ernacul29i3;neg28ol1Otae;eDhBiAo8r4un3yranny;a,gst1B;aff2Oea1Ko4ue nor3;th;o08u3;bleshoot2Ose1Tt;night,othpas1Vwn3;foEsfoE;me off,n;er3und1;e,mod2S;a,nnis;aDcCeBhAi9ki8o7p6t4u3weepstak0;g1Unshi2Hshi;ati08e3;am,el;ace2Keci0;ap,cc1meth2C;n,ttl0;lk;eep,ingl0or1C;lf,na1Gri0;ene1Kisso1C;d0Wfe2l4nd,t3;i0Iurn;m1Ut;abi0e4ic3;e,ke15;c3i01laxa11search;ogni10rea10;a9e8hys7luto,o5re3ut2;amble,mis0s3ten20;en1Zs0L;l3rk;i28l0EyH; 16i28;a24tr0F;nt3ti0M;i0s;bstetri24vercrowd1Qxyg09;a5e4owada3utella;ys;ptu1Ows;il poliZtional securi2;aAe8o5u3;m3s1H;ps;n3o1K;ey,o3;gamy;a3cha0Elancholy,rchandi1Htallurgy;sl0t;chine3g1Aj1Hrs,thema1Q; learn1Cry;aught1e6i5ogi4u3;ck,g12;c,s1M;ce,ghtn18nguis1LteratWv1;ath1isVss;ara0EindergartPn3;icke0Aowled0Y;e3upit1;a3llyfiGwel0G;ns;ce,gnor6mp5n3;forma00ter3;net,sta07;atiSort3rov;an18;a7e6isto09o3ung1;ckey,mework,ne4o3rseradi8spitali2use arrest;ky;s2y;adquarteXre;ir,libut,ppiHs3;hi3te;sh;ene8l6o5r3um,ymnas11;a3eZ;niUss;lf,re;ut3yce0F;en; 3ti0W;edit0Hpo3;ol;aNicFlour,o4urnit3;ure;od,rgive3uri1wl;ness;arCcono0LducaBlectr9n7quip8thi0Pvery6x3;ist4per3;ti0B;en0J;body,o08th07;joy3tertain3;ment;ici2o3;ni0H;tiS;nings,th;emi02i6o4raugh3ynas2;ts;pe,wnstai3;rs;abet0ce,s3;honZrepu3;te;aDelciChAivi07l8o3urrency;al,ld w6mmenta5n3ral,ttIuscoB;fusiHt 3;ed;ry;ar;assi01oth0;es;aos,e3;eMwK;us;d,rO;a8i6lood,owlHread5u3;ntGtt1;er;!th;lliarJs3;on;g3ss;ga3;ge;cKdviJeroGirFmBn6ppeal court,r4spi3thleL;rin;ithmet3sen3;ic;i6y3;o4th3;ing;ne;se;en5n3;es2;ty;ds;craft;bi8d3nau7;yna3;mi6;ce;id,ous3;ti3;cs",Infinitive:"true\xa60:9G;1:9T;2:AD;3:90;4:9Z;5:84;6:AH;7:A9;8:92;9:A0;A:AG;B:AI;C:9V;D:8R;E:8O;F:97;G:6H;H:7D;a94b8Hc7Jd68e4Zf4Mg4Gh4Ai3Qj3Nk3Kl3Bm34nou48o2Vp2Equ2Dr1Es0CtZuTvRwI;aOeNiLors5rI;eJiI;ng,te;ak,st3;d5e8TthI;draw,er;a2d,ep;i2ke,nIrn;d1t;aIie;liADniAry;nJpI;ho8Llift;cov1dJear8Hfound8DlIplug,rav82tie,ve94;eaAo3X;erIo;cut,go,staAFvalA3w2G;aSeQhNoMrIu73;aIe72;ffi3Smp3nsI;aBfo7CpI;i8oD;pp3ugh5;aJiJrIwaD;eat5i2;nk;aImA0;ch,se;ck3ilor,keImp1r8L;! paD;a0Ic0He0Fh0Bi0Al08mugg3n07o05p02qu01tUuLwI;aJeeIim;p,t5;ll7Wy;bNccMffLggeCmmKppJrI;mouFpa6Zvi2;o0re6Y;ari0on;er,i4;e7Numb;li9KmJsiIveD;de,st;er9it;aMe8MiKrI;ang3eIi2;ng27w;fIng;f5le;b,gg1rI;t3ve;a4AiA;a4UeJit,l7DoI;il,of;ak,nd;lIot7Kw;icEve;atGeak,i0O;aIi6;m,y;ft,ng,t;aKi6CoJriIun;nk,v6Q;ot,rt5;ke,rp5tt1;eIll,nd,que8Gv1w;!k,m;aven9ul8W;dd5tis1Iy;a0FeKiJoI;am,t,ut;d,p5;a0Ab08c06d05f01group,hea00iZjoi4lXmWnVpTq3MsOtMup,vI;amp,eJiIo3B;sEve;l,rI;e,t;i8rI;ie2ofE;eLiKpo8PtIurfa4;o24rI;aHiBuctu8;de,gn,st;mb3nt;el,hra0lIreseF;a4e71;d1ew,o07;aHe3Fo2;a7eFiIo6Jy;e2nq41ve;mbur0nf38;r0t;inKleBocus,rJuI;el,rbiA;aBeA;an4e;aBu4;ei2k8Bla43oIyc3;gni39nci3up,v1;oot,uI;ff;ct,d,liIp;se,ze;tt3viA;aAenGit,o7;aWerUinpoiFlumm1LoTrLuI;b47ke,niArIt;poDsuI;aFe;eMoI;cKd,fe4XhibEmo7noJpo0sp1tru6vI;e,i6o5L;un4;la3Nu8;aGclu6dJf1occupy,sup0JvI;a6BeF;etermi4TiB;aGllu7rtr5Ksse4Q;cei2fo4NiAmea7plex,sIva6;eve8iCua6;mp1rItrol,ve;a6It6E;bOccuNmEpMutLverIwe;l07sJtu6Yu0wI;helm;ee,h1F;gr5Cnu2Cpa4;era7i4Ipo0;py,r;ey,seItaH;r2ss;aMe0ViJoIultiply;leCu6Pw;micJnIspla4;ce,g3us;!k;iIke,na9;m,ntaH;aPeLiIo0u3N;ke,ng1quIv5;eIi6S;fy;aKnIss5;d,gI;th5;rn,ve;ng2Gu1N;eep,idnJnI;e4Cow;ap;oHuI;gg3xtaI;po0;gno8mVnIrk;cTdRfQgeChPitia7ju8q1CsNtKun6EvI;a6eIo11;nt,rt,st;erJimi6BoxiPrI;odu4u6;aBn,pr03ru6C;iCpi8tIu8;all,il,ruB;abEibE;eCo3Eu0;iIul9;ca7;i7lu6;b5Xmer0pI;aLer4Uin9ly,oJrI;e3Ais6Bo2;rt,se,veI;riA;le,rt;aLeKiIoiCuD;de,jaInd1;ck;ar,iT;mp1ng,pp5raIve;ng5Mss;ath1et,iMle27oLrI;aJeIow;et;b,pp3ze;!ve5A;gg3ve;aTer45i5RlSorMrJuI;lf4Cndrai0r48;eJiIolic;ght5;e0Qsh5;b3XeLfeEgJsI;a3Dee;eIi2;!t;clo0go,shIwa4Z;ad3F;att1ee,i36;lt1st5;a0OdEl0Mm0FnXquip,rWsVtGvTxI;aRcPeDhOiNpJtIu6;ing0Yol;eKi8lIo0un9;aHoI;it,re;ct,di7l;st,t;a3oDu3B;e30lI;a10u6;lt,mi28;alua7oI;ke,l2;chew,pou0tab19;a0u4U;aYcVdTfSgQhan4joy,lPqOrNsuMtKvI;e0YisI;a9i50;er,i4rI;aHenGuC;e,re;iGol0F;ui8;ar9iC;a9eIra2ulf;nd1;or4;ang1oIu8;r0w;irc3lo0ou0ErJuI;mb1;oaGy4D;b3ct;bKer9pI;hasiIow1;ze;aKody,rI;a4oiI;d1l;lm,rk;ap0eBuI;ci40de;rIt;ma0Rn;a0Re04iKo,rIwind3;aw,ed9oI;wn;agno0e,ff1g,mi2Kne,sLvI;eIul9;rIst;ge,t;aWbVcQlod9mant3pNru3TsMtI;iIoDu37;lJngI;uiA;!l;ol2ua6;eJlIo0ro2;a4ea0;n0r0;a2Xe36lKoIu0S;uIv1;ra9;aIo0;im;a3Kur0;b3rm;af5b01cVduBep5fUliTmQnOpMrLsiCtaGvI;eIol2;lop;ch;a20i2;aDiBloIoD;re,y;oIy;te,un4;eJoI;liA;an;mEv1;a4i0Ao06raud,y;ei2iMla8oKrI;ee,yI;!pt;de,mIup3;missi34po0;de,ma7ph1;aJrief,uI;g,nk;rk;mp5rk5uF;a0Dea0h0Ai09l08oKrIurta1G;a2ea7ipp3uI;mb3;ales4e04habEinci6ll03m00nIrro6;cXdUfQju8no7qu1sLtKvI;eIin4;ne,r9y;aHin2Bribu7;er2iLoli2Epi8tJuI;lt,me;itu7raH;in;d1st;eKiJoIroFu0;rm;de,gu8rm;ss;eJoI;ne;mn,n0;eIlu6ur;al,i2;buCe,men4pI;eIi3ly;l,te;eBi6u6;r4xiC;ean0iT;rcumveFte;eJirp,oI;o0p;riAw;ncIre5t1ulk;el;a02eSi6lQoPrKuI;iXrIy;st,y;aLeaKiJoad5;en;ng;stfeLtX;ke;il,l11mba0WrrMth1;eIow;ed;!coQfrie1LgPhMliLqueaKstJtrIwild1;ay;ow;th;e2tt3;a2eJoI;ld;ad;!in,ui3;me;bysEckfi8ff3tI;he;b15c0Rd0Iff0Ggree,l0Cm09n03ppZrXsQttOuMvJwaE;it;eDoI;id;rt;gIto0X;meF;aIeCraB;ch,in;pi8sJtoI;niA;aKeIi04u8;mb3rt,ss;le;il;re;g0Hi0ou0rI;an9i2;eaKly,oiFrI;ai0o2;nt;r,se;aMi0GnJtI;icipa7;eJoIul;un4y;al;ly0;aJu0;se;lga08ze;iKlI;e9oIu6;t,w;gn;ix,oI;rd;a03jNmiKoJsoI;rb;pt,rn;niIt;st1;er;ouJuC;st;rn;cLhie2knowled9quiItiva7;es4re;ce;ge;eQliOoKrJusI;e,tom;ue;mIst;moJpI;any,liA;da7;ma7;te;pt;andPduBet,i6oKsI;coKol2;ve;liArt,uI;nd;sh;de;ct;on",Person:"true\xa60:1Q;a29b1Zc1Md1Ee18f15g13h0Ri0Qj0Nk0Jl0Gm09n06o05p00rPsItCusain bolt,v9w4xzibit,y1;anni,oko on2uji,v1;an,es;en,o;a3ednesday adams,i2o1;lfram,o0Q;ll ferrell,z khalifa;lt disn1Qr1;hol,r0G;a2i1oltai06;n dies0Zrginia wo17;lentino rossi,n goG;a4h3i2ripp,u1yra banks;lZpac shakur;ger woods,mba07;eresa may,or;kashi,t1ylor;um,ya1B;a5carlett johanss0h4i3lobodan milosevic,no2ocr1Lpider1uperm0Fwami; m0Em0E;op dogg,w whi1H;egfried,nbad;akespeaTerlock holm1Sia labeouf;ddam hussa16nt1;a cla11ig9;aAe6i5o3u1za;mi,n dmc,paul,sh limbau1;gh;bin hood,d stew16nald1thko;in0Mo;han0Yngo starr,valdo;ese witherspo0i1mbrandt;ll2nh1;old;ey,y;chmaninoff,ffi,iJshid,y roma1H;a4e3i2la16o1uff daddy;cahont0Ie;lar,p19;le,rZ;lm17ris hilt0;leg,prah winfr0Sra;a2e1iles cra1Bostradam0J; yo,l5tt06wmQ;pole0s;a5e4i2o1ubar03;by,lie5net,rriss0N;randa ju1tt romn0M;ly;rl0GssiaB;cklemo1rkov,s0ta hari,ya angelou;re;ady gaga,e1ibera0Pu;bron jam0Xch wale1e;sa;anye west,e3i1obe bryant;d cudi,efer suther1;la0P;ats,sha;a2effers0fk,k rowling,rr tolki1;en;ck the ripp0Mwaharlal nehru,y z;liTnez,ron m7;a7e5i3u1;lk hog5mphrey1sa01;! bog05;l1tl0H;de; m1dwig,nry 4;an;ile selassFlle ber4m3rrison1;! 1;ford;id,mo09;ry;ast0iannis,o1;odwPtye;ergus0lorence nightinga08r1;an1ederic chopN;s,z;ff5m2nya,ustaXzeki1;el;eril lagasse,i1;le zatop1nem;ek;ie;a6e4i2octor w1rake;ho;ck w1ego maradoC;olf;g1mi lovaOnzel washingt0;as;l1nHrth vadR;ai lNt0;a8h5lint0o1thulhu;n1olio;an,fuci1;us;on;aucKop2ristian baMy1;na;in;millo,ptain beefhe4r1;dinal wols2son1;! palmF;ey;art;a8e5hatt,i3oHro1;ck,n1;te;ll g1ng crosby;atB;ck,nazir bhut2rtil,yon1;ce;to;nksy,rack ob1;ama;l 6r3shton kutch2vril lavig8yn ra1;nd;er;chimed2istot1;le;es;capo2paci1;no;ne",Adjective:"true\xa60:AI;1:BS;2:BI;3:BA;4:A8;5:84;6:AV;7:AN;8:AF;9:7H;A:BQ;B:AY;C:BC;D:BH;E:9Y;aA2b9Ec8Fd7We79f6Ng6Eh61i4Xj4Wk4Tl4Im41n3Po36p2Oquart7Pr2Ds1Dt14uSvOwFye29;aMeKhIiHoF;man5oFrth7G;dADzy;despreB1n w97s86;acked1UoleF;!sa6;ather1PeFll o70ste1D;!k5;nt1Ist6Ate4;aHeGiFola5T;bBUce versa,gi3Lle;ng67rsa5R;ca1gBSluAV;lt0PnLpHrGsFttermoBL;ef9Ku3;b96ge1; Hb32pGsFtiAH;ca6ide d4R;er,i85;f52to da2;a0Fbeco0Hc0Bd04e02f01gu1XheaBGiXkn4OmUnTopp06pRrNsJtHus0wF;aFiel3K;nt0rra0P;app0eXoF;ld,uS;eHi37o5ApGuF;perv06spec39;e1ok9O;en,ttl0;eFu5;cogn06gul2RlGqu84sF;erv0olv0;at0en33;aFrecede0E;id,rallel0;am0otic0;aFet;rri0tF;ch0;nFq26vers3;sur0terFv7U;eFrupt0;st0;air,inish0orese98;mploy0n7Ov97xpF;ect0lain0;eHisFocume01ue;clFput0;os0;cid0rF;!a8Scov9ha8Jlyi8nea8Gprivileg0sMwF;aFei9I;t9y;hGircumcFonvin2U;is0;aFeck0;lleng0rt0;b20ppea85ssuGttend0uthorF;iz0;mi8;i4Ara;aLeIhoHip 25oGrF;anspare1encha1i2;geth9leADp notch,rpB;rny,ugh6H;ena8DmpGrFs6U;r49tia4;eCo8P;leFst4M;nt0;a0Dc09e07h06i04ki03l01mug,nobbi4XoVpRqueami4XtKuFymb94;bHccinAi generis,pFr5;erFre7N;! dup9b,vi70;du0li7Lp6IsFurb7J;eq9Atanda9X;aKeJi16o2QrGubboFy4Q;rn;aightFin5GungS; fFfF;or7V;adfa9Pri6;lwa6Ftu82;arHeGir6NlendBot Fry;on;c3Qe1S;k5se; call0lImb9phistic16rHuFviV;ndFth1B;proof;dBry;dFub6; o2A;e60ipF;pe4shod;ll0n d7R;g2HnF;ceEg6ist9;am3Se9;co1Zem5lfFn6Are7; suf4Xi43;aGholFient3A;ar5;rlFt4A;et;cr0me,tisfac7F;aOeIheumatoBiGoF;bu8Ztt7Gy3;ghtFv3; 1Sf6X;cJdu8PlInown0pro69sGtF;ard0;is47oF;lu2na1;e1Suc45;alcit8Xe1ondi2;bBci3mpa1;aSePicayu7laOoNrGuF;bl7Tnjabi;eKiIoF;b7VfGmi49pFxi2M;er,ort81;a7uD;maFor,sti7va2;!ry;ciDexis0Ima2CpaB;in55puli8G;cBid;ac2Ynt 3IrFti2;ma40tFv7W;!i3Z;i2YrFss7R;anoBtF; 5XiF;al,s5V;bSffQkPld OnMrLth9utKverF;!aIbMdHhGni75seas,t,wF;ei74rou74;a63e7A;ue;ll;do1Ger,si6A;d3Qg2Aotu5Z; bFbFe on o7g3Uli7;oa80;fashion0school;!ay; gua7XbFha5Uli7;eat;eHligGsF;ce7er0So1C;at0;diFse;a1e1;aOeNiMoGuF;anc0de; moEnHrthFt6V;!eFwe7L;a7Krn;chaGdescri7Iprof30sF;top;la1;ght5;arby,cessa4ighbor5wlyw0xt;k0usiaFv3;ti8;aQeNiLoHuF;dIltiF;facet0p6;deHlGnFot,rbBst;ochro4Xth5;dy;rn,st;ddle ag0nF;dbloZi,or;ag9diocEga,naGrFtropolit4Q;e,ry;ci8;cIgenta,inHj0Fkeshift,mmGnFri4Oscu61ver18;da5Dy;ali4Lo4U;!stream;abEho;aOeLiIoFumberi8;ngFuti1R;stan3RtF;erm,i4H;ghtGteraF;l,ry,te;heart0wei5O;ft JgFss9th3;al,eFi0M;nda4;nguBps0te5;apGind5noF;wi8;ut;ad0itte4uniW;ce co0Hgno6Mll0Cm04nHpso 2UrF;a2releF;va1; ZaYcoWdReQfOgrNhibi4Ri05nMoLsHtFvalu5M;aAeF;nDrdepe2K;a7iGolFuboI;ub6ve1;de,gF;nifica1;rdi5N;a2er;own;eriIiLluenVrF;ar0eq5H;pt,rt;eHiGoFul1O;or;e,reA;fiFpe26termi5E;ni2;mpFnsideCrreA;le2;ccuCdeq5Ene,ppr4J;fFsitu,vitro;ro1;mJpF;arHeGl15oFrop9;li2r11;n2LrfeA;ti3;aGeFi18;d4BnD;tuE;egGiF;c0YteC;al,iF;tiF;ma2;ld;aOelNiLoFuma7;a4meInHrrGsFur5;ti6;if4E;e58o3U; ma3GsF;ick;ghfalut2HspF;an49;li00pf33;i4llow0ndGrdFtM; 05coEworki8;sy,y;aLener44iga3Blob3oKrGuF;il1Nng ho;aFea1Fizzl0;cGtF;ef2Vis;ef2U;ld3Aod;iFuc2D;nf2R;aVeSiQlOoJrF;aGeFil5ug3;q43tf2O;gFnt3S;i6ra1;lk13oHrF; keeps,eFge0Vm9tu41;g0Ei2Ds3R;liF;sh;ag4Mowe4uF;e1or45;e4nF;al,i2;d Gmini7rF;ti6ve1;up;bl0lDmIr Fst pac0ux;oGreacF;hi8;ff;ed,ili0R;aXfVlTmQnOqu3rMthere3veryday,xF;aApIquisi2traHuF;be48lF;ta1;!va2L;edRlF;icF;it;eAstF;whi6; Famor0ough,tiE;rou2sui2;erGiF;ne1;ge1;dFe2Aoq34;er5;ficF;ie1;g9sF;t,ygF;oi8;er;aWeMiHoGrFue;ea4owY;ci6mina1ne,r31ti8ubQ;dact2Jfficult,m,sGverF;ge1se;creGePjoi1paCtF;a1inA;et,te; Nadp0WceMfiLgeneCliJmuEpeIreliAsGvoF;id,ut;pFtitu2ul1L;eCoF;nde1;ca2ghF;tf13;a1ni2;as0;facto;i5ngero0I;ar0Ce09h07i06l05oOrIuF;rmudgeon5stoma4teF;sy;ly;aIeHu1EystalF; cleFli7;ar;epy;fFv17z0;ty;erUgTloSmPnGrpoCunterclVveFy;rt;cLdJgr21jIsHtrF;aFi2;dic0Yry;eq1Yta1;oi1ug3;escenFuN;di8;a1QeFiD;it0;atoDmensuCpF;ass1SulF;so4;ni3ss3;e1niza1;ci1J;ockwiD;rcumspeAvil;eFintzy;e4wy;leGrtaF;in;ba2;diac,ef00;a00ePiLliJoGrFuck nak0;and new,isk,on22;gGldface,naF; fi05fi05;us;nd,tF;he;gGpartisFzarE;an;tiF;me;autifOhiNlLnHsFyoN;iWtselF;li8;eGiFt;gn;aFfi03;th;at0oF;v0w;nd;ul;ckwards,rF;e,rT; priori,b13c0Zd0Tf0Ng0Ihe0Hl09mp6nt06pZrTsQttracti0MuLvIwF;aGkF;wa1B;ke,re;ant garGeraF;ge;de;diIsteEtF;heFoimmu7;nt07;re;to4;hGlFtu2;eep;en;bitIchiv3roHtF;ifiFsy;ci3;ga1;ra4;ry;pFt;aHetizi8rF;oprF;ia2;llFre1;ed,i8;ng;iquFsy;at0e;ed;cohKiJkaHl,oGriFterX;ght;ne,of;li7;ne;ke,ve;olF;ic;ad;ain07gressiIi6rF;eeF;ab6;le;ve;fGraB;id;ectGlF;ue1;ioF;na2; JaIeGvF;erD;pt,qF;ua2;ma1;hoc,infinitum;cuCquiGtu3u2;al;esce1;ra2;erSjeAlPoNrKsGuF;nda1;e1olu2trF;aAuD;se;te;eaGuF;pt;st;aFve;rd;aFe;ze;ct;ra1;nt",Pronoun:"true\xa6elle,h3i2me,she,th0us,we,you;e0ou;e,m,y;!l,t;e,im",Preposition:"true\xa6aPbMcLdKexcept,fIinGmid,notwithstandiWoDpXqua,sCt7u4v2w0;/o,hereSith0;! whHin,oW;ersus,i0;a,s a vis;n1p0;!on;like,til;h1ill,oward0;!s;an,ereby,r0;ough0u;!oM;ans,ince,o that,uch G;f1n0ut;!to;!f;! 0to;effect,part;or,r0;om;espite,own,u3;hez,irca;ar1e0oBy;sides,tween;ri7;bo8cross,ft7lo6m4propos,round,s1t0;!op;! 0;a whole,long 0;as;id0ong0;!st;ng;er;ut",SportsTeam:"true\xa60:18;1:1E;2:1D;3:14;a1Db15c0Sd0Kfc dallas,g0Ihouston 0Hindiana0Gjacksonville jagua0k0El0Am01new UoRpKqueens parkJreal salt lake,sBt6utah jazz,vancouver whitecaps,w4yW;ashington 4h10;natio1Mredski2wizar0W;ampa bay 7e6o4;ronto 4ttenham hotspur;blue ja0Mrapto0;nnessee tita2xasD;buccanee0ra0K;a8eattle 6porting kansas0Wt4; louis 4oke0V;c1Drams;marine0s4;eah13ounH;cramento Rn 4;antonio spu0diego 4francisco gJjose earthquak1;char08paB; ran07;a9h6ittsburgh 5ortland t4;imbe0rail blaze0;pirat1steele0;il4oenix su2;adelphia 4li1;eagl1philNunE;dr1;akland 4klahoma city thunder,rlando magic;athle0Lrai4;de0;england 8orleans 7york 4;g5je3knYme3red bul0Xy4;anke1;ian3;pelica2sain3;patrio3revolut4;ion;anchEeAi4ontreal impact;ami 8lwaukee b7nnesota 4;t5vi4;kings;imberwolv1wi2;rewe0uc0J;dolphi2heat,marli2;mphis grizz4ts;li1;a6eic5os angeles 4;clippe0dodFlaB;esterV; galaxy,ke0;ansas city 4nF;chiefs,roya0D; pace0polis col3;astr05dynamo,rocke3texa2;olden state warrio0reen bay pac4;ke0;allas 8e4i04od6;nver 6troit 4;lio2pisto2ti4;ge0;broncYnugge3;cowbo5maver4;icZ;ys;arEelLhAincinnati 8leveland 6ol4;orado r4umbus crew sc;api7ocki1;brow2cavalie0guar4in4;dia2;bengaVre4;ds;arlotte horAicago 4;b5cubs,fire,wh4;iteB;ea0ulQ;diff4olina panthe0; city;altimore Alackburn rove0oston 6rooklyn 4uffalo bilN;ne3;ts;cel5red4; sox;tics;rs;oriol1rave2;rizona Ast8tlanta 4;brav1falco2h4;awA;ns;es;on villa,r4;os;c6di4;amondbac4;ks;ardi4;na4;ls",Unit:"true\xa6a07b04cXdWexVfTgRhePinYjoule0BkMlJmDnan08oCp9quart0Bsq ft,t7volts,w6y2ze3\xb01\xb50;g,s;c,f,n;dVear1o0;ttR; 0s 0;old;att,b;erNon0;!ne02;ascals,e1i0;cXnt00;rcent,tJ;hms,unceY;/s,e4i0m\xb2,\xb2,\xb3;/h,cro2l0;e0liK;!\xb2;grLsR;gCtJ;it1u0;menQx;erPreP;b5elvins,ilo1m0notO;/h,ph,\xb2;!byGgrEmCs;ct0rtzL;aJogrC;allonJb0ig3rB;ps;a0emtEl oz,t4;hrenheit,radG;aby9;eci3m1;aratDe1m0oulombD;\xb2,\xb3;lsius,nti0;gr2lit1m0;et0;er8;am7;b1y0;te5;l,ps;c2tt0;os0;econd1;re0;!s","Noun|Gerund":"true\xa60:3O;1:3M;2:3N;3:3D;4:32;5:2V;6:3E;7:3K;8:36;9:3J;A:3B;a3Pb37c2Jd27e23f1Vg1Sh1Mi1Ij1Gk1Dl18m13n11o0Wp0Pques0Sr0EsTtNunderMvKwFyDzB;eroi0oB;ni0o3P;aw2eB;ar2l3;aEed4hispe5i5oCrB;ap8est3i1;n0ErB;ki0r31;i1r2s9tc9;isualizi0oB;lunt1Vti0;stan4ta6;aFeDhin6iCraBy8;c6di0i2vel1M;mi0p8;aBs1;c9si0;l6n2s1;aUcReQhOiMkatKl2Wmo6nowJpeItFuCwB;ea5im37;b35f0FrB;fi0vB;e2Mi2J;aAoryt1KrCuB;d2KfS;etc9ugg3;l3n4;bCi0;ebBi0;oar4;gnBnAt1;a3i0;ip8oB;p8rte2u1;a1r27t1;hCo5reBulp1;a2Qe2;edu3oo3;i3yi0;aKeEi4oCuB;li0n2;oBwi0;fi0;aFcEhear7laxi0nDpor1sB;pon4tructB;r2Iu5;de5;or4yc3;di0so2;p8ti0;aFeacek20laEoCrBublis9;a1Teten4in1oces7;iso2siB;tio2;n2yi0;ckaAin1rB;ki0t1O;fEpeDrganiCvB;erco24ula1;si0zi0;ni0ra1;fe5;avi0QeBur7;gotia1twor6;aDeCi2oB;de3nito5;a2dita1e1ssaA;int0XnBrke1;ifUufactu5;aEeaDiBodAyi0;cen7f1mi1stB;e2i0;r2si0;n4ug9;iCnB;ea4it1;c6l3;ogAuB;dAgg3stif12;ci0llust0VmDnBro2;nova1sp0NterBven1;ac1vie02;agi2plo4;aDea1iCoBun1;l4w3;ki0ri0;nd3rB;roWvB;es1;aCene0Lli4rBui4;ee1ie0N;rde2the5;aHeGiDlCorBros1un4;e0Pmat1;ir1oo4;gh1lCnBs9;anZdi0;i0li0;e3nX;r0Zscina1;a1du01nCxB;erci7plo5;chan1di0ginB;ee5;aLeHiGoub1rCum8wB;el3;aDeCiB;bb3n6vi0;a0Qs7;wi0;rTscoDvi0;ba1coZlBvelo8;eCiB;ve5;ga1;nGti0;aVelebUhSlPoDrBur3yc3;aBos7yi0;f1w3;aLdi0lJmFnBo6pi0ve5;dDsCvinB;ci0;trBul1;uc1;muniDpB;lBo7;ai2;ca1;lBo5;ec1;c9ti0;ap8eaCimToBubT;ni0t9;ni0ri0;aBee5;n1t1;ra1;m8rCs1te5;ri0;vi0;aPeNitMlLoGrDuB;dge1il4llBr8;yi0;an4eat9oadB;cas1;di0;a1mEokB;i0kB;ee8;pi0;bi0;es7oa1;c9i0;gin2lonAt1;gi0;bysit1c6ki0tt3;li0;ki0;bando2cGdverti7gi0pproac9rgDssuCtB;trac1;mi0;ui0;hi0;si0;coun1ti0;ti0;ni0;ng",PhrasalVerb:"true\xa60:92;1:96;2:8H;3:8V;4:8A;5:83;6:85;7:98;8:90;9:8G;A:8X;B:8R;C:8U;D:8S;E:70;F:97;G:8Y;H:81;I:7H;J:79;a9Fb7Uc6Rd6Le6Jf5Ig50h4Biron0j47k40l3Em31n2Yo2Wp2Cquiet Hr1Xs0KtZuXvacuu6QwNyammerBzK;ero Dip LonK;e0k0;by,ov9up;aQeMhLiKor0Mrit19;mp0n3Fpe0r5s5;ackAeel Di0S;aLiKn33;gh 3Wrd0;n Dr K;do1in,oJ;it 79k5lk Lrm 69sh Kt83v60;aw3do1o7up;aw3in,oC;rgeBsK;e 2herE;a00eYhViRoQrMuKypP;ckErn K;do1in,oJup;aLiKot0y 30;ckl7Zp F;ck HdK;e 5Y;n7Wp 3Es5K;ck MdLe Kghten 6me0p o0Rre0;aw3ba4do1in,up;e Iy 2;by,oG;ink Lrow K;aw3ba4in,up;ba4ov9up;aKe 77ll62;m 2r 5M;ckBke Llk K;ov9shit,u47;aKba4do1in,leave,o4Dup;ba4ft9pa69w3;a0Vc0Te0Mh0Ii0Fl09m08n07o06p01quar5GtQuOwK;earMiK;ngLtch K;aw3ba4o8K; by;cKi6Bm 2ss0;k 64;aReQiPoNrKud35;aigh2Det75iK;ke 7Sng K;al6Yup;p Krm2F;by,in,oG;c3Ln3Lr 2tc4O;p F;c3Jmp0nd LrKveAy 2O;e Ht 2L;ba4do1up;ar3GeNiMlLrKurB;ead0ingBuc5;a49it 6H;c5ll o3Cn 2;ak Fe1Xll0;a3Bber 2rt0und like;ap 5Vow Duggl5;ash 6Noke0;eep NiKow 6;cLp K;o6Dup;e 68;in,oK;ff,v9;de19gn 4NnKt 6Gz5;gKkE; al6Ale0;aMoKu5W;ot Kut0w 7M;aw3ba4f48oC;c2WdeEk6EveA;e Pll1Nnd Orv5tK; Ktl5J;do1foLin,o7upK;!on;ot,r5Z;aw3ba4do1in,o33up;oCto;al66out0rK;ap65ew 6J;ilAv5;aXeUiSoOuK;b 5Yle0n Kstl5;aLba4do1inKo2Ith4Nu5P;!to;c2Xr8w3;ll Mot LpeAuK;g3Ind17;a2Wf3Po7;ar8in,o7up;ng 68p oKs5;ff,p18;aKelAinEnt0;c6Hd K;o4Dup;c27t0;aZeYiWlToQrOsyc35uK;ll Mn5Kt K;aKba4do1in,oJto47up;pa4Dw3;a3Jdo1in,o21to45up;attleBess KiNop 2;ah2Fon;iLp Kr4Zu1Gwer 6N;do1in,o6Nup;nt0;aLuK;gEmp 6;ce u20y 6D;ck Kg0le 4An 6p5B;oJup;el 5NncilE;c53ir 39n0ss MtLy K;ba4oG; Hc2R;aw3ba4in,oJ;pKw4Y;e4Xt D;aLerd0oK;dAt53;il Hrrow H;aTeQiPoLuK;ddl5ll I;c1FnkeyMp 6uthAve K;aKdo1in,o4Lup;l4Nw3; wi4K;ss0x 2;asur5e3SlLss K;a21up;t 6;ke Ln 6rKs2Ax0;k 6ryA;do,fun,oCsure,up;a02eViQoLuK;ck0st I;aNc4Fg MoKse0;k Kse4D;aft9ba4do1forw37in56o0Zu46;in,oJ;d 6;e NghtMnLsKve 00;ten F;e 2k 2; 2e46;ar8do1in;aMt LvelK; oC;do1go,in,o7up;nEve K;in,oK;pKut;en;c5p 2sh LtchBughAy K;do1o59;in4Po7;eMick Lnock K;do1oCup;oCup;eLy K;in,up;l Ip K;aw3ba4do1f04in,oJto,up;aMoLuK;ic5mpE;ke3St H;c43zz 2;a01eWiToPuK;nLrrKsh 6;y 2;keLt K;ar8do1;r H;lKneErse3K;d Ke 2;ba4dKfast,o0Cup;ear,o1;de Lt K;ba4on,up;aw3o7;aKlp0;d Ml Ir Kt 2;fKof;rom;f11in,o03uW;cPm 2nLsh0ve Kz2P;at,it,to;d Lg KkerP;do1in,o2Tup;do1in,oK;ut,v9;k 2;aZeTive Rloss IoMrLunK; f0S;ab hold,in43ow 2U; Kof 2I;aMb1Mit,oLr8th1IuK;nd9;ff,n,v9;bo7ft9hQw3;aw3bKdo1in,oJrise,up,w3;a4ir2H;ar 6ek0t K;aLb1Fdo1in,oKr8up;ff,n,ut,v9;cLhKl2Fr8t,w3;ead;ross;d aKng 2;bo7;a0Ee07iYlUoQrMuK;ck Ke2N;ar8up;eLighten KownBy 2;aw3oG;eKshe27; 2z5;g 2lMol Krk I;aKwi20;bo7r8;d 6low 2;aLeKip0;sh0;g 6ke0mKrKtten H;e F;gRlPnNrLsKzzle0;h F;e Km 2;aw3ba4up;d0isK;h 2;e Kl 1T;aw3fPin,o7;ht ba4ure0;ePnLsK;s 2;cMd K;fKoG;or;e D;d04l 2;cNll Krm0t1G;aLbKdo1in,o09sho0Eth08victim;a4ehi2O;pa0C;e K;do1oGup;at Kdge0nd 12y5;in,o7up;aOi1HoNrK;aLess 6op KuN;aw3b03in,oC;gBwB; Ile0ubl1B;m 2;a0Ah05l02oOrLut K;aw3ba4do1oCup;ackBeep LoKy0;ss Dwd0;by,do1in,o0Uup;me NoLuntK; o2A;k 6l K;do1oG;aRbQforOin,oNtKu0O;hLoKrue;geth9;rough;ff,ut,v9;th,wK;ard;a4y;paKr8w3;rt;eaLose K;in,oCup;n 6r F;aNeLiK;ll0pE;ck Der Kw F;on,up;t 2;lRncel0rOsMtch LveE; in;o1Nup;h Dt K;doubt,oG;ry LvK;e 08;aw3oJ;l Km H;aLba4do1oJup;ff,n,ut;r8w3;a0Ve0MiteAl0Fo04rQuK;bblNckl05il0Dlk 6ndl05rLsKtMy FzzA;t 00;n 0HsK;t D;e I;ov9;anWeaUiLush K;oGup;ghQng K;aNba4do1forMin,oLuK;nd9p;n,ut;th;bo7lKr8w3;ong;teK;n 2;k K;do1in,o7up;ch0;arTg 6iRn5oPrNssMttlLunce Kx D;aw3ba4;e 6; ar8;e H;do1;k Dt 2;e 2;l 6;do1up;d 2;aPeed0oKurt0;cMw K;aw3ba4do1o7up;ck;k K;in,oC;ck0nk0stA; oQaNef 2lt0nd K;do1ov9up;er;up;r Lt K;do1in,oCup;do1o7;ff,nK;to;ck Pil0nMrgLsK;h D;ainBe D;g DkB; on;in,o7;aw3do1in,oCup;ff,ut;ay;ct FdQir0sk MuctionA; oG;ff;ar8o7;ouK;nd; o7;d K;do1oKup;ff,n;wn;o7up;ut",ProperNoun:"true\xa6abid,barbie,c3e2f1iron maiden,kirby,m0nis,riel;cgill,ercedes,issy;lorence,ranco;lmo,uro;atalina,hristi","Person|Place":"true\xa6a8d6h4jordan,k3orlando,s1vi0;ctor9rgin9;a0ydney;lvador,mara,ntia4;ent,obe;amil0ous0;ton;arw2ie0;go;lexandr1ust0;in;ia",LastName:"true\xa60:BR;1:BF;2:B5;3:BH;4:AX;5:9Y;6:B6;7:BK;8:B0;9:AV;A:AL;B:8Q;C:8G;D:7K;E:BM;F:AH;aBDb9Zc8Wd88e81f7Kg6Wh64i60j5Lk4Vl4Dm39n2Wo2Op25quispe,r1Ls0Pt0Ev03wTxSyKzG;aIhGimmerm6A;aGou,u;ng,o;khar5ytsE;aKeun9BiHoGun;koya32shiBU;!lG;diGmaz;rim,z;maGng;da,g52mo83sGzaC;aChiBV;iao,u;aLeJiHoGright,u;jcA5lff,ng;lGmm0nkl0sniewsC;kiB1liams33s3;bGiss,lt0;b,er,st0;a6Vgn0lHtG;anabe,s3;k0sh,tG;e2Non;aLeKiHoGukD;gt,lk5roby5;dHllalGnogr3Kr1Css0val3S;ba,ob1W;al,ov4;lasHsel8W;lJn dIrgBEsHzG;qu7;ilyEqu7siljE;en b6Aijk,yk;enzueAIverde;aPeix1VhKi2j8ka43oJrIsui,uG;om5UrG;c2n0un1;an,emblA7ynisC;dorAMlst3Km4rrAth;atch0i8UoG;mHrG;are84laci79;ps3sG;en,on;hirDkah9Mnaka,te,varA;a06ch01eYhUiRmOoMtIuHvGzabo;en9Jobod3N;ar7bot4lliv2zuC;aIeHoG;i7Bj4AyanAB;ele,in2FpheBvens25;l8rm0;kol5lovy5re7Tsa,to,uG;ng,sa;iGy72;rn5tG;!h;l71mHnGrbu;at9cla9Egh;moBo7M;aIeGimizu;hu,vchG;en8Luk;la,r1G;gu9infe5YmGoh,pulveA7rra5P;jGyG;on5;evi6iltz,miHneid0roed0uGwarz;be3Elz;dHtG;!t,z;!t;ar4Th8ito,ka4OlJnGr4saCto,unde19v4;ch7dHtGz;a5Le,os;b53e16;as,ihDm4Po0Y;aVeSiPoJuHyG;a6oo,u;bio,iz,sG;so,u;bKc8Fdrigue67ge10j9YmJosevelt,sItHux,wG;e,li6;a9Ch;enb4Usi;a54e4L;erts15i93;bei4JcHes,vGzzo;as,e9;ci,hards12;ag2es,iHut0yG;es,nol5N;s,t0;dImHnGsmu97v6C;tan1;ir7os;ic,u;aUeOhMiJoHrGut8;asad,if6Zochazk27;lishc2GpGrti72u10we76;e3Aov51;cHe45nG;as,to;as70hl0;aGillips;k,m,n6I;a3Hde3Wete0Bna,rJtG;ersHrovGters54;!a,ic;!en,on;eGic,kiBss3;i9ra,tz,z;h86k,padopoulIrk0tHvG;ic,l4N;el,te39;os;bMconn2Ag2TlJnei6PrHsbor6XweBzG;dem7Rturk;ella4DtGwe6N;ega,iz;iGof7Hs8I;vGyn1R;ei9;aSri1;aPeNiJoGune50ym2;rHvGwak;ak4Qik5otn66;odahl,r4S;cholsZeHkolGls4Jx3;ic,ov84;ls1miG;!n1;ils3mG;co4Xec;gy,kaGray2sh,var38;jiGmu9shiG;ma;a07c04eZiWoMuHyeG;rs;lJnIrGssoli6S;atGp03r7C;i,ov4;oz,te58;d0l0;h2lOnNo0RrHsGza1A;er,s;aKeJiIoz5risHtG;e56on;!on;!n7K;au,i9no,t5J;!lA;r1Btgome59;i3El0;cracFhhail5kkeHlG;l0os64;ls1;hmeJiIj30lHn3Krci0ssiGyer2N;!er;n0Po;er,j0;dDti;cartHlG;aughl8e2;hy;dQe7Egnu68i0jer3TkPmNnMrItHyG;er,r;ei,ic,su21thews;iHkDquAroqu8tinG;ez,s;a5Xc,nG;!o;ci5Vn;a5UmG;ad5;ar5e6Kin1;rig77s1;aVeOiLoJuHyG;!nch;k4nGo;d,gu;mbarGpe3Fvr4we;di;!nGu,yana2B;coln,dG;b21holm,strom;bedEfeKhIitn0kaHn8rGw35;oy;!j;m11tG;in1on1;bvGvG;re;iGmmy,ng,rs2Qu,voie,ws3;ne,t1F;aZeYh2iWlUnez50oNrJuHvar2woG;k,n;cerGmar68znets5;a,o34;aHem0isGyeziu;h23t3O;m0sni4Fus3KvG;ch4O;bay57ch,rh0Usk16vaIwalGzl5;czGsC;yk;cIlG;!cGen4K;huk;!ev4ic,s;e8uiveG;rt;eff0kGl4mu9nnun1;ucF;ll0nnedy;hn,llKminsCne,pIrHstra3Qto,ur,yGzl5;a,s0;j0Rls22;l2oG;or;oe;aPenOha6im14oHuG;ng,r4;e32hInHrge32u6vG;anD;es,ss3;anHnsG;en,on,t3;nesGs1R;en,s1;kiBnings,s1;cJkob4EnGrv0E;kDsG;en,sG;en0Ion;ks3obs2A;brahimDglesi5Nke5Fl0Qno07oneIshikHto,vanoG;u,v54;awa;scu;aVeOiNjaltal8oIrist50uG;!aGb0ghAynh;m2ng;a6dz4fIjgaa3Hk,lHpUrGwe,x3X;ak1Gvat;mAt;er,fm3WmG;ann;ggiBtchcock;iJmingw4BnHrGss;nand7re9;deGriks1;rs3;kkiHnG;on1;la,n1;dz4g1lvoQmOns0ZqNrMsJuIwHyG;asFes;kiB;g1ng;anHhiG;mo14;i,ov0J;di6p0r10t;ue;alaG;in1;rs1;aVeorgUheorghe,iSjonRoLrJuGw3;errGnnar3Co,staf3Ctierr7zm2;a,eG;ro;ayli6ee2Lg4iffithGub0;!s;lIme0UnHodGrbachE;e,m2;calvAzale0S;dGubE;bGs0E;erg;aj,i;bs3l,mGordaO;en7;iev3U;gnMlJmaIndFo,rGsFuthi0;cGdn0za;ia;ge;eaHlG;agh0i,o;no;e,on;aVerQiLjeldsted,lKoIrHuG;chs,entAji41ll0;eem2iedm2;ntaGrt8urni0wl0;na;emi6orA;lipIsHtzgeraG;ld;ch0h0;ovG;!ic;hatDnanIrG;arGei9;a,i;deY;ov4;b0rre1D;dKinsJriksIsGvaB;cob3GpGtra3D;inoza,osiQ;en,s3;te8;er,is3warG;ds;aXePiNjurhuMoKrisco15uHvorakG;!oT;arte,boHmitru,nn,rGt3C;and,ic;is;g2he0Omingu7nErd1ItG;to;us;aGcki2Hmitr2Ossanayake,x3;s,z; JbnaIlHmirGrvisFvi,w2;!ov4;gado,ic;th;bo0groot,jo6lHsilGvriA;va;a cruz,e3uG;ca;hl,mcevsCnIt2WviG;dGes,s;ov,s3;ielsGku22;!en;ki;a0Be06hRiobQlarkPoIrGunningh1H;awfo0RivGuz;elli;h1lKntJoIrGs2Nx;byn,reG;a,ia;ke,p0;i,rer2K;em2liB;ns;!e;anu;aOeMiu,oIristGu6we;eGiaG;ns1;i,ng,p9uHwGy;!dH;dGng;huJ;!n,onGu6;!g;kJnIpm2ttHudhGv7;ry;erjee,o14;!d,g;ma,raboG;rty;bJl0Cng4rG;eghetHnG;a,y;ti;an,ota1C;cerAlder3mpbeLrIstGvadi0B;iGro;llo;doHl0Er,t0uGvalho;so;so,zo;ll;a0Fe01hYiXlUoNrKuIyG;rLtyG;qi;chan2rG;ke,ns;ank5iem,oGyant;oks,wG;ne;gdan5nIruya,su,uchaHyKziG;c,n5;rd;darGik;enG;ko;ov;aGond15;nco,zG;ev4;ancFshw16;a08oGuiy2;umGwmG;ik;ckRethov1gu,ktPnNrG;gJisInG;ascoGds1;ni;ha;er,mG;anG;!n;gtGit7nP;ss3;asF;hi;er,hG;am;b4ch,ez,hRiley,kk0ldw8nMrIshHtAu0;es;ir;bInHtlGua;ett;es,i0;ieYosa;dGik;a9yoG;padhyG;ay;ra;k,ng;ic;bb0Acos09d07g04kht05lZnPrLsl2tJyG;aHd8;in;la;chis3kiG;ns3;aImstro6sl2;an;ng;ujo,ya;dJgelHsaG;ri;ovG;!a;ersJov,reG;aGjEws;ss1;en;en,on,s3;on;eksejEiyEmeiIvG;ar7es;ez;da;ev;arwHuilG;ar;al;ams,l0;er;ta;as",Ordinal:"true\xa6eBf7nin5s3t0zeroE;enDhir1we0;lfCn7;d,t3;e0ixt8;cond,vent7;et0th;e6ie7;i2o0;r0urt3;tie4;ft1rst;ight0lev1;e0h,ie1;en0;th",Cardinal:"true\xa6bEeBf5mEnine7one,s4t0zero;en,h2rDw0;e0o;lve,n5;irt6ousands,ree;even2ix2;i3o0;r1ur0;!t2;ty;ft0ve;e2y;ight0lev1;!e0y;en;illions",Multiple:"true\xa6b3hundred,m3qu2se1t0;housand,r2;pt1xt1;adr0int0;illion",City:"true\xa60:74;1:61;2:6G;3:6J;4:5S;a68b53c4Id48e44f3Wg3Hh39i31j2Wk2Fl23m1Mn1Co19p0Wq0Ur0Os05tRuQvLwDxiBy9z5;a7h5i4Muri4O;a5e5ongsh0;ng3H;greb,nzib5G;ang2e5okoha3Sunfu;katerin3Hrev0;a5n0Q;m5Hn;arsBeAi6roclBu5;h0xi,zh5P;c7n5;d5nipeg,terth4;hoek,s1L;hi5Zkl3A;l63xford;aw;a8e6i5ladivost5Molgogr6L;en3lni6S;ni22r5;o3saill4N;lenc4Wncouv3Sr3ughn;lan bat1Crumqi,trecht;aFbilisi,eEheDiBo9r7u5;l21n63r5;in,ku;i5ondh62;es51poli;kyo,m2Zron1Pulo5;n,uS;an5jua3l2Tmisoa6Bra3;j4Tshui; hag62ssaloni2H;gucigal26hr0l av1U;briz,i6llinn,mpe56ng5rtu,shk2R;i3Esh0;an,chu1n0p2Eyu0;aEeDh8kopje,owe1Gt7u5;ra5zh4X;ba0Ht;aten is55ockholm,rasbou67uttga2V;an8e6i5;jiazhua1llo1m5Xy0;f50n5;ya1zh4H;gh3Kt4Q;att45o1Vv44;cramen16int ClBn5o paulo,ppo3Rrajevo; 7aa,t5;a 5o domin3E;a3fe,m1M;antonio,die3Cfrancisco,j5ped3Nsalvad0J;o5u0;se;em,t lake ci5Fz25;lou58peters24;a9e8i6o5;me,t59;ga,o5yadh;! de janei3F;cife,ims,nn3Jykjavik;b4Sip4lei2Inc2Pwalpindi;ingdao,u5;ez2i0Q;aFeEhDiCo9r7u6yong5;ya1;eb59ya1;a5etor3M;g52to;rt5zn0; 5la4Co;au prin0Melizabe24sa03;ls3Prae5Atts26;iladelph3Gnom pe1Aoenix;ki1r21tah tik3E;dua,lerYnaji,r4Ot5;na,r32;ak44des0Km1Mr6s5ttawa;a3Vlo;an,d06;a7ew5ing2Fovosibir1Jyc; 5cast36;del24orlea44taip14;g8iro4Wn5pl2Wshv33v0;ch6ji1t5;es,o1;a1o1;a6o5p4;ya;no,sa0W;aEeCi9o6u5;mb2Ani26sc3Y;gadishu,nt6s5;c13ul;evideo,pelli1Rre2Z;ami,l6n14s5;kolc,sissauga;an,waukee;cca,d5lbour2Mmph41ndo1Cssi3;an,ell2Xi3;cau,drAkass2Sl9n8r5shh4A;aca6ib5rakesh,se2L;or;i1Sy;a4EchFdal0Zi47;mo;id;aDeAi8o6u5vSy2;anMckn0Odhia3;n5s angel26;d2g bea1N;brev2Be3Lma5nz,sb2verpo28;!ss27; ma39i5;c5pzig;est16; p6g5ho2Wn0Cusan24;os;az,la33;aHharFiClaipeBo9rak0Du7y5;iv,o5;to;ala lump4n5;mi1sh0;hi0Hlka2Xpavog4si5wlo2;ce;da;ev,n5rkuk;gst2sha5;sa;k5toum;iv;bHdu3llakuric0Qmpa3Fn6ohsiu1ra5un1Iwaguc0Q;c0Pj;d5o,p4;ah1Ty;a7e6i5ohannesV;l1Vn0;dd36rusalem;ip4k5;ar2H;bad0mph1OnArkutUs7taXz5;mir,tapala5;pa;fah0l6tanb5;ul;am2Zi2H;che2d5;ianap2Mo20;aAe7o5yder2W; chi mi5ms,nolulu;nh;f6lsin5rakli2;ki;ei;ifa,lifax,mCn5rb1Dva3;g8nov01oi;aFdanEenDhCiPlasgBo9raz,u5;a5jr23;dal6ng5yaquil;zh1J;aja2Oupe;ld coa1Bthen5;bu2S;ow;ent;e0Uoa;sk;lw7n5za;dhi5gt1E;nag0U;ay;aisal29es,o8r6ukuya5;ma;ankfu5esno;rt;rt5sh0; wor6ale5;za;th;d5indhov0Pl paso;in5mont2;bur5;gh;aBe8ha0Xisp4o7resd0Lu5;b5esseldorf,nkirk,rb0shanbe;ai,l0I;ha,nggu0rtmu13;hradSl6nv5troit;er;hi;donghIe6k09l5masc1Zr es sala1KugavpiY;i0lU;gu,je2;aJebu,hAleve0Vo5raio02uriti1Q;lo7n6penhag0Ar5;do1Ok;akKst0V;gUm5;bo;aBen8i6ongqi1ristchur5;ch;ang m7ca5ttago1;go;g6n5;ai;du,zho1;ng5ttogr14;ch8sha,zh07;gliari,i9lga8mayenJn6pe town,r5tanO;acCdiff;ber1Ac5;un;ry;ro;aWeNhKirmingh0WoJr9u5;chareTdapeTenos air7r5s0tu0;g5sa;as;es;a9is6usse5;ls;ba6t5;ol;ne;sil8tisla7zzav5;il5;le;va;ia;goZst2;op6ubaneshw5;ar;al;iCl9ng8r5;g6l5n;in;en;aluru,hazi;fa6grade,o horizon5;te;st;ji1rut;ghd0BkFn9ot8r7s6yan n4;ur;el,r07;celo3i,ranquil09;ou;du1g6ja lu5;ka;alo6k5;ok;re;ng;ers5u;field;a05b02cc01ddis aba00gartaZhmedXizawl,lSmPnHqa00rEsBt7uck5;la5;nd;he7l5;an5;ta;ns;h5unci2;dod,gab5;at;li5;ngt2;on;a8c5kaOtwerp;hora6o3;na;ge;h7p5;ol5;is;eim;aravati,m0s5;terd5;am; 7buquerq6eppo,giers,ma5;ty;ue;basrah al qadim5mawsil al jadid5;ah;ab5;ad;la;ba;ra;idj0u dha5;bi;an;lbo6rh5;us;rg",Region:"true\xa60:2K;1:2Q;2:2H;3:2B;a2Ob2Bc1Xd1Ses1Rf1Pg1Kh1Gi1Bj17k12l0Zm0On06o04pYqVrSsJtEuBverAw6y4zacatec2S;akut0o0Cu4;cat2k06;a5est 4isconsin,yomi1K;bengal,virgin0;rwick3shington4;! dc;acruz,mont;dmurt0t4;ah,tar4; 2La0Y;a6e5laxca1Rripu1Xu4;scaEva;langa1nnessee,x2F;bas0Wm4smOtar25;aulip2Dil nadu;a9i7o5taf12u4ylh1F;ffZrr05s1A;me1Cno1Quth 4;cWdV;ber0c4kkim,naloa;hu2ily;n5skatchew2xo4;ny; luis potosi,ta catari1;a4hodeA;j4ngp08;asth2shahi;ingh25u4;e4intana roo;bec,en6retaro;ara8e6rince edward4unjab; i4;sl0C;i,nnsylv4rnambu0C;an0;!na;axa0Ydisha,h4klaho20ntar4reg7ss0Cx0H;io;aKeEo6u4;evo le4nav0W;on;r4tt17va scot0;f9mandy,th4; 4ampton3;c6d5yo4;rk3;ako1N;aroli1;olk;bras1Mva0Cw4; 5foundland4;! and labrador;brunswick,hamp3jers5mexiTyork4;! state;ey;galPyarit;aAeghala0Mi6o4;nta1r4;dov0elos;ch6dlanDn5ss4zor11;issippi,ouri;as geraPneso18;ig2oac2;dhy12harasht0Gine,ni5r4ssachusetts;anhao,i el,ylG;p4toba;ur;anca3e4incoln3ouisI;e4iR;ds;a6e5h4omi;aka06ul1;ntucky,ra01;bardino,lmyk0ns0Qr4;achay,el0nata0X;alis6har4iangxi;kh4;and;co;daho,llino7n4owa;d5gush4;et0;ia1;is;a6ert5i4un2;dalFm0D;ford3;mp3rya1waii;ansu,eorg0lou7oa,u4;an4izhou,jarat;ajuato,gdo4;ng;cester3;lori4uji2;da;sex;ageUe7o5uran4;go;rs4;et;lawaMrby3;aFeaEh9o4rim08umbr0;ahui7l6nnectic5rsi4ventry;ca;ut;i03orado;la;e5hattisgarh,i4uvash0;apRhuahua;chn5rke4;ss0;ya;ra;lGm4;bridge3peche;a9ihar,r8u4;ck4ryat0;ingham3;shi4;re;emen,itish columb0;h0ja cal8lk7s4v7;hkorto4que;st2;an;ar0;iforn0;ia;dygHguascalientes,lBndhr9r5ss4;am;izo1kans5un4;achal 7;as;na;a 4;pradesh;a6ber5t4;ai;ta;ba5s4;ka;ma;ea",Country:"true\xa60:38;1:2L;2:3B;a2Xb2Ec22d1Ye1Sf1Mg1Ch1Ai14j12k0Zl0Um0Gn05om2pZqat1KrXsKtCu7v5wal4yemTz3;a25imbabwe;es,lis and futu2Y;a3enezue32ietnam;nuatu,tican city;gTk6nited 4ruXs3zbeE; 2Ca,sr;arab emirat0Kkingdom,states3;! of am2Y;!raiV;a8haCimor les0Co7rinidad 5u3;nis0rk3valu;ey,me2Zs and caic1V;and t3t3;oba1L;go,kel10nga;iw2ji3nz2T;ki2V;aDcotl1eCi9lov8o6pa2Dri lanka,u5w3yr0;az3edAitzerl1;il1;d2riname;lomon1Xmal0uth 3;afr2KkMsud2;ak0en0;erra leoFn3;gapo1Yt maart3;en;negLrb0ychellZ;int 3moa,n marino,udi arab0;hele26luc0mart21;epublic of ir0Eom2Euss0w3;an27;a4eIhilippinUitcairn1Mo3uerto riN;l1rtugF;ki2Dl4nama,pua new0Vra3;gu7;au,esti3;ne;aBe9i7or3;folk1Ith4w3;ay; k3ern mariana1D;or0O;caragua,ger3ue;!ia;p3ther1Aw zeal1;al;mib0u3;ru;a7exi6icro0Bo3yanm06;ldova,n3roc5zambA;a4gol0t3;enegro,serrat;co;cAdagasc01l7r5urit4yot3;te;an0i16;shall0Xtin3;ique;a4div3i,ta;es;wi,ys0;ao,ed02;a6e5i3uxembourg;b3echtenste12thu1G;er0ya;ban0Isotho;os,tv0;azakh1Fe4iriba04o3uwait,yrgyz1F;rXsovo;eling0Knya;a3erG;ma16p2;c7nd6r4s3taly,vory coast;le of m2rael;a3el1;n,q;ia,oJ;el1;aiTon3ungary;dur0Ng kong;aBermany,ha0QibraltAre8u3;a6ern5inea3ya0P;! biss3;au;sey;deloupe,m,tema0Q;e3na0N;ce,nl1;ar;bUmb0;a7i6r3;ance,ench 3;guia0Epoly3;nes0;ji,nl1;lklandUroeU;ast tim7cu6gypt,l salv6ngl1quatorial4ritr5st3thiop0;on0; guin3;ea;ad3;or;enmark,jibou5ominica4r con3;go;!n C;ti;aBentral african Ah8o5roat0u4yprRzech3; 9ia;ba,racao;c4lo3morQngo brazzaville,okGsta r04te de ivoiL;mb0;osE;i3ristmasG;le,na;republic;m3naUpe verde,ymanA;bod0ero3;on;aGeDhut2o9r5u3;lgar0r3;kina faso,ma,undi;azil,itish 3unei;virgin3; is3;lands;liv0nai5snia and herzegoviHtswaHuvet3; isl1;and;re;l3n8rmuG;ar3gium,ize;us;h4ngladesh,rbad3;os;am4ra3;in;as;fghaGlDmBn6r4ustr3zerbaij2;al0ia;genti3men0uba;na;dorra,g5t3;arct7igua and barbu3;da;o3uil3;la;er3;ica;b3ger0;an0;ia;ni3;st2;an",Place:"true\xa6a0Gb0Bc03d02e01f00gWhUiSkQlNmLnIorHpDrCsAt5u4v3w2y0;a0yz;kutPngtze;ake isHupatki;irgin islands,ostok;laanbaatar,p02;a3eotihuac0Hh1onto,sarskoe selo,u0;lXzigoot;am09e 0;bronx,hamptons;hiti,j mahE;a0cotts bluff,eine,fo,oho,under9;int lawrence river,khalY;ed s3io grande;a1ek,h0itcairn,ompeii;l,x;cif05pahanaumokuak0rthenX;ea;ange county,d,inoco;e0ile;uschwansteQw eng0;land;a0co,ekong,idLuc;chu picchu,gad00libu,nhatt00;a1gw,hr,incoln memori0;al;s,x;azan kremlJosrae,rasnoyar0ul;sk;ax,cn,nd0st;ianSochina;arlem,kg,nd,ov0;d,enweep;a2odavari,re0;at 0enwich;britaBlakI;ngHy village;co,ra;urope,vergladF;anube,en,fw,own4xb;arrizo pla6dg,edar 5gk,h1lt,olosse0;um;a2i0uuk;chen itza,mney rock,na0ricahua;town;morro,tham;breaks,fa5;in;cn,e2kk,ro0;oklyn,wns cany0;on;l air,verly hi0;lls;driadic,frica,lhambra,m7n3rc2sia,tl1zor0;es;!ant2; de triomphe,t1;adyr,tarct0;ic0; oce0;an;ericas,s",FirstName:"true\xa6aTblair,cQdOfrancoZgabMhinaLilya,jHkClBm6ni4quinn,re3s0;h0umit,yd;ay,e0iloh;a,lby;g9ne;co,ko0;!s;a1el0ina,org6;!okuhF;ds,naia,r1tt0xiB;i,y;ion,lo;ashawn,eif,uca;a3e1ir0rM;an;lsFn0rry;dall,yat5;i,sD;a0essIie,ude;i1m0;ie,mG;me;ta;rie0y;le;arcy,ev0;an,on;as1h0;arl8eyenne;ey,sidy;drien,kira,l4nd1ubr0vi;ey;i,r0;a,e0;a,y;ex2f1o0;is;ie;ei,is",WeekDay:"true\xa6fri2mon2s1t0wednesd3;hurs1ues1;aturd1und1;!d0;ay0;!s",Month:"true\xa6dec0february,july,nov0octo1sept0;em0;ber",Date:"true\xa6ago,on4som4t1week0yesterd5; end,ends;mr1o0;d2morrow;!w;ed0;ay",Duration:"true\xa6centurAd8h7m5q4se3w1y0;ear8r8;eek0k7;!end,s;ason,c5;tr,uarter;i0onth3;llisecond2nute2;our1r1;ay0ecade0;!s;ies,y",FemaleName:"true\xa60:J7;1:JB;2:IJ;3:IK;4:J1;5:IO;6:JS;7:JO;8:HB;9:JK;A:H4;B:I2;C:IT;D:JH;E:IX;F:BA;G:I4;aGTbFLcDRdD0eBMfB4gADh9Ti9Gj8Dk7Cl5Wm48n3Lo3Hp33qu32r29s15t0Eu0Cv02wVxiTyOzH;aLeIineb,oHsof3;e3Sf3la,ra;h2iKlIna,ynH;ab,ep;da,ma;da,h2iHra;nab;aKeJi0FolB7uIvH;et8onDP;i0na;le0sen3;el,gm3Hn,rGLs8W;aoHme0nyi;m5XyAD;aMendDZhiDGiH;dele9lJnH;if48niHo0;e,f47;a,helmi0lHma;a,ow;ka0nB;aNeKiHusa5;ck84kIl8oleAviH;anFenJ4;ky,toriBK;da,lA8rHs0;a,nHoniH9;a,iFR;leHnesH9;nILrH;i1y;g9rHs6xHA;su5te;aYeUhRiNoLrIuHy2;i,la;acJ3iHu0J;c3na,sH;hFta;nHr0F;iFya;aJffaEOnHs6;a,gtiH;ng;!nFSra;aIeHomasi0;a,l9Oo8Ares1;l3ndolwethu;g9Fo88rIssH;!a,ie;eHi,ri7;sa,za;bOlMmKnIrHs6tia0wa0;a60yn;iHya;a,ka,s6;arFe2iHm77ra;!ka;a,iH;a,t6;at6it6;a0Ecarlett,e0AhWiSkye,neza0oQri,tNuIyH;bIGlvi1;ha,mayIJniAsIzH;an3Net8ie,y;anHi7;!a,e,nH;aCe;aIeH;fan4l5Dphan6E;cI5r5;b3fiAAm0LnHphi1;d2ia,ja,ya;er2lJmon1nIobh8QtH;a,i;dy;lETv3;aMeIirHo0risFDy5;a,lDM;ba,e0i5lJrH;iHr6Jyl;!d8Ifa;ia,lDZ;hd,iMki2nJrIu0w0yH;la,ma,na;i,le9on,ron,yn;aIda,ia,nHon;a,on;!ya;k6mH;!aa;lJrItaye82vH;da,inj;e0ife;en1i0ma;anA9bLd5Oh1SiBkKlJmInd2rHs6vannaC;aCi0;ant6i2;lDOma,ome;ee0in8Tu2;in1ri0;a05eZhXiUoHuthDM;bScRghQl8LnPsJwIxH;anB3ie,y;an,e0;aIeHie,lD;ann7ll1marDGtA;!lHnn1;iHyn;e,nH;a,dF;da,i,na;ayy8G;hel67io;bDRerAyn;a,cIkHmas,nFta,ya;ki,o;h8Xki;ea,iannGMoH;da,n1P;an0bJemFgi0iInHta,y0;a8Bee;han86na;a,eH;cHkaC;a,ca;bi0chIe,i0mo0nHquETy0;di,ia;aERelHiB;!e,le;een4ia0;aPeOhMiLoJrHute6A;iHudenCV;scil3LyamvaB;lHrt3;i0ly;a,paluk;ilome0oebe,ylH;is,lis;ggy,nelope,r5t2;ige,m0VnKo5rvaDMtIulH;a,et8in1;ricHt4T;a,e,ia;do2i07;ctav3dIfD3is6ksa0lHphD3umC5yunbileg;a,ga,iv3;eHvAF;l3t8;aWeUiMoIurHy5;!ay,ul;a,eJor,rIuH;f,r;aCeEma;ll1mi;aNcLhariBQkKlaJna,sHta,vi;anHha;ur;!y;a,iDZki;hoGk9YolH;a,e4P;!mh;hir,lHna,risDEsreE;!a,lBV;asuMdLh3i6Dl5nKomi7rgEVtH;aHhal4;lHs6;i1ya;cy,et8;e9iF0ya;nngu2X;a0Ackenz4e02iMoJrignayani,uriDJyH;a,rH;a,iOlNna,tG;bi0i2llBJnH;a,iH;ca,ka,qD9;a,cUdo4ZkaTlOmi,nMrItzi,yH;ar;aJiIlH;anET;am;!l,nB;dy,eHh,n4;nhGrva;aKdJe0iCUlH;iHy;cent,e;red;!gros;!e5;ae5hH;ae5el3Z;ag5DgNi,lKrH;edi7AiIjem,on,yH;em,l;em,sCG;an4iHliCF;nHsCJ;a,da;!an,han;b09cASd07e,g05ha,i04ja,l02n00rLsoum5YtKuIv84xBKyHz4;bell,ra,soBB;d7rH;a,eE;h8Gild1t4;a,cUgQiKjor4l7Un4s6tJwa,yH;!aHbe6Xja9lAE;m,nBL;a,ha,in1;!aJbCGeIja,lDna,sHt63;!a,ol,sa;!l1D;!h,mInH;!a,e,n1;!awit,i;arJeIie,oHr48ueri8;!t;!ry;et46i3B;el4Xi7Cy;dHon,ue5;akranAy;ak,en,iHlo3S;a,ka,nB;a,re,s4te;daHg4;!l3E;alDd4elHge,isDJon0;ei9in1yn;el,le;a0Ne0CiXoQuLyH;d3la,nH;!a,dIe2OnHsCT;!a,e2N;a,sCR;aD4cJel0Pis1lIna,pHz;e,iA;a,u,wa;iHy;a0Se,ja,l2NnB;is,l1UrItt1LuHvel4;el5is1;aKeIi7na,rH;aADi7;lHn1tA;ei;!in1;aTbb9HdSepa,lNnKsJvIzH;!a,be5Ret8z4;!ia;a,et8;!a,dH;a,sHy;ay,ey,i,y;a,iJja,lH;iHy;aA8e;!aH;!nF;ia,ya;!nH;!a,ne;aPda,e0iNjYla,nMoKsJtHx93y5;iHt4;c3t3;e2PlCO;la,nHra;a,ie,o2;a,or1;a,gh,laH;!ni;!h,nH;a,d2e,n5V;cOdon9DiNkes6mi9Gna,rMtJurIvHxmi,y5;ern1in3;a,e5Aie,yn;as6iIoH;nya,ya;fa,s6;a,isA9;a,la;ey,ie,y;a04eZhXiOlASoNrJyH;lHra;a,ee,ie;istHy6I;a,en,iIyH;!na;!e,n5F;nul,ri,urtnB8;aOerNlB7mJrHzzy;a,stH;en,in;!berlImernH;aq;eHi,y;e,y;a,stE;!na,ra;aHei2ongordzol;dij1w5;el7UiKjsi,lJnIrH;a,i,ri;d2na,za;ey,i,lBLs4y;ra,s6;biAcARdiat7MeBAiSlQmPnyakuma1DrNss6NtKviAyH;!e,lH;a,eH;e,i8T;!a6HeIhHi4TlDri0y;ar8Her8Hie,leErBAy;!lyn8Ori0;a,en,iHl5Xoli0yn;!ma,nFs95;a5il1;ei8Mi,lH;e,ie;a,tl6O;a0AeZiWoOuH;anMdLlHst88;es,iH;a8NeHs8X;!n9tH;!a,te;e5Mi3My;a,iA;!anNcelDdMelGhan7VleLni,sIva0yH;a,ce;eHie;fHlDph7Y;a,in1;en,n1;i7y;!a,e,n45;lHng;!i1DlH;!i1C;anNle0nKrJsH;i8JsH;!e,i8I;i,ri;!a,elGif2CnH;a,et8iHy;!e,f2A;a,eJiInH;a,eIiH;e,n1;!t8;cMda,mi,nIque4YsminFvie2y9zH;min7;a7eIiH;ce,e,n1s;!lHs82t0F;e,le;inIk6HlDquelH;in1yn;da,ta;da,lRmPnOo0rNsIvaHwo0zaro;!a0lu,na;aJiIlaHob89;!n9R;do2;belHdo2;!a,e,l3B;a7Ben1i0ma;di2es,gr72ji;a9elBogH;en1;a,e9iHo0se;a0na;aSeOiJoHus7Kyacin2C;da,ll4rten24snH;a,i9U;lImaH;ri;aIdHlaI;a,egard;ry;ath1BiJlInrietArmi9sH;sa,t1A;en2Uga,mi;di;bi2Fil8MlNnMrJsItHwa,yl8M;i5Tt4;n60ti;iHmo51ri53;etH;!te;aCnaC;a,ey,l4;a02eWiRlPoNrKunJwH;enHyne1R;!dolD;ay,el;acieIetHiselB;a,chE;!la;ld1CogooH;sh;adys,enHor3yn2K;a,da,na;aKgi,lIna,ov8EselHta;a,e,le;da,liH;an;!n0;mLnJorgIrH;ald5Si,m3Etrud7;et8i4X;a,eHna;s29vieve;ma;bIle,mHrnet,yG;al5Si5;iIrielH;a,l1;!ja;aTeQiPlorOoz3rH;anJeIiH;da,eB;da,ja;!cH;esIiHoi0P;n1s66;!ca;a,enc3;en,o0;lIn0rnH;anB;ec3ic3;jr,nArKtHy7;emIiHma,oumaA;ha,ma,n;eh;ah,iBrah,za0;cr4Rd0Re0Qi0Pk0Ol07mXn54rUsOtNuMvHwa;aKelIiH;!e,ta;inFyn;!a;!ngel4V;geni1ni47;h5Yien9ta;mLperanKtH;eIhHrel5;er;l31r7;za;a,eralB;iHma,ne4Lyn;cHka,n;a,ka;aPeNiKmH;aHe21ie,y;!li9nuH;elG;lHn1;e7iHy;a,e,ja;lHrald;da,y;!nue5;aWeUiNlMma,no2oKsJvH;a,iH;na,ra;a,ie;iHuiH;se;a,en,ie,y;a0c3da,e,f,nMsJzaH;!betHveA;e,h;aHe,ka;!beH;th;!a,or;anor,nH;!a,i;!in1na;ate1Rta;leEs6;vi;eIiHna,wi0;e,th;l,n;aYeMh3iLjeneKoH;lor5Vminiq4Ln3FrHtt4;a,eEis,la,othHthy;ea,y;ba;an09naCon9ya;anQbPde,eOiMlJmetr3nHsir5M;a,iH;ce,se;a,iIla,orHphi9;es,is;a,l6F;dHrdH;re;!d5Ena;!b2ForaCraC;a,d2nH;!a,e;hl3i0l0GmNnLphn1rIvi1WyH;le,na;a,by,cIia,lH;a,en1;ey,ie;a,et8iH;!ca,el1Aka,z;arHia;is;a0Re0Nh04i02lUoJristIynH;di,th3;al,i0;lPnMrIurH;tn1D;aJd2OiHn2Ori9;!nH;a,e,n1;!l4;cepci5Cn4sH;tanHuelo;ce,za;eHleE;en,t8;aJeoIotH;il54;!pat2;ir7rJudH;et8iH;a,ne;a,e,iH;ce,sZ;a2er2ndH;i,y;aReNloe,rH;isJyH;stH;al;sy,tH;a1Sen,iHy;an1e,n1;deJlseIrH;!i7yl;a,y;li9;nMrH;isKlImH;ai9;a,eHot8;n1t8;!sa;d2elGtH;al,elG;cIlH;es8i47;el3ilH;e,ia,y;itlYlXmilWndVrMsKtHy5;aIeIhHri0;er1IleErDy;ri0;a38sH;a37ie;a,iOlLmeJolIrH;ie,ol;!e,in1yn;lHn;!a,la;a,eIie,otHy;a,ta;ne,y;na,s1X;a0Ii0I;a,e,l1;isAl4;in,yn;a0Ke02iZlXoUrH;andi7eRiJoIyH;an0nn;nwDoke;an3HdgMgiLtH;n31tH;!aInH;ey,i,y;ny;d,t8;etH;!t7;an0e,nH;da,na;bbi7glarIlo07nH;iAn4;ka;ancHythe;a,he;an1Clja0nHsm3M;iAtH;ou;aWcVlinUniArPssOtJulaCvH;!erlH;ey,y;hJsy,tH;e,iHy7;e,na;!anH;ie,y;!ie;nItHyl;ha,ie;adIiH;ce;et8i9;ay,da;ca,ky;!triH;ce,z;rbJyaH;rmH;aa;a2o2ra;a2Ub2Od25g21i1Sj5l18m0Zn0Boi,r06sWtVuPvOwa,yIzH;ra,u0;aKes6gJlIn,seH;!l;in;un;!nH;a,na;a,i2K;drLguJrIsteH;ja;el3;stH;in1;a,ey,i,y;aahua,he0;hIi2Gja,miAs2DtrH;id;aMlIraqHt21;at;eIi7yH;!n;e,iHy;gh;!nH;ti;iJleIo6piA;ta;en,n1t8;aHelG;!n1J;a01dje5eZgViTjRnKohito,toHya;inet8nH;el5ia;te;!aKeIiHmJ;e,ka;!mHtt7;ar4;!belIliHmU;sa;!l1;a,eliH;ca;ka,sHta;a,sa;elHie;a,iH;a,ca,n1qH;ue;!tH;a,te;!bImHstasiMya;ar3;el;aLberKeliJiHy;e,l3naH;!ta;a,ja;!ly;hGiIl3nB;da;a,ra;le;aWba,ePiMlKthJyH;a,c3sH;a,on,sa;ea;iHys0N;e,s0M;a,cIn1sHza;a,e,ha,on,sa;e,ia,ja;c3is6jaKksaKna,sJxH;aHia;!nd2;ia,saH;nd2;ra;ia;i0nIyH;ah,na;a,is,naCoud;la;c6da,leEmNnLsH;haClH;inHyY;g,n;!h;a,o,slH;ey;ee;en;at6g4nIusH;ti0;es;ie;aWdiTelMrH;eJiH;anMenH;a,e,ne;an0;na;!aLeKiIyH;nn;a,n1;a,e;!ne;!iH;de;e,lDsH;on;yn;!lH;i9yn;ne;aKbIiHrL;!e,gaK;ey,i7y;!e;gaH;il;dKliyJradhIs6;ha;ya;ah;a,ya",Honorific:"true\xa6director1field marsh2lieutenant1rear0sergeant major,vice0; admir1; gener0;al","Adj|Gerund":"true\xa60:3F;1:3H;2:31;3:2X;4:35;5:33;6:3C;7:2Z;8:36;9:29;a33b2Tc2Bd1Te1If19g12h0Zi0Rl0Nm0Gnu0Fo0Ap04rYsKtEuBvAw1Ayiel3;ar6e08;nBpA;l1Rs0B;fol3n1Zsett2;aEeDhrBi4ouc7rAwis0;e0Bif2oub2us0yi1;ea1SiA;l2vi1;l2mp0rr1J;nt1Vxi1;aMcreec7enten2NhLkyrocke0lo0Vmi2oJpHtDuBweA;e0Ul2;pp2ArA;gi1pri5roun3;aBea8iAri2Hun9;mula0r4;gge4rA;t2vi1;ark2eAraw2;e3llb2F;aAot7;ki1ri1;i9oc29;dYtisf6;aEeBive0oAus7;a4l2;assu4defi9fres7ig9juve07mai9s0vAwar3;ea2italiAol1G;si1zi1;gi1ll6mb2vi1;a6eDier23lun1VrAun2C;eBoA;mi5vo1Z;ce3s5vai2;n3rpleA;xi1;ffCpWutBverAwi1;arc7lap04p0Pri3whel8;goi1l6st1J;en3sA;et0;m2Jrtu4;aEeDiCoBuAyst0L;mb2;t1Jvi1;s5tiga0;an1Rl0n3smeri26;dAtu4;de9;aCeaBiAo0U;fesa0Tvi1;di1ni1;c1Fg19s0;llumiGmFnArri0R;cDfurHsCtBviA;go23ti1;e1Oimi21oxica0rig0V;pi4ul0;orpo20r0K;po5;na0;eaBorr02umilA;ia0;li1rtwar8;lFrA;atiDipCoBuelA;i1li1;undbrea10wi1;pi1;f6ng;a4ea8;a3etc7it0lEoCrBulfA;il2;ee1FighXust1L;rAun3;ebo3thco8;aCoA;a0wA;e4i1;mi1tte4;lectrJmHnExA;aCci0hBis0pA;an3lo3;aOila1B;c0spe1A;ab2coura0CdBergi13ga0Clive9ric7s02tA;hral2i0J;ea4u4;barras5er09pA;owe4;if6;aQeIiBrA;if0;sAzz6;aEgDhearCsen0tA;rAur11;ac0es5;te9;us0;ppoin0r8;biliGcDfi9gra3ligh0mBpres5sAvasG;erE;an3ea9orA;ali0L;a6eiBli9rA;ea5;vi1;ta0;maPri1s7un0zz2;aPhMlo5oAripp2ut0;mGnArrespon3;cer9fDspi4tA;inBrA;as0ibu0ol2;ui1;lic0u5;ni1;fDmCpA;eAromi5;l2ti1;an3;or0;aAil2;llenAnAr8;gi1;l8ptAri1;iva0;aff2eGin3lFoDrBuA;d3st2;eathtaAui5;ki1;gg2i2o8ri1unA;ci1;in3;co8wiA;lAtc7;de4;bsorVcOgonMlJmHnno6ppea2rFsA;pi4su4toA;nBun3;di1;is7;hi1;res0;li1;aFu5;si1;ar8lu4;ri1;mi1;iAzi1;zi1;cAhi1;eleDomA;moBpan6;yi1;da0;ra0;ti1;bi1;ng",Comparable:"true\xa60:3C;1:3Q;2:3F;a3Tb3Cc33d2Te2Mf2Ag1Wh1Li1Fj1Ek1Bl13m0Xn0So0Rp0Iqu0Gr07sHtCug0vAw4y3za0Q;el10ouN;ary,e6hi5i3ry;ck0Cde,l3n1ry,se;d,y;ny,te;a3i3R;k,ry;a3erda2ulgar;gue,in,st;a6en2Xhi5i4ouZr3;anqu2Cen1ue;dy,g36me0ny;ck,rs28;ll,me,rt,wd3I;aRcaPeOhMiLkin0BlImGoEpDt6u4w3;eet,ift;b3dd0Wperfi21rre28;sta26t21;a8e7iff,r4u3;pUr1;a4ict,o3;ng;ig2Vn0N;a1ep,rn;le,rk,te0;e1Si2Vright0;ci1Yft,l3on,re;emn,id;a3el0;ll,rt;e4i3y;g2Mm0Z;ek,nd2T;ck24l0mp1L;a3iRrill,y;dy,l01rp;ve0Jxy;n1Jr3;ce,y;d,fe,int0l1Hv0V;a8e6i5o3ude;mantic,o19sy,u3;gh;pe,t1P;a3d,mo0A;dy,l;gg4iFndom,p3re,w;id;ed;ai2i3;ck,et;hoAi1Fl9o8r5u3;ny,r3;e,p11;egna2ic4o3;fouSud;ey,k0;liXor;ain,easa2;ny;dd,i0ld,ranL;aive,e5i4o3u14;b0Sisy,rm0Ysy;bb0ce,mb0R;a3r1w;r,t;ad,e5ild,o4u3;nda12te;ist,o1;a4ek,l3;low;s0ty;a8e7i6o3ucky;f0Jn4o15u3ve0w10y0N;d,sy;e0g;ke0l,mp,tt0Eve0;e1Qwd;me,r3te;ge;e4i3;nd;en;ol0ui19;cy,ll,n3;secu6t3;e3ima4;llege2rmedia3;te;re;aAe7i6o5u3;ge,m3ng1C;bYid;me0t;gh,l0;a3fXsita2;dy,rWv3;en0y;nd13ppy,r3;d3sh;!y;aFenEhCiBlAoofy,r3;a8e6i5o3ue0Z;o3ss;vy;m,s0;at,e3y;dy,n;nd,y;ad,ib,ooD;a2d1;a3o3;st0;tDuiS;u1y;aCeebBi9l8o6r5u3;ll,n3r0N;!ny;aCesh,iend0;a3nd,rmD;my;at,ir7;erce,nan3;ci9;le;r,ul3;ty;a6erie,sse4v3xtre0B;il;nti3;al;r4s3;tern,y;ly,th0;appZe9i5ru4u3;mb;nk;r5vi4z3;zy;ne;e,ty;a3ep,n9;d3f,r;!ly;agey,h8l7o5r4u3;dd0r0te;isp,uel;ar3ld,mmon,st0ward0zy;se;evKou1;e3il0;ap,e3;sy;aHiFlCoAr5u3;ff,r0sy;ly;a6i3oad;g4llia2;nt;ht;sh,ve;ld,un3;cy;a4o3ue;nd,o1;ck,nd;g,tt3;er;d,ld,w1;dy;bsu6ng5we3;so3;me;ry;rd",Adverb:"true\xa6a08b05d00eYfSheQinPjustOkinda,likewiZmMnJoEpCquite,r9s5t2u0very,well;ltima01p0; to,wards5;h1iny bit,o0wiO;o,t6;en,us;eldom,o0uch;!me1rt0; of;how,times,w0C;a1e0;alS;ndomRth05;ar excellenEer0oint blank; Lhaps;f3n0utright;ce0ly;! 0;ag05moX; courGten;ewJo0; longWt 0;onHwithstand9;aybe,eanwhiNore0;!ovT;! aboX;deed,steY;lla,n0;ce;or3u0;ck1l9rther0;!moK;ing; 0evK;exampCgood,suH;n mas0vI;se;e0irect2; 2fini0;te0;ly;juAtrop;ackward,y 0;far,no0; means,w; GbroFd nauseam,gEl7ny5part,s4t 2w0;ay,hi0;le;be7l0mo7wor7;arge,ea6; soon,i4;mo0way;re;l 3mo2ongsi1ready,so,togeth0ways;er;de;st;b1t0;hat;ut;ain;ad;lot,posteriori",Conjunction:"true\xa6aXbTcReNhowMiEjust00noBo9p8supposing,t5wh0yet;e1il0o3;e,st;n1re0thN; if,by,vM;evL;h0il,o;erefOo0;!uU;lus,rovided th9;r0therwiM;! not; mattEr,w0;! 0;since,th4w7;f4n0; 0asmuch;as mIcaForder t0;h0o;at;! 0;only,t0w0;hen;!ev3;ith2ven0;! 0;if,tB;er;o0uz;s,z;e0ut,y the time;cau1f0;ore;se;lt3nd,s 0;far1if,m0soon1t2;uch0; as;hou0;gh",Currency:"true\xa6$,aud,bQcOdJeurIfHgbp,hkd,iGjpy,kElDp8r7s3usd,x2y1z0\xa2,\xa3,\xa5,\u0434\u0435\u043d,\u043b\u0432,\u0440\u0443\u0431,\u0e3f,\u20a1,\u20a8,\u20ac,\u20ad,\ufdfc;lotyQ\u0142;en,uanP;af,of;h0t5;e0il5;k0q0;elK;oubleJp,upeeJ;e2ound st0;er0;lingG;n0soF;ceEnies;empi7i7;n,r0wanzaCyatC;!onaBw;ls,nr;ori7ranc9;!os;en3i2kk,o0;b0ll2;ra5;me4n0rham4;ar3;e0ny;nt1;aht,itcoin0;!s",Determiner:"true\xa6aBboth,d9e6few,le5mu8neiDplenty,s4th2various,wh0;at0ich0;evC;a0e4is,ose;!t;everal,ome;!ast,s;a1l0very;!se;ch;e0u;!s;!n0;!o0y;th0;er","Adj|Present":"true\xa6a07b04cVdQeNfJhollIidRlEmCnarrIoBp9qua8r7s3t2uttFw0;aKet,ro0;ng,u08;endChin;e2hort,l1mooth,our,pa9tray,u0;re,speU;i2ow;cu6da02leSpaN;eplica01i02;ck;aHerfePr0;eseUime,omV;bscu1pen,wn;atu0e3odeH;re;a2e1ive,ow0;er;an;st,y;ow;a2i1oul,r0;ee,inge;rm;iIke,ncy,st;l1mpty,x0;emHpress;abo4ic7;amp,e2i1oub0ry,ull;le;ffu9re6;fu8libe0;raE;alm,l5o0;mpleCn3ol,rr1unterfe0;it;e0u7;ct;juga8sum7;ea1o0;se;n,r;ankru1lu0;nt;pt;li2pproxi0rticula1;ma0;te;ght","Person|Adj":"true\xa6b3du2earnest,frank,mi2r0san1woo1;an0ich,u1;dy;sty;ella,rown",Modal:"true\xa6c5lets,m4ought3sh1w0;ill,o5;a0o4;ll,nt;! to,a;ight,ust;an,o0;uld",Verb:"true\xa6born,cannot,gonna,has,keep tabs,msg","Person|Verb":"true\xa6b8ch7dr6foster,gra5ja9lan4ma2ni9ollie,p1rob,s0wade;kip,pike,t5ue;at,eg,ier2;ck,r0;k,shal;ce;ce,nt;ew;ase,u1;iff,l1ob,u0;ck;aze,ossom","Person|Date":"true\xa6a2j0sep;an0une;!uary;p0ugust,v0;ril"},hq="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").reduce(function(t,e,n){return t[e]=n,t},{}),bx_fromAlphaCode=function(t){if(void 0!==hq[t])return hq[t];let e=0,n=1,r=36,i=1;for(;n<t.length;e+=r,n++,r*=36);for(let s=t.length-1;s>=0;s--,i*=36){let o=t.charCodeAt(s)-48;o>10&&(o-=7),e+=o*i}return e},Qbe=function(t,e,n){const r=bx_fromAlphaCode(e);return r<t.symCount?t.syms[r]:n+r+1-t.symCount},Da=["Possessive","Pronoun"],FT={a:[[/(antenn|formul|nebul|vertebr|vit)a$/i,"$1ae"],[/ia$/i,"ia"]],e:[[/(kn|l|w)ife$/i,"$1ives"],[/(hive)$/i,"$1s"],[/([m|l])ouse$/i,"$1ice"],[/([m|l])ice$/i,"$1ice"]],f:[[/^(dwar|handkerchie|hoo|scar|whar)f$/i,"$1ves"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)f$/i,"$1ves"]],i:[[/(octop|vir)i$/i,"$1i"]],m:[[/([ti])um$/i,"$1a"]],n:[[/^(oxen)$/i,"$1"]],o:[[/(al|ad|at|er|et|ed)o$/i,"$1oes"]],s:[[/(ax|test)is$/i,"$1es"],[/(alias|status)$/i,"$1es"],[/sis$/i,"ses"],[/(bu)s$/i,"$1ses"],[/(sis)$/i,"ses"],[/^(?!talis|.*hu)(.*)man$/i,"$1men"],[/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,"$1i"]],x:[[/(matr|vert|ind|cort)(ix|ex)$/i,"$1ices"],[/^(ox)$/i,"$1en"]],y:[[/([^aeiouy]|qu)y$/i,"$1ies"]],z:[[/(quiz)$/i,"$1zes"]]},twe=/([xsz]|ch|sh)$/,VT=function(t="",e){let{irregularPlurals:n,uncountable:r}=e.two;if(r.hasOwnProperty(t))return t;if(n.hasOwnProperty(t))return n[t];let i=function(t){let e=t[t.length-1];if(!0===FT.hasOwnProperty(e))for(let n=0;n<FT[e].length;n+=1){let r=FT[e][n][0];if(!0===r.test(t))return t.replace(r,FT[e][n][1])}return null}(t);return null!==i?i:twe.test(t)?t+"es":t+"s"},rwe=/\|/;let Wg={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization",g8:"Organization",vh1:"Organization","76ers":"SportsTeam","49ers":"SportsTeam",q1:"Date",q2:"Date",q3:"Date",q4:"Date",km2:"Unit",m2:"Unit",dm2:"Unit",cm2:"Unit",mm2:"Unit",mile2:"Unit",in2:"Unit",yd2:"Unit",ft2:"Unit",m3:"Unit",dm3:"Unit",cm3:"Unit",in3:"Unit",ft3:"Unit",yd3:"Unit","at&t":"Organization","black & decker":"Organization","h & m":"Organization","johnson & johnson":"Organization","procter & gamble":"Organization","ben & jerry's":"Organization","&":"Conjunction",i:["Pronoun","Singular"],he:["Pronoun","Singular"],she:["Pronoun","Singular"],it:["Pronoun","Singular"],they:["Pronoun","Plural"],we:["Pronoun","Plural"],was:["Copula","PastTense"],is:["Copula","PresentTense"],are:["Copula","PresentTense"],am:["Copula","PresentTense"],were:["Copula","PastTense"],her:Da,his:Da,hers:Da,their:Da,theirs:Da,themselves:Da,your:Da,our:Da,ours:Da,my:Da,its:Da,vs:["Conjunction","Abbreviation"],if:["Condition","Preposition"],closer:"Comparative",closest:"Superlative",much:"Adverb",may:"Modal",babysat:"PastTense",blew:"PastTense",drank:"PastTense",drove:"PastTense",forgave:"PastTense",skiied:"PastTense",spilt:"PastTense",stung:"PastTense",swam:"PastTense",swung:"PastTense",guaranteed:"PastTense",shrunk:"PastTense",nears:"PresentTense",nearing:"Gerund",neared:"PastTense",no:["Negative","Expression"]},wx={};const iwe={two:{irregularPlurals:cq,uncountable:{}}};Object.keys(dq).forEach(t=>{let e=function(t){if(!t)return{};const e=t.split("|").reduce((r,i)=>{const s=i.split("\xa6");return r[s[0]]=s[1],r},{}),n={};return Object.keys(e).forEach(function(r){const i=function(t){const e={nodes:t.split(";"),syms:[],symCount:0};return t.match(":")&&function(t){const e=new RegExp("([0-9A-Z]+):([0-9A-Z]+)");for(let n=0;n<t.nodes.length;n++){const r=e.exec(t.nodes[n]);if(!r){t.symCount=n;break}t.syms[bx_fromAlphaCode(r[1])]=bx_fromAlphaCode(r[2])}t.nodes=t.nodes.slice(t.symCount,t.nodes.length)}(e),function(t){const e=[],n=(r,i)=>{let s=t.nodes[r];"!"===s[0]&&(e.push(i),s=s.slice(1));const o=s.split(/([A-Z0-9,]+)/g);for(let a=0;a<o.length;a+=2){const u=o[a],l=o[a+1];if(!u)continue;const d=i+u;if(","===l||void 0===l){e.push(d);continue}const g=Qbe(t,l,r);n(g,d)}};return n(0,""),e}(e)}(e[r]);"true"===r&&(r=!0);for(let s=0;s<i.length;s++){const o=i[s];!0===n.hasOwnProperty(o)?!1===Array.isArray(n[o])?n[o]=[n[o],r]:n[o].push(r):n[o]=r}}),n}(dq[t]);rwe.test(t)?Object.keys(e).forEach(n=>{if(wx[n]=t,"Noun|Verb"===t){let r=VT(n,iwe);wx[r]="Plural|Verb"}}):Object.keys(e).forEach(n=>{Wg[n]=t})}),[":(",":)",":P",":p",":O",";(",";)",";P",";p",";O",":3",":|",":/",":\\",":$",":*",":@",":-(",":-)",":-P",":-p",":-O",":-3",":-|",":-/",":-\\",":-$",":-*",":-@",":^(",":^)",":^P",":^p",":^O",":^3",":^|",":^/",":^\\",":^$",":^*",":^@","):","(:","$:","*:",")-:","(-:","$-:","*-:",")^:","(^:","$^:","*^:","<3","</3","<\\3","=("].forEach(t=>Wg[t]="Emoticon"),delete Wg[""],delete Wg.null,delete Wg[" "];const pe="Singular",ir={beforeTags:{Determiner:pe,Possessive:pe,Acronym:pe,Noun:pe,Adjective:pe,PresentTense:pe,Gerund:pe,PastTense:pe,Infinitive:pe,Date:pe,Ordinal:pe,Demonym:pe},afterTags:{Value:pe,Modal:pe,Copula:pe,PresentTense:pe,PastTense:pe,Demonym:pe,Actor:pe},beforeWords:{the:pe,with:pe,without:pe,of:pe,for:pe,any:pe,all:pe,on:pe,cut:pe,cuts:pe,increase:pe,decrease:pe,raise:pe,drop:pe,save:pe,saved:pe,saves:pe,make:pe,makes:pe,made:pe,minus:pe,plus:pe,than:pe,another:pe,versus:pe,neither:pe,about:pe,favorite:pe,best:pe,daily:pe,weekly:pe,linear:pe,binary:pe,mobile:pe,lexical:pe,technical:pe,computer:pe,scientific:pe,security:pe,government:pe,popular:pe,formal:pe,no:pe,more:pe,one:pe,let:pe,her:pe,his:pe,their:pe,our:pe,us:pe,sheer:pe,monthly:pe,yearly:pe,current:pe,previous:pe,upcoming:pe,last:pe,next:pe,main:pe,initial:pe,final:pe,beginning:pe,end:pe,top:pe,bottom:pe,future:pe,past:pe,major:pe,minor:pe,side:pe,central:pe,peripheral:pe,public:pe,private:pe},afterWords:{of:pe,system:pe,aid:pe,method:pe,utility:pe,tool:pe,reform:pe,therapy:pe,philosophy:pe,room:pe,authority:pe,says:pe,said:pe,wants:pe,wanted:pe,is:pe,did:pe,do:pe,can:pe,wise:pe}},Ae="Infinitive",Wi={beforeTags:{Modal:Ae,Adverb:Ae,Negative:Ae,Plural:Ae},afterTags:{Determiner:Ae,Adverb:Ae,Possessive:Ae,Reflexive:Ae,Preposition:Ae,Cardinal:Ae,Comparative:Ae,Superlative:Ae},beforeWords:{i:Ae,we:Ae,you:Ae,they:Ae,to:Ae,please:Ae,will:Ae,have:Ae,had:Ae,would:Ae,could:Ae,should:Ae,do:Ae,did:Ae,does:Ae,can:Ae,must:Ae,us:Ae,me:Ae,let:Ae,even:Ae,when:Ae,help:Ae,he:Ae,she:Ae,it:Ae,being:Ae,bi:Ae,co:Ae,contra:Ae,de:Ae,inter:Ae,intra:Ae,mis:Ae,pre:Ae,out:Ae,counter:Ae,nobody:Ae,somebody:Ae,anybody:Ae,everybody:Ae},afterWords:{the:Ae,me:Ae,you:Ae,him:Ae,us:Ae,her:Ae,his:Ae,them:Ae,they:Ae,it:Ae,himself:Ae,herself:Ae,itself:Ae,myself:Ae,ourselves:Ae,themselves:Ae,something:Ae,anything:Ae,a:Ae,an:Ae,up:Ae,down:Ae,by:Ae,out:Ae,off:Ae,under:Ae,what:Ae,all:Ae,to:Ae,because:Ae,although:Ae,how:Ae,otherwise:Ae,together:Ae,though:Ae,into:Ae,yet:Ae,more:Ae,here:Ae,there:Ae,away:Ae}},owe={beforeTags:Object.assign({},Wi.beforeTags,ir.beforeTags,{}),afterTags:Object.assign({},Wi.afterTags,ir.afterTags,{}),beforeWords:Object.assign({},Wi.beforeWords,ir.beforeWords,{}),afterWords:Object.assign({},Wi.afterWords,ir.afterWords,{})},ke="Adjective",Kr={beforeTags:{Determiner:ke,Possessive:ke,Hyphenated:ke},afterTags:{Adjective:ke},beforeWords:{seem:ke,seemed:ke,seems:ke,feel:ke,feels:ke,felt:ke,stay:ke,appear:ke,appears:ke,appeared:ke,also:ke,over:ke,under:ke,too:ke,it:ke,but:ke,still:ke,really:ke,quite:ke,well:ke,very:ke,truly:ke,how:ke,deeply:ke,hella:ke,profoundly:ke,extremely:ke,so:ke,badly:ke,mostly:ke,totally:ke,awfully:ke,rather:ke,nothing:ke,something:ke,anything:ke,not:ke,me:ke,is:ke,face:ke,faces:ke,faced:ke,look:ke,looks:ke,looked:ke,reveal:ke,reveals:ke,revealed:ke,sound:ke,sounded:ke,sounds:ke,remains:ke,remained:ke,prove:ke,proves:ke,proved:ke,becomes:ke,stays:ke,tastes:ke,taste:ke,smells:ke,smell:ke,gets:ke,grows:ke,as:ke,rings:ke,radiates:ke,conveys:ke,convey:ke,conveyed:ke,of:ke},afterWords:{too:ke,also:ke,or:ke,enough:ke,as:ke}},ct="Gerund",Xc={beforeTags:{Adverb:ct,Preposition:ct,Conjunction:ct},afterTags:{Adverb:ct,Possessive:ct,Person:ct,Pronoun:ct,Determiner:ct,Copula:ct,Preposition:ct,Conjunction:ct,Comparative:ct},beforeWords:{been:ct,keep:ct,continue:ct,stop:ct,am:ct,be:ct,me:ct,began:ct,start:ct,starts:ct,started:ct,stops:ct,stopped:ct,help:ct,helps:ct,avoid:ct,avoids:ct,love:ct,loves:ct,loved:ct,hate:ct,hates:ct,hated:ct},afterWords:{you:ct,me:ct,her:ct,him:ct,his:ct,them:ct,their:ct,it:ct,this:ct,there:ct,on:ct,about:ct,for:ct,up:ct,down:ct}},an="Gerund",Zc="Adjective",awe={beforeTags:Object.assign({},Kr.beforeTags,Xc.beforeTags,{Imperative:an,Infinitive:Zc,Plural:an}),afterTags:Object.assign({},Kr.afterTags,Xc.afterTags,{Noun:Zc}),beforeWords:Object.assign({},Kr.beforeWords,Xc.beforeWords,{is:Zc,are:an,was:Zc,of:Zc,suggest:an,suggests:an,suggested:an,recommend:an,recommends:an,recommended:an,imagine:an,imagines:an,imagined:an,consider:an,considered:an,considering:an,resist:an,resists:an,resisted:an,avoid:an,avoided:an,avoiding:an,except:Zc,accept:Zc,assess:an,explore:an,fear:an,fears:an,appreciate:an,question:an,help:an,embrace:an,with:Zc}),afterWords:Object.assign({},Kr.afterWords,Xc.afterWords,{to:an,not:an,the:an})},uwe={beforeTags:Object.assign({},Kr.beforeTags,ir.beforeTags,{Determiner:void 0,Cardinal:"Noun",PhrasalVerb:"Adjective"}),afterTags:Object.assign({},Kr.afterTags,ir.afterTags,{}),beforeWords:Object.assign({},Kr.beforeWords,ir.beforeWords,{are:"Adjective",is:"Adjective",was:"Adjective",be:"Adjective",off:"Adjective",out:"Adjective"}),afterWords:Object.assign({},Kr.afterWords,ir.afterWords)};let wt="PastTense",s0="Adjective";const LT={beforeTags:{Adverb:wt,Pronoun:wt,ProperNoun:wt,Auxiliary:wt,Noun:wt},afterTags:{Possessive:wt,Pronoun:wt,Determiner:wt,Adverb:wt,Comparative:wt,Date:wt,Gerund:wt},beforeWords:{be:wt,who:wt,get:s0,had:wt,has:wt,have:wt,been:wt,it:wt,as:wt,for:s0,more:s0,always:s0},afterWords:{by:wt,back:wt,out:wt,in:wt,up:wt,down:wt,before:wt,after:wt,for:wt,the:wt,with:wt,as:wt,on:wt,at:wt,between:wt,to:wt,into:wt,us:wt,them:wt,his:wt,her:wt,their:wt,our:wt,me:wt,about:s0}},lwe={beforeTags:Object.assign({},Kr.beforeTags,LT.beforeTags),afterTags:Object.assign({},Kr.afterTags,LT.afterTags),beforeWords:Object.assign({},Kr.beforeWords,LT.beforeWords),afterWords:Object.assign({},Kr.afterWords,LT.afterWords)},dwe={beforeTags:Object.assign({},Kr.beforeTags,Wi.beforeTags,{Adverb:void 0,Negative:void 0}),afterTags:Object.assign({},Kr.afterTags,Wi.afterTags,{Noun:"Adjective",Conjunction:void 0}),beforeWords:Object.assign({},Kr.beforeWords,Wi.beforeWords,{have:void 0,had:void 0,not:void 0,went:"Adjective",goes:"Adjective",got:"Adjective",be:"Adjective"}),afterWords:Object.assign({},Kr.afterWords,Wi.afterWords,{to:void 0,as:"Adjective"})},hwe={beforeTags:Object.assign({},Xc.beforeTags,ir.beforeTags,{Copula:"Gerund",PastTense:"Gerund",PresentTense:"Gerund",Infinitive:"Gerund"}),afterTags:Object.assign({},Xc.afterTags,ir.afterTags,{Value:"Gerund"}),beforeWords:Object.assign({},Xc.beforeWords,ir.beforeWords,{are:"Gerund",were:"Gerund",be:"Gerund",no:"Gerund",without:"Gerund",you:"Gerund",we:"Gerund",they:"Gerund",he:"Gerund",she:"Gerund",us:"Gerund",them:"Gerund"}),afterWords:Object.assign({},Xc.afterWords,ir.afterWords,{the:"Gerund",this:"Gerund",that:"Gerund",me:"Gerund",us:"Gerund",them:"Gerund"})},Kg="Singular",$h="Infinitive",fwe={beforeTags:Object.assign({},Wi.beforeTags,ir.beforeTags,{Adjective:Kg,Particle:Kg}),afterTags:Object.assign({},Wi.afterTags,ir.afterTags,{ProperNoun:$h,Gerund:$h,Adjective:$h,Copula:Kg}),beforeWords:Object.assign({},Wi.beforeWords,ir.beforeWords,{is:Kg,was:Kg,of:Kg,have:null}),afterWords:Object.assign({},Wi.afterWords,ir.afterWords,{instead:$h,about:$h,his:$h,her:$h,to:null,by:null,in:null})},mn="Person",Qr={beforeTags:{Honorific:mn,Person:mn},afterTags:{Person:mn,ProperNoun:mn,Verb:mn},ownTags:{ProperNoun:mn},beforeWords:{hi:mn,hey:mn,yo:mn,dear:mn,hello:mn},afterWords:{said:mn,says:mn,told:mn,tells:mn,feels:mn,felt:mn,seems:mn,thinks:mn,thought:mn,spends:mn,spendt:mn,plays:mn,played:mn,sing:mn,sang:mn,learn:mn,learned:mn,wants:mn,wanted:mn}},Qn="Month",UT={beforeTags:{Date:Qn,Value:Qn},afterTags:{Date:Qn,Value:Qn},beforeWords:{by:Qn,in:Qn,on:Qn,during:Qn,after:Qn,before:Qn,between:Qn,until:Qn,til:Qn,sometime:Qn,of:Qn,this:Qn,next:Qn,last:Qn,previous:Qn,following:Qn,with:"Person"},afterWords:{sometime:Qn,in:Qn,of:Qn,until:Qn,the:Qn}},pwe={beforeTags:Object.assign({},Qr.beforeTags,UT.beforeTags),afterTags:Object.assign({},Qr.afterTags,UT.afterTags),beforeWords:Object.assign({},Qr.beforeWords,UT.beforeWords),afterWords:Object.assign({},Qr.afterWords,UT.afterWords)},Ri="Place",BT={beforeTags:{Place:Ri},afterTags:{Place:Ri,Abbreviation:Ri},beforeWords:{in:Ri,by:Ri,near:Ri,from:Ri,to:Ri},afterWords:{in:Ri,by:Ri,near:Ri,from:Ri,to:Ri,government:Ri,council:Ri,region:Ri,city:Ri}};let Qo="Unit";const Qg={"Actor|Verb":owe,"Adj|Gerund":awe,"Adj|Noun":uwe,"Adj|Past":lwe,"Adj|Present":dwe,"Noun|Verb":fwe,"Noun|Gerund":hwe,"Person|Noun":{beforeTags:Object.assign({},ir.beforeTags,Qr.beforeTags),afterTags:Object.assign({},ir.afterTags,Qr.afterTags),beforeWords:Object.assign({},ir.beforeWords,Qr.beforeWords,{i:"Infinitive",we:"Infinitive"}),afterWords:Object.assign({},ir.afterWords,Qr.afterWords)},"Person|Date":pwe,"Person|Verb":{beforeTags:Object.assign({},ir.beforeTags,Qr.beforeTags,Wi.beforeTags),afterTags:Object.assign({},ir.afterTags,Qr.afterTags,Wi.afterTags),beforeWords:Object.assign({},ir.beforeWords,Qr.beforeWords,Wi.beforeWords),afterWords:Object.assign({},ir.afterWords,Qr.afterWords,Wi.afterWords)},"Person|Place":{beforeTags:Object.assign({},BT.beforeTags,Qr.beforeTags),afterTags:Object.assign({},BT.afterTags,Qr.afterTags),beforeWords:Object.assign({},BT.beforeWords,Qr.beforeWords),afterWords:Object.assign({},BT.afterWords,Qr.afterWords)},"Person|Adj":{beforeTags:Object.assign({},Qr.beforeTags,Kr.beforeTags),afterTags:Object.assign({},Qr.afterTags,Kr.afterTags),beforeWords:Object.assign({},Qr.beforeWords,Kr.beforeWords),afterWords:Object.assign({},Qr.afterWords,Kr.afterWords)},"Unit|Noun":{beforeTags:{Value:Qo},afterTags:{},beforeWords:{per:Qo,every:Qo,each:Qo,square:Qo,cubic:Qo,sq:Qo,metric:Qo},afterWords:{per:Qo,squared:Qo,cubed:Qo,long:Qo}}},HT=(t,e)=>{let n=Object.keys(t).reduce((r,i)=>(r[i]="Infinitive"===t[i]?"PresentTense":"Plural",r),{});return Object.assign(n,e)};Qg["Plural|Verb"]={beforeWords:HT(Qg["Noun|Verb"].beforeWords,{had:"Plural",have:"Plural"}),afterWords:HT(Qg["Noun|Verb"].afterWords,{his:"PresentTense",her:"PresentTense",its:"PresentTense",in:null,to:null,is:"PresentTense",by:"PresentTense"}),beforeTags:HT(Qg["Noun|Verb"].beforeTags,{Conjunction:"PresentTense",Noun:void 0,ProperNoun:"PresentTense"}),afterTags:HT(Qg["Noun|Verb"].afterTags,{Gerund:"Plural",Noun:"PresentTense",Value:"PresentTense"})};const vwe=Qg,yn="Adjective",vi="Infinitive",Gh="PresentTense",kt="Singular",bi="PastTense",Jg="Adverb",vo="Plural",gr="Actor",$T="Verb",Ki="Noun",Sa="LastName",Pa="Place",Ex="Participle",bwe=[null,null,{ea:kt,ia:Ki,ic:yn,ly:Jg,"'n":$T,"'t":$T},{oed:bi,ued:bi,xed:bi," so":Jg,"'ll":"Modal","'re":"Copula",azy:yn,eer:Ki,end:$T,ped:bi,ffy:yn,ify:vi,ing:"Gerund",ize:vi,ibe:vi,lar:yn,mum:yn,nes:Gh,nny:yn,ous:yn,que:yn,ger:Ki,ber:Ki,rol:kt,sis:kt,ogy:kt,oid:kt,ian:kt,zes:Gh,eld:bi,ken:Ex,ven:Ex,ten:Ex,ect:vi,ict:vi,ign:vi,oze:vi,ful:yn,bal:yn,ton:Ki},{amed:bi,aped:bi,ched:bi,lked:bi,rked:bi,reed:bi,nded:bi,mned:yn,cted:bi,dged:bi,ield:kt,akis:Sa,cede:vi,chuk:Sa,czyk:Sa,ects:Gh,iend:kt,ends:$T,enko:Sa,ette:kt,iary:kt,wner:kt,fies:Gh,fore:Jg,gate:vi,gone:yn,ices:vo,ints:vo,ruct:vi,ines:vo,ions:vo,ners:vo,pers:vo,lers:vo,less:yn,llen:yn,made:yn,nsen:Sa,oses:Gh,ould:"Modal",some:yn,sson:Sa,ians:vo,tion:kt,tage:Ki,ique:kt,tive:yn,tors:Ki,vice:kt,lier:kt,fier:kt,wned:bi,gent:kt,tist:gr,pist:gr,rist:gr,mist:gr,yist:gr,vist:gr,ists:gr,lite:kt,site:kt,rite:kt,mite:kt,bite:kt,mate:kt,date:kt,ndal:kt,vent:kt,uist:gr,gist:gr,note:kt,cide:kt,ence:kt,wide:yn,vide:vi,ract:vi,duce:vi,pose:vi,eive:vi,lyze:vi,lyse:vi,iant:yn,nary:yn,ghty:yn,uent:yn,erer:gr,bury:Pa,dorf:Ki,esty:Ki,wych:Pa,dale:Pa,folk:Pa},{elist:gr,holic:kt,phite:kt,tized:bi,urned:bi,eased:bi,ances:vo,bound:yn,ettes:vo,fully:Jg,ishes:Gh,ities:vo,marek:Sa,nssen:Sa,ology:Ki,osome:kt,tment:kt,ports:vo,rough:yn,tches:Gh,tieth:"Ordinal",tures:vo,wards:Jg,where:Jg,archy:Ki,pathy:Ki,opoly:Ki,embly:Ki,phate:Ki,ndent:kt,scent:kt,onist:gr,anist:gr,alist:gr,olist:gr,icist:gr,ounce:vi,iable:yn,borne:yn,gnant:yn,inant:yn,igent:yn,atory:yn,rient:kt,dient:kt,maker:gr,burgh:Pa,mouth:Pa,ceter:Pa,ville:Pa,worth:Ki},{auskas:Sa,parent:kt,cedent:kt,ionary:kt,cklist:kt,keeper:gr,logist:gr,teenth:"Value",worker:gr,master:gr,writer:gr,brough:Pa,cester:Pa},{logists:gr,opoulos:Sa,borough:Pa,sdottir:Sa}],bo="Adjective",An="Noun",o0="Verb",wwe=[null,null,{},{neo:An,bio:An,"de-":o0,"re-":o0,"un-":o0,"ex-":An},{anti:An,auto:An,faux:bo,hexa:An,kilo:An,mono:An,nano:An,octa:An,poly:An,semi:bo,tele:An,"pro-":bo,"mis-":o0,"dis-":o0,"pre-":bo},{anglo:An,centi:An,ethno:An,ferro:An,grand:An,hepta:An,hydro:An,intro:An,macro:An,micro:An,milli:An,nitro:An,penta:An,quasi:bo,radio:An,tetra:An,"omni-":bo,"post-":bo},{pseudo:bo,"extra-":bo,"hyper-":bo,"inter-":bo,"intra-":bo,"deca-":bo},{electro:An}],sr="Adjective",GT="Infinitive",zT="PresentTense",Tl="Singular",bs="PastTense",Al="Expression",qT="LastName",Ewe={a:[[/.[aeiou]na$/,"Noun","tuna"],[/.[oau][wvl]ska$/,qT],[/.[^aeiou]ica$/,Tl,"harmonica"],[/^([hyj]a+)+$/,Al,"haha"]],c:[[/.[^aeiou]ic$/,sr]],d:[[/[aeiou](pp|ll|ss|ff|gg|tt|rr|bb|nn|mm)ed$/,bs,"popped"],[/.[aeo]{2}[bdgmnprvz]ed$/,bs,"rammed"],[/.[aeiou][sg]hed$/,bs,"gushed"],[/.[aeiou]red$/,bs,"hired"],[/.[aeiou]r?ried$/,bs,"hurried"],[/[^aeiou]ard$/,Tl,"steward"],[/[aeiou][^aeiou]id$/,sr,""],[/.[vrl]id$/,sr,"livid"],[/..led$/,bs,"hurled"],[/.[iao]sed$/,bs,""],[/[aeiou]n?[cs]ed$/,bs,""],[/[aeiou][rl]?[mnf]ed$/,bs,""],[/[aeiou][ns]?c?ked$/,bs,"bunked"],[/[aeiou]gned$/,bs],[/[aeiou][nl]?ged$/,bs],[/.[tdbwxyz]ed$/,bs],[/[^aeiou][aeiou][tvx]ed$/,bs],[/.[cdflmnprstv]ied$/,bs,"emptied"]],e:[[/.[lnr]ize$/,GT,"antagonize"],[/.[^aeiou]ise$/,GT,"antagonise"],[/.[aeiou]te$/,GT,"bite"],[/.[^aeiou][ai]ble$/,sr,"fixable"],[/.[^aeiou]eable$/,sr,"maleable"],[/.[ts]ive$/,sr,"festive"],[/[a-z]-like$/,sr,"woman-like"]],h:[[/.[^aeiouf]ish$/,sr,"cornish"],[/.v[iy]ch$/,qT,"..ovich"],[/^ug?h+$/,Al,"ughh"],[/^uh[ -]?oh$/,Al,"uhoh"],[/[a-z]-ish$/,sr,"cartoon-ish"]],i:[[/.[oau][wvl]ski$/,qT,"polish-male"]],k:[[/^(k){2}$/,Al,"kkkk"]],l:[[/.[gl]ial$/,sr,"familial"],[/.[^aeiou]ful$/,sr,"fitful"],[/.[nrtumcd]al$/,sr,"natal"],[/.[^aeiou][ei]al$/,sr,"familial"]],m:[[/.[^aeiou]ium$/,Tl,"magnesium"],[/[^aeiou]ism$/,Tl,"schism"],[/^[hu]m+$/,Al,"hmm"],[/^\d+ ?[ap]m$/,"Date","3am"]],n:[[/.[lsrnpb]ian$/,sr,"republican"],[/[^aeiou]ician$/,"Actor","musician"],[/[aeiou][ktrp]in'$/,"Gerund","cookin'"]],o:[[/^no+$/,Al,"noooo"],[/^(yo)+$/,Al,"yoo"],[/^wo{2,}[pt]?$/,Al,"woop"]],r:[[/.[bdfklmst]ler$/,"Noun"],[/[aeiou][pns]er$/,Tl],[/[^i]fer$/,GT],[/.[^aeiou][ao]pher$/,"Actor"],[/.[lk]er$/,"Noun"],[/.ier$/,"Comparative"]],t:[[/.[di]est$/,"Superlative"],[/.[icldtgrv]ent$/,sr],[/[aeiou].*ist$/,sr],[/^[a-z]et$/,"Verb"]],s:[[/.[^aeiou]ises$/,zT],[/.[rln]ates$/,zT],[/.[^z]ens$/,"Verb"],[/.[lstrn]us$/,Tl],[/.[aeiou]sks$/,zT],[/.[aeiou]kes$/,zT],[/[aeiou][^aeiou]is$/,Tl],[/[a-z]'s$/,"Noun"],[/^yes+$/,Al]],v:[[/.[^aeiou][ai][kln]ov$/,qT]],y:[[/.[cts]hy$/,sr],[/.[st]ty$/,sr],[/.[tnl]ary$/,sr],[/.[oe]ry$/,Tl],[/[rdntkbhs]ly$/,"Adverb"],[/.(gg|bb|zz)ly$/,sr],[/...lly$/,"Adverb"],[/.[gk]y$/,sr],[/[bszmp]{2}y$/,sr],[/.[ai]my$/,sr],[/[ea]{2}zy$/,sr],[/.[^aeiou]ity$/,Tl]]},Qi="Verb",Un="Noun",Iwe={leftTags:[["Adjective",Un],["Possessive",Un],["Determiner",Un],["Adverb",Qi],["Pronoun",Qi],["Value",Un],["Ordinal",Un],["Modal",Qi],["Superlative",Un],["Demonym",Un],["Honorific","Person"]],leftWords:[["i",Qi],["first",Un],["it",Qi],["there",Qi],["not",Qi],["because",Un],["if",Un],["but",Un],["who",Qi],["this",Un],["his",Un],["when",Un],["you",Qi],["very","Adjective"],["old",Un],["never",Qi],["before",Un],["a",Un],["the",Un],["been",Qi]],rightTags:[["Copula",Un],["PastTense",Un],["Conjunction",Un],["Modal",Un]],rightWords:[["there",Qi],["me",Qi],["man","Adjective"],["him",Qi],["it",Qi],["were",Un],["took",Un],["himself",Qi],["went",Un],["who",Un],["jr","Person"]]},vq=/^([0-9]+)/,WT=function(t){let e=function(t){let e={};return t.split("\xa6").forEach(n=>{let[r,i]=n.split(":");i=(i||"").split(","),i.forEach(s=>{e[s]=r})}),e}(t);return Object.keys(e).reduce((n,r)=>(n[r]=function(t="",e=""){let n=(e=String(e)).match(vq);if(null===n)return e;let r=Number(n[1])||0;return t.substring(0,r)+e.replace(vq,"")}(r,e[r]),n),{})},qh=function(t={}){return"string"==typeof t&&(t=JSON.parse(t)),t.fwd=WT(t.fwd||""),t.both=WT(t.both||""),t.rev=WT(t.rev||""),t.ex=WT(t.ex||""),t},bq=function(t){return Object.entries(t).reduce((e,n)=>(e[n[1]]=n[0],e),{})},Yg=function(t={}){return{reversed:!0,both:bq(t.both),ex:bq(t.ex),fwd:t.rev||{}}},wq=qh({fwd:"1:tted,wed,gged,nned,een,rred,pped,yed,bbed,oed,dded,rd,wn,mmed\xa62:eed,nded,et,hted,st,oled,ut,emed,eled,lded,ken,rt,nked,apt,ant,eped,eked\xa63:eared,eat,eaded,nelled,ealt,eeded,ooted,eaked,eaned,eeted,mited,bid,uit,ead,uited,ealed,geted,velled,ialed,belled\xa64:ebuted,hined,comed\xa6y:ied\xa6ome:ame\xa6ear:ore\xa6ind:ound\xa6ing:ung,ang\xa6ep:pt\xa6ink:ank,unk\xa6ig:ug\xa6all:ell\xa6ee:aw\xa6ive:ave\xa6eeze:oze\xa6old:eld\xa6ave:ft\xa6ake:ook\xa6ell:old\xa6ite:ote\xa6ide:ode\xa6ine:one\xa6in:un,on\xa6eal:ole\xa6im:am\xa6ie:ay\xa6and:ood\xa61ise:rose\xa61eak:roke\xa61ing:rought\xa61ive:rove\xa61el:elt\xa61id:bade\xa61et:got\xa61y:aid\xa61it:sat\xa63e:lid\xa63d:pent",both:"1:aed,fed,xed,hed\xa62:sged,xted,wled,rped,lked,kied,lmed,lped,uped,bted,rbed,rked,wned,rled,mped,fted,mned,mbed,zzed,omed,ened,cked,gned,lted,sked,ued,zed,nted,ered,rted,rmed,ced,sted,rned,ssed,rded,pted,ved,cted\xa63:cled,eined,siped,ooned,uked,ymed,jored,ouded,ioted,oaned,lged,asped,iged,mured,oided,eiled,yped,taled,moned,yled,lit,kled,oaked,gled,naled,fled,uined,oared,valled,koned,soned,aided,obed,ibed,meted,nicked,rored,micked,keted,vred,ooped,oaded,rited,aired,auled,filled,ouled,ooded,ceted,tolled,oited,bited,aped,tled,vored,dled,eamed,nsed,rsed,sited,owded,pled,sored,rged,osed,pelled,oured,psed,oated,loned,aimed,illed,eured,tred,ioned,celled,bled,wsed,ooked,oiled,itzed,iked,iased,onged,ased,ailed,uned,umed,ained,auded,nulled,ysed,eged,ised,aged,oined,ated,used,dged,doned\xa64:ntied,efited,uaked,caded,fired,roped,halled,roked,himed,culed,tared,lared,tuted,uared,routed,pited,naked,miled,houted,helled,hared,cored,caled,tired,peated,futed,ciled,called,tined,moted,filed,sided,poned,iloted,honed,lleted,huted,ruled,cured,named,preted,vaded,sured,talled,haled,peded,gined,nited,uided,ramed,feited,laked,gured,ctored,unged,pired,cuted,voked,eloped,ralled,rined,coded,icited,vided,uaded,voted,mined,sired,noted,lined,nselled,luted,jured,fided,puted,piled,pared,olored,cided,hoked,enged,tured,geoned,cotted,lamed,uiled,waited,udited,anged,luded,mired,uired,raded\xa65:modelled,izzled,eleted,umpeted,ailored,rseded,treated,eduled,ecited,rammed,eceded,atrolled,nitored,basted,twined,itialled,ncited,gnored,ploded,xcited,nrolled,namelled,plored,efeated,redited,ntrolled,nfined,pleted,llided,lcined,eathed,ibuted,lloted,dhered,cceded\xa63ad:sled\xa62aw:drew\xa62ot:hot\xa62ke:made\xa62ow:hrew,grew\xa62ose:hose\xa62d:ilt\xa62in:egan\xa61un:ran\xa61ink:hought\xa61ick:tuck\xa61ike:ruck\xa61eak:poke,nuck\xa61it:pat\xa61o:did\xa61ow:new\xa61ake:woke\xa6go:went",rev:"3:rst,hed,hut,cut,set\xa64:tbid\xa65:dcast,eread,pread,erbid\xa6ought:uy,eek\xa61ied:ny,ly,dy,ry,fy,py,vy,by,ty,cy\xa61ung:ling,ting,wing\xa61pt:eep\xa61ank:rink\xa61ore:bear,wear\xa61ave:give\xa61oze:reeze\xa61ound:rind,wind\xa61ook:take,hake\xa61aw:see\xa61old:sell\xa61ote:rite\xa61ole:teal\xa61unk:tink\xa61am:wim\xa61ay:lie\xa61ood:tand\xa61eld:hold\xa62d:he,ge,re,le,leed,ne,reed,be,ye,lee,pe,we\xa62ed:dd,oy,or,ey,gg,rr,us,ew,to\xa62ame:ecome,rcome\xa62ped:ap\xa62ged:ag,og,ug,eg\xa62bed:ub,ab,ib,ob\xa62lt:neel\xa62id:pay\xa62ang:pring\xa62ove:trive\xa62med:um\xa62ode:rride\xa62at:ysit\xa63ted:mit,hat,mat,lat,pot,rot,bat\xa63ed:low,end,tow,und,ond,eem,lay,cho,dow,xit,eld,ald,uld,law,lel,eat,oll,ray,ank,fin,oam,out,how,iek,tay,haw,ait,vet,say,cay,bow\xa63d:ste,ede,ode,ete,ree,ude,ame,oke,ote,ime,ute,ade\xa63red:lur,cur,pur,car\xa63ped:hop,rop,uip,rip,lip,tep,top\xa63ded:bed,rod,kid\xa63ade:orbid\xa63led:uel\xa63ned:lan,can,kin,pan,tun\xa63med:rim,lim\xa64ted:quit,llot\xa64ed:pear,rrow,rand,lean,mand,anel,pand,reet,link,abel,evel,imit,ceed,ruit,mind,peal,veal,hool,head,pell,well,mell,uell,band,hear,weak\xa64led:nnel,qual,ebel,ivel\xa64red:nfer,efer,sfer\xa64n:sake,trew\xa64d:ntee\xa64ded:hred\xa64ned:rpin\xa65ed:light,nceal,right,ndear,arget,hread,eight,rtial,eboot\xa65d:edite,nvite\xa65ted:egret\xa65led:ravel",ex:"2:been,upped\xa63:added,aged,aided,aimed,aired,bid,died,dyed,egged,erred,eyed,fit,gassed,hit,lied,owed,pent,pied,tied,used,vied,oiled,outed,banned,barred,bet,canned,cut,dipped,donned,ended,feed,inked,jarred,let,manned,mowed,netted,padded,panned,pitted,popped,potted,put,set,sewn,sowed,tanned,tipped,topped,vowed,weed,bowed,jammed,binned,dimmed,hopped,mopped,nodded,pinned,rigged,sinned,towed,vetted\xa64:ached,baked,baled,boned,bored,called,caned,cared,ceded,cited,coded,cored,cubed,cured,dared,dined,edited,exited,faked,fared,filed,fined,fired,fuelled,gamed,gelled,hired,hoped,joked,lined,mined,named,noted,piled,poked,polled,pored,pulled,reaped,roamed,rolled,ruled,seated,shed,sided,timed,tolled,toned,voted,waited,walled,waned,winged,wiped,wired,zoned,yelled,tamed,lubed,roped,faded,mired,caked,honed,banged,culled,heated,raked,welled,banded,beat,cast,cooled,cost,dealt,feared,folded,footed,handed,headed,heard,hurt,knitted,landed,leaked,leapt,linked,meant,minded,molded,neared,needed,peaked,plodded,plotted,pooled,quit,read,rooted,sealed,seeded,seeped,shipped,shunned,skimmed,slammed,sparred,stemmed,stirred,suited,thinned,twinned,swayed,winked,dialed,abutted,blotted,fretted,healed,heeded,peeled,reeled\xa65:basted,cheated,equalled,eroded,exiled,focused,opined,pleated,primed,quoted,scouted,shored,sloped,smoked,sniped,spelled,spouted,routed,staked,stored,swelled,tasted,treated,wasted,smelled,dwelled,honored,prided,quelled,eloped,scared,coveted,sweated,breaded,cleared,debuted,deterred,freaked,modeled,pleaded,rebutted,speeded\xa66:anchored,defined,endured,impaled,invited,refined,revered,strolled,cringed,recast,thrust,unfolded\xa67:authored,combined,competed,conceded,convened,excreted,extruded,redefined,restored,secreted,rescinded,welcomed\xa68:expedited,infringed\xa69:interfered,intervened,persevered\xa610:contravened\xa6eat:ate\xa6is:was\xa6go:went\xa6are:were\xa63d:bent,lent,rent,sent\xa63e:bit,fled,hid,lost\xa63ed:bled,bred\xa62ow:blew,grew\xa61uy:bought\xa62tch:caught\xa61o:did\xa61ive:dove,gave\xa62aw:drew\xa62ed:fed\xa62y:flew,laid,paid,said\xa61ight:fought\xa61et:got\xa62ve:had\xa61ang:hung\xa62ad:led\xa62ght:lit\xa62ke:made\xa62et:met\xa61un:ran\xa61ise:rose\xa61it:sat\xa61eek:sought\xa61each:taught\xa61ake:woke,took\xa61eave:wove\xa62ise:arose\xa61ear:bore,tore,wore\xa61ind:bound,found,wound\xa62eak:broke\xa62ing:brought,wrung\xa61ome:came\xa62ive:drove\xa61ig:dug\xa61all:fell\xa62el:felt\xa64et:forgot\xa61old:held\xa62ave:left\xa61ing:rang,sang\xa61ide:rode\xa61ink:sank\xa61ee:saw\xa62ine:shone\xa64e:slid\xa61ell:sold,told\xa64d:spent\xa62in:spun\xa61in:won"}),Eq=qh({fwd:"1:oes\xa61ve:as",both:"1:xes\xa62:zzes,ches,shes,sses\xa63:iases\xa62y:llies,plies\xa61y:cies,bies,ties,vies,nies,pies,dies,ries,fies\xa6:s",rev:"1ies:ly\xa62es:us,go,do\xa63es:cho,eto",ex:"2:does,goes\xa63:gasses\xa65:focuses\xa6is:are\xa63y:relies\xa62y:flies\xa62ve:has"}),Iq=qh({fwd:"1:nning,tting,rring,pping,eing,mming,gging,dding,bbing,kking\xa62:eking,oling,eling,eming\xa63:velling,siting,uiting,fiting,loting,geting,ialing,celling\xa64:graming",both:"1:aing,iing,fing,xing,ying,oing,hing,wing\xa62:tzing,rping,izzing,bting,mning,sping,wling,rling,wding,rbing,uping,lming,wning,mping,oning,lting,mbing,lking,fting,hting,sking,gning,pting,cking,ening,nking,iling,eping,ering,rting,rming,cting,lping,ssing,nting,nding,lding,sting,rning,rding,rking\xa63:belling,siping,toming,yaking,uaking,oaning,auling,ooping,aiding,naping,euring,tolling,uzzing,ganing,haning,ualing,halling,iasing,auding,ieting,ceting,ouling,voring,ralling,garing,joring,oaming,oaking,roring,nelling,ooring,uelling,eaming,ooding,eaping,eeting,ooting,ooming,xiting,keting,ooking,ulling,airing,oaring,biting,outing,oiting,earing,naling,oading,eeding,ouring,eaking,aiming,illing,oining,eaning,onging,ealing,aining,eading\xa64:thoming,melling,aboring,ivoting,weating,dfilling,onoring,eriting,imiting,tialling,rgining,otoring,linging,winging,lleting,louding,spelling,mpelling,heating,feating,opelling,choring,welling,ymaking,ctoring,calling,peating,iloring,laiting,utoring,uditing,mmaking,loating,iciting,waiting,mbating,voiding,otalling,nsoring,nselling,ocusing,itoring,eloping\xa65:rselling,umpeting,atrolling,treating,tselling,rpreting,pringing,ummeting,ossoming,elmaking,eselling,rediting,totyping,onmaking,rfeiting,ntrolling\xa65e:chmaking,dkeeping,severing,erouting,ecreting,ephoning,uthoring,ravening,reathing,pediting,erfering,eotyping,fringing,entoring,ombining,ompeting\xa64e:emaking,eething,twining,rruling,chuting,xciting,rseding,scoping,edoring,pinging,lunging,agining,craping,pleting,eleting,nciting,nfining,ncoding,tponing,ecoding,writing,esaling,nvening,gnoring,evoting,mpeding,rvening,dhering,mpiling,storing,nviting,ploring\xa63e:tining,nuring,saking,miring,haling,ceding,xuding,rining,nuting,laring,caring,miling,riding,hoking,piring,lading,curing,uading,noting,taping,futing,paring,hading,loding,siring,guring,vading,voking,during,niting,laning,caping,luting,muting,ruding,ciding,juring,laming,caling,hining,uoting,liding,ciling,duling,tuting,puting,cuting,coring,uiding,tiring,turing,siding,rading,enging,haping,buting,lining,taking,anging,haring,uiring,coming,mining,moting,suring,viding,luding\xa62e:tring,zling,uging,oging,gling,iging,vring,fling,lging,obing,psing,pling,ubing,cling,dling,wsing,iking,rsing,dging,kling,ysing,tling,rging,eging,nsing,uning,osing,uming,using,ibing,bling,aging,ising,asing,ating\xa62ie:rlying\xa61e:zing,uing,cing,ving",rev:"ying:ie\xa61ing:se,ke,te,we,ne,re,de,pe,me,le,c,he\xa62ing:ll,ng,dd,ee,ye,oe,rg,us\xa62ning:un\xa62ging:og,ag,ug,ig,eg\xa62ming:um\xa62bing:ub,ab,eb,ob\xa63ning:lan,can,hin,pin,win\xa63ring:cur,lur,tir,tar,pur,car\xa63ing:ait,del,eel,fin,eat,oat,eem,lel,ool,ein,uin\xa63ping:rop,rap,top,uip,wap,hip,hop,lap,rip,cap\xa63ming:tem,wim,rim,kim,lim\xa63ting:mat,cut,pot,lit,lot,hat,set,pit,put\xa63ding:hed,bed,bid\xa63king:rek\xa63ling:cil,pel\xa63bing:rib\xa64ning:egin\xa64ing:isit,ruit,ilot,nsit,dget,rkel,ival,rcel\xa64ring:efer,nfer\xa64ting:rmit,mmit,ysit,dmit,emit,bmit,tfit,gret\xa64ling:evel,xcel,ivel\xa64ding:hred\xa65ing:arget,posit,rofit\xa65ring:nsfer\xa65ting:nsmit,orget,cquit\xa65ling:ancel,istil",ex:"3:adding,eating,aiming,aiding,airing,outing,gassing,setting,getting,putting,cutting,winning,sitting,betting,mapping,tapping,letting,bidding,hitting,tanning,netting,popping,fitting,capping,lapping,barring,banning,vetting,topping,rotting,tipping,potting,wetting,pitting,dipping,budding,hemming,pinning,jetting,kidding,padding,podding,sipping,wedding,bedding,donning,warring,penning,gutting,cueing,wadding,petting,ripping,napping,matting,tinning,binning,dimming,hopping,mopping,nodding,panning,rapping,ridding,sinning\xa64:selling,falling,calling,waiting,editing,telling,rolling,heating,boating,hanging,beating,coating,singing,tolling,felling,polling,discing,seating,voiding,gelling,yelling,baiting,reining,ruining,seeking,spanning,stepping,knitting,emitting,slipping,quitting,dialing,omitting,clipping,shutting,skinning,abutting,flipping,trotting,cramming,fretting,suiting\xa65:bringing,treating,spelling,stalling,trolling,expelling,rivaling,wringing,deterring,singeing,befitting,refitting\xa66:enrolling,distilling,scrolling,strolling,caucusing,travelling\xa67:installing,redefining,stencilling,recharging,overeating,benefiting,unraveling,programing\xa69:reprogramming\xa6is:being\xa62e:using,aging,owing\xa63e:making,taking,coming,noting,hiring,filing,coding,citing,doping,baking,coping,hoping,lading,caring,naming,voting,riding,mining,curing,lining,ruling,typing,boring,dining,firing,hiding,piling,taping,waning,baling,boning,faring,honing,wiping,luring,timing,wading,piping,fading,biting,zoning,daring,waking,gaming,raking,ceding,tiring,coking,wining,joking,paring,gaping,poking,pining,coring,liming,toting,roping,wiring,aching\xa64e:writing,storing,eroding,framing,smoking,tasting,wasting,phoning,shaking,abiding,braking,flaking,pasting,priming,shoring,sloping,withing,hinging\xa65e:defining,refining,renaming,swathing,fringing,reciting\xa61ie:dying,tying,lying,vying\xa67e:sunbathing"}),Tq=qh({fwd:"1:mt\xa62:llen\xa63:iven,aken\xa6:ne\xa6y:in",both:"1:wn\xa62:me,aten\xa63:seen,bidden,isen\xa64:roven,asten\xa63l:pilt\xa63d:uilt\xa62e:itten\xa61im:wum\xa61eak:poken\xa61ine:hone\xa61ose:osen\xa61in:gun\xa61ake:woken\xa6ear:orn\xa6eal:olen\xa6eeze:ozen\xa6et:otten\xa6ink:unk\xa6ing:ung",rev:"2:un\xa6oken:eak\xa6ought:eek\xa6oven:eave\xa61ne:o\xa61own:ly\xa61den:de\xa61in:ay\xa62t:am\xa62n:ee\xa63en:all\xa64n:rive,sake,take\xa65n:rgive",ex:"2:been\xa63:seen,run\xa64:given,taken\xa65:shaken\xa62eak:broken\xa61ive:dove\xa62y:flown\xa63e:hidden,ridden\xa61eek:sought\xa61ake:woken\xa61eave:woven"}),Cwe=Yg(wq),Dwe=Yg(Eq),Swe=Yg(Iq),Pwe=Yg(Tq),Aq=qh({fwd:"3:ser,ier\xa61er:h,t,f,l,n\xa61r:e\xa62er:ss,or,om",both:"3er:ver,ear,alm\xa63ner:hin\xa63ter:lat\xa62mer:im\xa62er:ng,rm,mb\xa62ber:ib\xa62ger:ig\xa61er:w,p,k,d\xa6ier:y",rev:"1:tter,yer\xa62:uer,ver,ffer,oner,eler,ller,iler,ster,cer,uler,sher,ener,gher,aner,adder,nter,eter,rter,hter,rner,fter\xa63:oser,ooler,eafer,user,airer,bler,maler,tler,eater,uger,rger,ainer,urer,ealer,icher,pler,emner,icter,nser,iser\xa64:arser,viner,ucher,rosser,somer,ndomer,moter,oother,uarer,hiter\xa65:nuiner,esser,emier\xa6ar:urther",ex:"worse:bad\xa6better:good\xa64er:fair,gray,poor\xa61urther:far\xa63ter:fat,hot,wet\xa63der:mad,sad\xa63er:shy,fun\xa64der:glad\xa6:\xa64r:cute,dire,fake,fine,free,lame,late,pale,rare,ripe,rude,safe,sore,tame,wide\xa65r:eerie,stale"}),Cq=qh({fwd:"1st:e\xa61est:l,m,f,s\xa61iest:cey\xa62est:or,ir\xa63est:ver",both:"4:east\xa65:hwest\xa65lest:erful\xa64est:weet,lgar,tter,oung\xa64most:uter\xa63est:ger,der,rey,iet,ong,ear\xa63test:lat\xa63most:ner\xa62est:pt,ft,nt,ct,rt,ht\xa62test:it\xa62gest:ig\xa61est:b,k,n,p,h,d,w\xa6iest:y",rev:"1:ttest,nnest,yest\xa62:sest,stest,rmest,cest,vest,lmest,olest,ilest,ulest,ssest,imest,uest\xa63:rgest,eatest,oorest,plest,allest,urest,iefest,uelest,blest,ugest,amest,yalest,ealest,illest,tlest,itest\xa64:cerest,eriest,somest,rmalest,ndomest,motest,uarest,tiffest\xa65:leverest,rangest\xa6ar:urthest\xa63ey:riciest",ex:"best:good\xa6worst:bad\xa65est:great\xa64est:fast,full,fair,dull\xa63test:hot,wet,fat\xa64nest:thin\xa61urthest:far\xa63est:gay,shy,ill\xa64test:neat\xa64st:late,wide,fine,safe,cute,fake,pale,rare,rude,sore,ripe,dire\xa66st:severe"}),Dq={fromPast:wq,fromPresent:Eq,fromGerund:Iq,fromParticiple:Tq,toPast:Cwe,toPresent:Dwe,toGerund:Swe,toParticiple:Pwe,toComparative:Aq,toSuperlative:Cq,fromComparative:Yg(Aq),fromSuperlative:Yg(Cq),adjToNoun:qh({fwd:"1:tistic,eable,lful,sful,ting,tty\xa62:onate,rtable,geous,ced,seful,ctful\xa63:ortive,ented\xa6arity:ear\xa6y:etic\xa6fulness:begone\xa61ity:re\xa61y:tiful,gic\xa62ity:ile,imous,ilous,ime\xa62ion:ated\xa62eness:iving\xa62y:trious\xa62ation:iring\xa62tion:vant\xa63ion:ect\xa63ce:mant,mantic\xa63tion:irable\xa63y:est,estic\xa63m:mistic,listic\xa63ess:ning\xa64n:utious\xa64on:rative,native,vative,ective\xa64ce:erant",both:"1:king,wing\xa62:alous,ltuous,oyful,rdous\xa63:gorous,ectable,werful,amatic\xa64:oised,usical,agical,raceful,ocused,lined,ightful\xa65ness:stful,lding,itous,nuous,ulous,otous,nable,gious,ayful,rvous,ntous,lsive,peful,entle,ciful,osive,leful,isive,ncise,reful,mious\xa65ty:ivacious\xa65ties:ubtle\xa65ce:ilient,adiant,atient\xa65cy:icient\xa65sm:gmatic\xa65on:sessive,dictive\xa65ity:pular,sonal,eative,entic\xa65sity:uminous\xa65ism:conic\xa65nce:mperate\xa65ility:mitable\xa65ment:xcited\xa65n:bitious\xa64cy:brant,etent,curate\xa64ility:erable,acable,icable,ptable\xa64ty:nacious,aive,oyal,dacious\xa64n:icious\xa64ce:vient,erent,stent,ndent,dient,quent,ident\xa64ness:adic,ound,hing,pant,sant,oing,oist,tute\xa64icity:imple\xa64ment:fined,mused\xa64ism:otic\xa64ry:dantic\xa64ity:tund,eral\xa64edness:hand\xa64on:uitive\xa64lity:pitable\xa64sm:eroic,namic\xa64sity:nerous\xa63th:arm\xa63ility:pable,bable,dable,iable\xa63cy:hant,nant,icate\xa63ness:red,hin,nse,ict,iet,ite,oud,ind,ied,rce\xa63ion:lute\xa63ity:ual,gal,volous,ial\xa63ce:sent,fensive,lant,gant,gent,lent,dant\xa63on:asive\xa63m:fist,sistic,iastic\xa63y:terious,xurious,ronic,tastic\xa63ur:amorous\xa63e:tunate\xa63ation:mined\xa63sy:rteous\xa63ty:ain\xa63ry:ave\xa63ment:azed\xa62ness:de,on,ue,rn,ur,ft,rp,pe,om,ge,rd,od,ay,ss,er,ll,oy,ap,ht,ld,ad,rt\xa62inousness:umous\xa62ity:neous,ene,id,ane\xa62cy:bate,late\xa62ation:ized\xa62ility:oble,ible\xa62y:odic\xa62e:oving,aring\xa62s:ost\xa62itude:pt\xa62dom:ee\xa62ance:uring\xa62tion:reet\xa62ion:oted\xa62sion:ending\xa62liness:an\xa62or:rdent\xa61th:ung\xa61e:uable\xa61ness:w,h,k,f\xa61ility:mble\xa61or:vent\xa61ement:ging\xa61tiquity:ncient\xa61ment:hed\xa6verty:or\xa6ength:ong\xa6eat:ot\xa6pth:ep\xa6iness:y",rev:"",ex:"5:forceful,humorous\xa68:charismatic\xa613:understanding\xa65ity:active\xa611ness:adventurous,inquisitive,resourceful\xa68on:aggressive,automatic,perceptive\xa67ness:amorous,fatuous,furtive,ominous,serious\xa65ness:ample,sweet\xa612ness:apprehensive,cantankerous,contemptuous,ostentatious\xa613ness:argumentative,conscientious\xa69ness:assertive,facetious,imperious,inventive,oblivious,rapacious,receptive,seditious,whimsical\xa610ness:attractive,expressive,impressive,loquacious,salubrious,thoughtful\xa63edom:boring\xa64ness:calm,fast,keen,tame\xa68ness:cheerful,gracious,specious,spurious,timorous,unctuous\xa65sity:curious\xa69ion:deliberate\xa68ion:desperate\xa66e:expensive\xa67ce:fragrant\xa63y:furious\xa69ility:ineluctable\xa66ism:mystical\xa68ity:physical,proactive,sensitive,vertical\xa65cy:pliant\xa67ity:positive\xa69ity:practical\xa612ism:professional\xa66ce:prudent\xa63ness:red\xa66cy:vagrant\xa63dom:wise"})},Mwe=[[new RegExp("^#[\\p{Number}_]*\\p{Letter}","u"),"HashTag"],[/^@\w{2,}$/,"AtMention"],[/^([A-Z]\.){2}[A-Z]?/i,["Acronym","Noun"],"F.B.I"],[/.{3}[lkmnp]in['\u2018\u2019\u201b\u2035\u2032`\xb4]$/,"Gerund","chillin'"],[/.{4}s['\u2018\u2019\u201b\u2035\u2032`\xb4]$/,"Possessive","flanders'"],[/^[\p{Emoji_Presentation}\p{Extended_Pictographic}]/u,"Emoji","emoji-class"]],Owe=[[/^@1?[0-9](am|pm)$/i,"Time","3pm"],[/^@1?[0-9]:[0-9]{2}(am|pm)?$/i,"Time","3:30pm"],[/^'[0-9]{2}$/,"Year"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])$/,"Time","3:12:31"],[/^[012]?[0-9](:[0-5][0-9])?(:[0-5][0-9])? ?(am|pm)$/i,"Time","1:12pm"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])? ?(am|pm)?$/i,"Time","1:12:31pm"],[/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}/i,"Date","iso-date"],[/^[0-9]{1,4}-[0-9]{1,2}-[0-9]{1,4}$/,"Date","iso-dash"],[/^[0-9]{1,4}\/[0-9]{1,2}\/([0-9]{4}|[0-9]{2})$/,"Date","iso-slash"],[/^[0-9]{1,4}\.[0-9]{1,2}\.[0-9]{1,4}$/,"Date","iso-dot"],[/^[0-9]{1,4}-[a-z]{2,9}-[0-9]{1,4}$/i,"Date","12-dec-2019"],[/^utc ?[+-]?[0-9]+$/,"Timezone","utc-9"],[/^(gmt|utc)[+-][0-9]{1,2}$/i,"Timezone","gmt-3"],[/^[0-9]{3}-[0-9]{4}$/,"PhoneNumber","421-0029"],[/^(\+?[0-9][ -])?[0-9]{3}[ -]?[0-9]{3}-[0-9]{4}$/,"PhoneNumber","1-800-"],[new RegExp("^[-+]?\\p{Currency_Symbol}[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?([kmb]|bn)?\\+?$","u"),["Money","Value"],"$5.30"],[new RegExp("^[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?\\p{Currency_Symbol}\\+?$","u"),["Money","Value"],"5.30\xa3"],[/^[-+]?[$\xa3]?[0-9]([0-9,.])+(usd|eur|jpy|gbp|cad|aud|chf|cny|hkd|nzd|kr|rub)$/i,["Money","Value"],"$400usd"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?\+?$/,["Cardinal","NumericValue"],"5,999"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?(st|nd|rd|r?th)$/,["Ordinal","NumericValue"],"53rd"],[/^\.[0-9]+\+?$/,["Cardinal","NumericValue"],".73th"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?%\+?$/,["Percent","Cardinal","NumericValue"],"-4%"],[/^\.[0-9]+%$/,["Percent","Cardinal","NumericValue"],".3%"],[/^[0-9]{1,4}\/[0-9]{1,4}(st|nd|rd|th)?s?$/,["Fraction","NumericValue"],"2/3rds"],[/^[0-9.]{1,3}[a-z]{0,2}[-\u2013\u2014][0-9]{1,3}[a-z]{0,2}$/,["Value","NumberRange"],"3-4"],[/^[0-9]{1,2}(:[0-9][0-9])?(am|pm)? ?[-\u2013\u2014] ?[0-9]{1,2}(:[0-9][0-9])?(am|pm)$/,["Time","NumberRange"],"3-4pm"],[/^[0-9.]+([a-z\xb0]{1,4})$/,"NumericValue","9km"]],Fwe=["academy","administration","agence","agences","agencies","agency","airlines","airways","army","assoc","associates","association","assurance","authority","autorite","aviation","bank","banque","board","boys","brands","brewery","brotherhood","brothers","bureau","cafe","co","caisse","capital","care","cathedral","center","centre","chemicals","choir","chronicle","church","circus","clinic","clinique","club","co","coalition","coffee","collective","college","commission","committee","communications","community","company","comprehensive","computers","confederation","conference","conseil","consulting","containers","corporation","corps","corp","council","crew","data","departement","department","departments","design","development","directorate","division","drilling","education","eglise","electric","electricity","energy","ensemble","enterprise","enterprises","entertainment","estate","etat","faculty","faction","federation","financial","fm","foundation","fund","gas","gazette","girls","government","group","guild","herald","holdings","hospital","hotel","hotels","inc","industries","institut","institute","institutes","insurance","international","interstate","investment","investments","investors","journal","laboratory","labs","llc","ltd","limited","machines","magazine","management","marine","marketing","markets","media","memorial","ministere","ministry","military","mobile","motor","motors","musee","museum","news","observatory","office","oil","optical","orchestra","organization","partners","partnership","petrol","petroleum","pharmacare","pharmaceutical","pharmaceuticals","pizza","plc","police","politburo","polytechnic","post","power","press","productions","quartet","radio","reserve","resources","restaurant","restaurants","savings","school","securities","service","services","societe","subsidiary","society","sons","subcommittee","syndicat","systems","telecommunications","telegraph","television","times","tribunal","tv","union","university","utilities","workers"].reduce((t,e)=>(t[e]=!0,t),{}),Vwe=["atoll","basin","bay","beach","bluff","bog","camp","canyon","canyons","cape","cave","caves","cliffs","coast","cove","coves","crater","creek","desert","dune","dunes","escarpment","estuary","falls","fjord","fjords","forest","forests","glacier","gorge","gorges","gulf","gully","highland","hill","hills","inlet","island","islands","isthmus","knoll","lagoon","lake","marsh","marshes","mount","mountain","mountains","narrows","peninsula","plains","plateau","pond","rapids","ravine","reef","reefs","ridge","river","rivers","sandhill","shoal","shore","shoreline","shores","strait","straits","stream","swamp","tombolo","trail","trails","trench","valley","vallies","volcano","waterfall","watershed","wetland","woods","burough","county","district","municipality","prefecture","province","region","reservation","state","territory","borough","metropolis","downtown","uptown","midtown","city","town","township","hamlet","country","kingdom","enclave","neighbourhood","neighborhood","kingdom","ward","zone","airport","amphitheater","arch","arena","auditorium","bar","barn","basilica","battlefield","bridge","building","castle","centre","coliseum","cineplex","complex","dam","farm","field","fort","garden","gardens","gymnasium","hall","house","levee","library","memorial","monument","museum","gallery","palace","pillar","pits","plantation","playhouse","quarry","sportsfield","sportsplex","stadium","terrace","terraces","theater","tower","park","parks","site","raceway","sportsplex","st","street","rd","road","crescent","cr","way","tr","terrace","avenue","ave"].reduce((t,e)=>(t[e]=!0,t),{}),KT=[[/([^v])ies$/i,"$1y"],[/(ise)s$/i,"$1"],[/(kn|[^o]l|w)ives$/i,"$1ife"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)ves$/i,"$1f"],[/^(dwar|handkerchie|hoo|scar|whar)ves$/i,"$1f"],[/(antenn|formul|nebul|vertebr|vit)ae$/i,"$1a"],[/(octop|vir|radi|nucle|fung|cact|stimul)(i)$/i,"$1us"],[/(buffal|tomat|tornad)(oes)$/i,"$1o"],[/(ause)s$/i,"$1"],[/(ease)s$/i,"$1"],[/(ious)es$/i,"$1"],[/(ouse)s$/i,"$1"],[/(ose)s$/i,"$1"],[/(..ase)s$/i,"$1"],[/(..[aeiu]s)es$/i,"$1"],[/(vert|ind|cort)(ices)$/i,"$1ex"],[/(matr|append)(ices)$/i,"$1ix"],[/([xo]|ch|ss|sh)es$/i,"$1"],[/men$/i,"man"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(cris|ax|test)es$/i,"$1is"],[/(alias|status)es$/i,"$1"],[/(ss)$/i,"$1"],[/(ic)s$/i,"$1"],[/s$/i,""]],Sq=function(t,e){const{irregularPlurals:n}=e.two;let r=function(t){return Object.keys(t).reduce((e,n)=>(e[t[n]]=n,e),{})}(n);if(r.hasOwnProperty(t))return r[t];for(let i=0;i<KT.length;i++)if(!0===KT[i][0].test(t))return t.replace(KT[i][0],KT[i][1]);return t},jwe={toPlural:VT,toSingular:Sq,all:function(t,e){let n=[t],r=VT(t,e);r!==t&&n.push(r);let i=Sq(t,e);return i!==t&&n.push(i),n}},wo=function(t="",e={}){let n=function(t,e={}){return e.hasOwnProperty(t)?e[t]:null}(t,e.ex);return n=n||function(t,e=[]){for(let n=0;n<e.length;n+=1)if(t.endsWith(e[n]))return t;return null}(t,e.same),n=n||function(t,e,n={}){e=e||{};for(let i=t.length-1;i>=1;i-=1){let s=t.length-i,o=t.substring(s,t.length);if(!0===e.hasOwnProperty(o))return t.slice(0,s)+e[o];if(!0===n.hasOwnProperty(o))return t.slice(0,s)+n[o]}return e.hasOwnProperty("")?t+=e[""]:n.hasOwnProperty("")?t+=n[""]:null}(t,e.fwd,e.both),n=n||t,n};let QT={Gerund:["ing"],Actor:["erer"],Infinitive:["ate","ize","tion","rify","then","ress","ify","age","nce","ect","ise","ine","ish","ace","ash","ure","tch","end","ack","and","ute","ade","ock","ite","ase","ose","use","ive","int","nge","lay","est","ain","ant","ent","eed","er","le","unk","ung","upt","en"],PastTense:["ept","ed","lt","nt","ew","ld"],PresentTense:["rks","cks","nks","ngs","mps","tes","zes","ers","les","acks","ends","ands","ocks","lays","eads","lls","els","ils","ows","nds","ays","ams","ars","ops","ffs","als","urs","lds","ews","ips","es","ts","ns"],Participle:["ken","wn"]};QT=Object.keys(QT).reduce((t,e)=>(QT[e].forEach(n=>t[n]=e),t),{});const JT=QT,Pq=function(t){let e=t.substring(t.length-3);if(!0===JT.hasOwnProperty(e))return JT[e];let n=t.substring(t.length-2);return!0===JT.hasOwnProperty(n)?JT[n]:"s"===t.substring(t.length-1)?"PresentTense":null},Nq={are:"be",were:"be",been:"be",is:"be",am:"be",was:"be",be:"be",being:"be"},Ix=function(t,e,n){const{fromPast:r,fromPresent:i,fromGerund:s,fromParticiple:o}=e.two.models;let{prefix:a,verb:u,particle:l}=function(t,e){let n="",r={};e.one&&e.one.prefixes&&(r=e.one.prefixes);let[i,s]=t.split(/ /);return s&&!0===r[i]&&(n=i,i=s,s=""),{prefix:n,verb:i,particle:s}}(t,e),d="";if(n||(n=Pq(t)),Nq.hasOwnProperty(t))d=Nq[t];else if("Participle"===n)d=wo(u,o);else if("PastTense"===n)d=wo(u,r);else if("PresentTense"===n)d=wo(u,i);else{if("Gerund"!==n)return t;d=wo(u,s)}return l&&(d+=" "+l),a&&(d=a+" "+d),d},Tx=function(t,e){const{toPast:n,toPresent:r,toGerund:i,toParticiple:s}=e.two.models;if("be"===t)return{Infinitive:t,Gerund:"being",PastTense:"was",PresentTense:"is"};let[o,a]=(t=>/ /.test(t)?t.split(/ /):[t,""])(t),u={Infinitive:o,PastTense:wo(o,n),PresentTense:wo(o,r),Gerund:wo(o,i),FutureTense:"will "+o},l=wo(o,s);if(l!==t&&l!==u.PastTense){let d=e.one.lexicon||{};("Participle"===d[l]||"Adjective"===d[l])&&("play"===t&&(l="played"),u.Participle=l)}return a&&Object.keys(u).forEach(d=>{u[d]+=" "+a}),u},zwe={toInfinitive:Ix,conjugate:Tx,all:function(t,e){let n=Tx(t,e);return delete n.FutureTense,Object.values(n).filter(r=>r)}},Ax=function(t,e){return wo(t,e.two.models.toSuperlative)},Cx=function(t,e){return wo(t,e.two.models.toComparative)},Rq=function(t="",e=[]){const n=t.length;for(let i=n<=6?n-1:6;i>=1;i-=1){let s=t.substring(n-i,t.length);if(!0===e[s.length].hasOwnProperty(s))return t.slice(0,n-i)+e[s.length][s]}return null},sn="ically",Qwe=new Set(["analyt"+sn,"chem"+sn,"class"+sn,"clin"+sn,"crit"+sn,"ecolog"+sn,"electr"+sn,"empir"+sn,"frant"+sn,"grammat"+sn,"ident"+sn,"ideolog"+sn,"log"+sn,"mag"+sn,"mathemat"+sn,"mechan"+sn,"med"+sn,"method"+sn,"method"+sn,"mus"+sn,"phys"+sn,"phys"+sn,"polit"+sn,"pract"+sn,"rad"+sn,"satir"+sn,"statist"+sn,"techn"+sn,"technolog"+sn,"theoret"+sn,"typ"+sn,"vert"+sn,"whims"+sn]),Jwe=[null,{},{ly:""},{ily:"y",bly:"ble",ply:"ple"},{ally:"al",rply:"rp"},{ually:"ual",ially:"ial",cally:"cal",eally:"eal",rally:"ral",nally:"nal",mally:"mal",eeply:"eep",eaply:"eap"},{ically:"ic"}],Ywe=new Set(["early","only","hourly","daily","weekly","monthly","yearly","mostly","duly","unduly","especially","undoubtedly","conversely","namely","exceedingly","presumably","accordingly","overly","best","latter","little","long","low"]),kq={wholly:"whole",fully:"full",truly:"true",gently:"gentle",singly:"single",customarily:"customary",idly:"idle",publically:"public",quickly:"quick",superbly:"superb",cynically:"cynical",well:"good"},Zwe=[null,{y:"ily"},{ly:"ly",ic:"ically"},{ial:"ially",ual:"ually",tle:"tly",ble:"bly",ple:"ply",ary:"arily"},{},{},{}],xq={cool:"cooly",whole:"wholly",full:"fully",good:"well",idle:"idly",public:"publicly",single:"singly",special:"especially"},Mq=function(t){if(xq.hasOwnProperty(t))return xq[t];let e=Rq(t,Zwe);return e||(e=t+"ly"),e},eEe={noun:jwe,verb:zwe,adjective:{toSuperlative:Ax,toComparative:Cx,toAdverb:Mq,toNoun:function(t,e){return wo(t,e.two.models.adjToNoun)},fromAdverb:function(t){return t.endsWith("ly")?Qwe.has(t)?t.replace(/ically/,"ical"):Ywe.has(t)?null:kq.hasOwnProperty(t)?kq[t]:Rq(t,Jwe)||t:null},fromSuperlative:function(t,e){return wo(t,e.two.models.fromSuperlative)},fromComparative:function(t,e){return wo(t,e.two.models.fromComparative)},all:function(t,e){let n=[t];return n.push(Ax(t,e)),n.push(Cx(t,e)),n.push(Mq(t)),n=n.filter(r=>r),n=new Set(n),Array.from(n)}}},Oq={Singular:(t,e,n,r)=>{let i=r.one.lexicon,s=n.two.transform.noun.toPlural(t,r);i[s]||(e[s]=e[s]||"Plural")},Actor:(t,e,n,r)=>{let i=r.one.lexicon,s=n.two.transform.noun.toPlural(t,r);i[s]||(e[s]=e[s]||["Plural","Actor"])},Comparable:(t,e,n,r)=>{let i=r.one.lexicon,{toSuperlative:s,toComparative:o}=n.two.transform.adjective,a=s(t,r);i[a]||(e[a]=e[a]||"Superlative");let u=o(t,r);i[u]||(e[u]=e[u]||"Comparative"),e[t]="Adjective"},Demonym:(t,e,n,r)=>{let i=n.two.transform.noun.toPlural(t,r);e[i]=e[i]||["Demonym","Plural"]},Infinitive:(t,e,n,r)=>{let i=r.one.lexicon,s=n.two.transform.verb.conjugate(t,r);Object.entries(s).forEach(o=>{!i[o[1]]&&!e[o[1]]&&"FutureTense"!==o[0]&&(e[o[1]]=o[0])})},PhrasalVerb:(t,e,n,r)=>{let i=r.one.lexicon;e[t]=["PhrasalVerb","Infinitive"];let s=r.one._multiCache,[o,a]=t.split(" ");i[o]||(e[o]=e[o]||"Infinitive");let u=n.two.transform.verb.conjugate(o,r);delete u.FutureTense,Object.entries(u).forEach(l=>{if("Actor"===l[0]||""===l[1])return;!e[l[1]]&&!i[l[1]]&&(e[l[1]]=l[0]),s[l[1]]=2;let d=l[1]+" "+a;e[d]=e[d]||[l[0],"PhrasalVerb"]})},Multiple:(t,e)=>{e[t]=["Multiple","Cardinal"],e[t+"th"]=["Multiple","Ordinal"],e[t+"ths"]=["Multiple","Fraction"]},Cardinal:(t,e)=>{e[t]=["TextValue","Cardinal"]},Ordinal:(t,e)=>{e[t]=["TextValue","Ordinal"],e[t+"s"]=["TextValue","Fraction"]},Place:(t,e)=>{e[t]=["Place","ProperNoun"]},Region:(t,e)=>{e[t]=["Region","ProperNoun"]}},Fq={e:["mice","louse","antennae","formulae","nebulae","vertebrae","vitae"],i:["tia","octopi","viri","radii","nuclei","fungi","cacti","stimuli"],n:["men"],t:["feet"]},iEe=new Set(["israelis","menus","logos"]),sEe=["bus","mas","was","ias","xas","vas","cis","lis","nis","ois","ris","sis","tis","xis","aus","cus","eus","fus","gus","ius","lus","nus","das","ous","pus","rus","sus","tus","xus","aos","igos","ados","ogos","'s","ss"],Vq=function(t){if(!t||t.length<=3)return!1;if(iEe.has(t))return!0;let e=t[t.length-1];return Fq.hasOwnProperty(e)?Fq[e].find(n=>t.endsWith(n)):!("s"!==e||sEe.find(n=>t.endsWith(n)))},Dx={two:{quickSplit:function(t){const e=/[,:;]/;let n=[];return t.forEach(r=>{let i=0;r.forEach((s,o)=>{e.test(s.post)&&function(t,e){let r=t[e];if(!r)return!1;const i=new Set(["may","april","august","jan"]);if("like"===r.normal||i.has(r.normal)||r.tags.has("Place")||r.tags.has("Date"))return!1;if(t[e-1]){let o=t[e-1];if(o.tags.has("Date")||i.has(o.normal)||o.tags.has("Adjective")||r.tags.has("Adjective"))return!1}let s=r.normal;return!((1===s.length||2===s.length||4===s.length)&&/^[0-9]+$/.test(s))}(r,o+1)&&(n.push(r.slice(i,o+1)),i=o+1)}),i<r.length&&n.push(r.slice(i,r.length))}),n},expandLexicon:function(t,e){const{methods:n,model:r}=e;let i={},s={};return Object.keys(t).forEach(o=>{let a=t[o],u=(o=(o=o.toLowerCase().trim()).replace(/'s\b/,"")).split(/ /);u.length>1&&(void 0===s[u[0]]||u.length>s[u[0]])&&(s[u[0]]=u.length),!0===Oq.hasOwnProperty(a)&&Oq[a](o,i,n,r),i[o]=i[o]||a}),delete i[""],delete i.null,delete i[" "],{lex:i,_multi:s}},transform:eEe,looksPlural:Vq}};let Sx={one:{lexicon:{}},two:{models:Dq}};const aEe={"Actor|Verb":"Actor","Adj|Gerund":"Adjective","Adj|Noun":"Adjective","Adj|Past":"Adjective","Adj|Present":"Adjective","Noun|Verb":"Singular","Noun|Gerund":"Gerund","Person|Noun":"Noun","Person|Date":"Month","Person|Verb":"FirstName","Person|Place":"Person","Person|Adj":"Comparative","Plural|Verb":"Plural","Unit|Noun":"Noun"},Lq=function(t,e){const n={model:e,methods:Dx};let{lex:r,_multi:i}=Dx.two.expandLexicon(t,n);return Object.assign(e.one.lexicon,r),Object.assign(e.one._multiCache,i),e},jq=function(t,e,n){let r=Tx(t,Sx);e[r.PastTense]=e[r.PastTense]||"PastTense",e[r.Gerund]=e[r.Gerund]||"Gerund",!0===n&&(e[r.PresentTense]=e[r.PresentTense]||"PresentTense")},Uq=function(t,e,n){let r=Ax(t,n);e[r]=e[r]||"Superlative";let i=Cx(t,n);e[i]=e[i]||"Comparative"};let Px={one:{_multiCache:{},lexicon:Wg,frozenLex:{"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization","excuse me":"Expression","financial times":"Organization","guns n roses":"Organization","la z boy":"Organization","labour party":"Organization","new kids on the block":"Organization","new york times":"Organization","the guess who":"Organization","thin lizzy":"Organization","prime minister":"Actor","free market":"Singular","lay up":"Singular","living room":"Singular","living rooms":"Plural","spin off":"Singular","appeal court":"Uncountable","cold war":"Uncountable","gene pool":"Uncountable","machine learning":"Uncountable","nail polish":"Uncountable","time off":"Uncountable","take part":"Infinitive","bill gates":"Person","doctor who":"Person","dr who":"Person","he man":"Person","iron man":"Person","kid cudi":"Person","run dmc":"Person","rush limbaugh":"Person","snow white":"Person","tiger woods":"Person","brand new":"Adjective","en route":"Adjective","left wing":"Adjective","off guard":"Adjective","on board":"Adjective","part time":"Adjective","right wing":"Adjective","so called":"Adjective","spot on":"Adjective","straight forward":"Adjective","super duper":"Adjective","tip top":"Adjective","top notch":"Adjective","up to date":"Adjective","win win":"Adjective","brooklyn nets":"SportsTeam","chicago bears":"SportsTeam","houston astros":"SportsTeam","houston dynamo":"SportsTeam","houston rockets":"SportsTeam","houston texans":"SportsTeam","minnesota twins":"SportsTeam","orlando magic":"SportsTeam","san antonio spurs":"SportsTeam","san diego chargers":"SportsTeam","san diego padres":"SportsTeam","iron maiden":"ProperNoun","isle of man":"Country","united states":"Country","united states of america":"Country","prince edward island":"Region","cedar breaks":"Place","cedar falls":"Place","point blank":"Adverb","tiny bit":"Adverb","by the time":"Conjunction","no matter":"Conjunction","civil wars":"Plural","credit cards":"Plural","default rates":"Plural","free markets":"Plural","head starts":"Plural","home runs":"Plural","lay ups":"Plural","phone calls":"Plural","press releases":"Plural","record labels":"Plural","soft serves":"Plural","student loans":"Plural","tax returns":"Plural","tv shows":"Plural","video games":"Plural","took part":"PastTense","takes part":"PresentTense","taking part":"Gerund","taken part":"Participle","light bulb":"Noun","rush hour":"Noun","fluid ounce":"Unit","the rolling stones":"Organization"}},two:{irregularPlurals:cq,models:Dq,suffixPatterns:bwe,prefixPatterns:wwe,endsWith:Ewe,neighbours:Iwe,regexNormal:[[/^[\w.]+@[\w.]+\.[a-z]{2,3}$/,"Email"],[/^(https?:\/\/|www\.)+\w+\.[a-z]{2,3}/,"Url","http.."],[/^[a-z0-9./].+\.(com|net|gov|org|ly|edu|info|biz|dev|ru|jp|de|in|uk|br|io|ai)/,"Url",".com"],[/^[PMCE]ST$/,"Timezone","EST"],[/^ma?c'[a-z]{3}/,"LastName","mc'neil"],[/^o'[a-z]{3}/,"LastName","o'connor"],[/^ma?cd[aeiou][a-z]{3}/,"LastName","mcdonald"],[/^(lol)+[sz]$/,"Expression","lol"],[/^wo{2,}a*h?$/,"Expression","wooah"],[/^(hee?){2,}h?$/,"Expression","hehe"],[/^(un|de|re)\\-[a-z\u00C0-\u00FF]{2}/,"Verb","un-vite"],[/^(m|k|cm|km)\/(s|h|hr)$/,"Unit","5 k/m"],[/^(ug|ng|mg)\/(l|m3|ft3)$/,"Unit","ug/L"]],regexText:Mwe,regexNumbers:Owe,switches:wx,clues:vwe,uncountable:{},orgWords:Fwe,placeWords:Vwe}};var t;Px=t=function(t){const{irregularPlurals:e}=t.two,{lexicon:n}=t.one;return Object.entries(e).forEach(r=>{n[r[0]]=n[r[0]]||"Singular",n[r[1]]=n[r[1]]||"Plural"}),t}(t=function(t,e){let n={};const r=e.one.lexicon;return Object.keys(t).forEach(i=>{const s=t[i];if(n[i]=aEe[s],("Noun|Verb"===s||"Person|Verb"===s||"Actor|Verb"===s)&&jq(i,r,!1),"Adj|Present"===s&&(jq(i,r,!0),Uq(i,r,e)),"Person|Adj"===s&&Uq(i,r,e),"Adj|Gerund"===s||"Noun|Gerund"===s){let o=Ix(i,Sx,"Gerund");r[o]||(n[o]="Infinitive")}if(("Noun|Gerund"===s||"Adj|Noun"===s||"Person|Noun"===s)&&function(t,e,n){let r=VT(t,n);e[r]=e[r]||"Plural"}(i,r,e),"Adj|Past"===s){let o=Ix(i,Sx,"PastTense");r[o]||(n[o]="Infinitive")}}),e=Lq(n,e)}((t=function(t,e){return Object.keys(t).forEach(n=>{"Uncountable"===t[n]&&(e.two.uncountable[n]=!0,t[n]="Uncountable")}),e}((t=Lq((t=Px).one.lexicon,t)).one.lexicon,t)).two.switches,t));const hEe=Px,pEe=function(t,e,n,r){"-"===t[e].post&&t[e+1]&&(0,r.methods.one.setTag)([t[e],t[e+1]],"Hyphenated",r,null,"1-punct-hyphen''")},Bq=/^(under|over|mis|re|un|dis|semi)-?/,gEe=function(t,e,n){const r=n.two.switches;let i=t[e];if(r.hasOwnProperty(i.normal))i.switch=r[i.normal];else if(Bq.test(i.normal)){let s=i.normal.replace(Bq,"");s.length>3&&r.hasOwnProperty(s)&&(i.switch=r[s])}},Fr=function(t,e,n){if(!e||0===e.length||!0===t.frozen)return;const r=typeof process>"u"||!process.env?self.env||{}:process.env;r&&r.DEBUG_TAGS&&((t,e,n="")=>{let s=t.text||"["+t.implicit+"]";var o;"string"!=typeof e&&e.length>2&&(e=e.slice(0,2).join(", #")+" +"),e="string"!=typeof e?e.join(", #"):e,console.log(` ${(o=s,"\x1b[33m\x1b[3m"+o+"\x1b[0m").padEnd(24)} \x1b[32m\u2192\x1b[0m #${e.padEnd(22)}  ${(o=>"\x1b[3m"+o+"\x1b[0m")(n)}`)})(t,e,n),t.tags=t.tags||new Set,"string"==typeof e?t.tags.add(e):e.forEach(i=>t.tags.add(i))},yEe=["Acronym","Abbreviation","ProperNoun","Uncountable","Possessive","Pronoun","Activity","Honorific","Month"],a0=function(t,e,n){let r=t[e],i=Array.from(r.tags);for(let s=0;s<i.length;s+=1)n.one.tagSet[i[s]]&&Fr(r,n.one.tagSet[i[s]].parents,` -inferred by #${i[s]}`);(function(t){!t.tags.has("Noun")||t.tags.has("Plural")||t.tags.has("Singular")||yEe.find(e=>t.tags.has(e))||(Vq(t.normal)?Fr(t,"Plural","3-plural-guess"):Fr(t,"Singular","3-singular-guess"))})(r),function(t){let e=t.tags;if(e.has("Verb")&&1===e.size){let n=Pq(t.normal);n&&Fr(t,n,"3-verb-tense-guess")}}(r)},bEe=new RegExp("^\\p{Lu}[\\p{Ll}'\u2019]","u"),wEe=/[0-9]/,EEe=["Date","Month","WeekDay","Unit","Expression"],IEe=/[IVX]/,TEe=/^[IVXLCDM]{2,}$/,AEe=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/,CEe={li:!0,dc:!0,md:!0,dm:!0,ml:!0},DEe=function(t,e,n){let r=t[e];r.index=r.index||[0,0];let s=r.text||"";return 0!==r.index[1]&&!0===bEe.test(s)&&!1===wEe.test(s)?EEe.find(o=>r.tags.has(o))||r.pre.match(/["']$/)||"the"===r.normal?null:(a0(t,e,n),!r.tags.has("Noun")&&!r.frozen&&r.tags.clear(),Fr(r,"ProperNoun","2-titlecase"),!0):s.length>=2&&TEe.test(s)&&IEe.test(s)&&AEe.test(s)&&!CEe[r.normal]?(Fr(r,"RomanNumeral","2-xvii"),!0):null},Hq=function(t="",e=[]){const n=t.length;let r=7;n<=r&&(r=n-1);for(let i=r;i>1;i-=1){let s=t.substring(n-i,n);if(!0===e[s.length].hasOwnProperty(s))return e[s.length][s]}return null},SEe=function(t,e,n){let r=t[e];if(0===r.tags.size){let i=Hq(r.normal,n.two.suffixPatterns);if(null!==i)return Fr(r,i,"2-suffix"),r.confidence=.7,!0;if(r.implicit&&(i=Hq(r.implicit,n.two.suffixPatterns),null!==i))return Fr(r,i,"2-implicit-suffix"),r.confidence=.7,!0}return null},$q=/['\u2018\u2019\u201b\u2035\u2032`\xb4]/,Nx=function(t,e){for(let n=0;n<e.length;n+=1)if(!0===e[n][0].test(t))return e[n];return null},NEe=function(t,e,n,r){const i=r.methods.one.setTag;let{regexText:s,regexNormal:o,regexNumbers:a,endsWith:u}=n.two,l=t[e],d=l.machine||l.normal,g=l.text;$q.test(l.post)&&!$q.test(l.pre)&&(g+=l.post.trim());let y=Nx(g,s)||Nx(d,o);return!y&&/[0-9]/.test(d)&&(y=Nx(d,a)),!y&&0===l.tags.size&&(y=function(t="",e){let n=t[t.length-1];if(!0===e.hasOwnProperty(n)){let r=e[n]||[];for(let i=0;i<r.length;i+=1)if(!0===r[i][0].test(t))return r[i]}return null}(d,u)),y?(i([l],y[1],r,null,`2-regex-'${y[2]||y[0]}'`),l.confidence=.6,!0):null},kEe=function(t,e,n){let r=t[e];if(0===r.tags.size){let i=function(t="",e=[]){const n=t.length;let r=7;r>n-3&&(r=n-3);for(let i=r;i>2;i-=1){let s=t.substring(0,i);if(!0===e[s.length].hasOwnProperty(s))return e[s.length][s]}return null}(r.normal,n.two.prefixPatterns);if(null!==i)return Fr(r,i,"2-prefix"),r.confidence=.5,!0}return null},OEe=new Set(["in","on","by","until","for","to","during","throughout","through","within","before","after","of","this","next","last","circa","around","post","pre","budget","classic","plan","may"]),Gq=function(t){return!!t&&!!(OEe.has(t.normal||t.implicit)||t.tags.has("Date")||t.tags.has("Month")||t.tags.has("WeekDay")||t.tags.has("Year")||t.tags.has("ProperNoun"))},zq=function(t){return!!t&&!!(t.tags.has("Ordinal")||t.tags.has("Cardinal")&&t.normal.length<3||"is"===t.normal||"was"===t.normal)},qq=function(t){return t&&(t.tags.has("Date")||t.tags.has("Month")||t.tags.has("WeekDay")||t.tags.has("Year"))},FEe=function(t,e){const n=t[e];if(n.tags.has("NumericValue")&&n.tags.has("Cardinal")&&4===n.normal.length){let r=Number(n.normal);if(r&&!isNaN(r)&&r>1400&&r<2100){let i=t[e-1],s=t[e+1];if(Gq(i)||Gq(s))return Fr(n,"Year","2-tagYear");if(r>=1920&&r<2025){if(zq(i)||zq(s))return Fr(n,"Year","2-tagYear-close");if(qq(t[e-2])||qq(t[e+2]))return Fr(n,"Year","2-tagYear-far");if(i&&(i.tags.has("Determiner")||i.tags.has("Possessive"))&&s&&s.tags.has("Noun")&&!s.tags.has("Plural"))return Fr(n,"Year","2-tagYear-noun")}}}return null},VEe=function(t,e,n,r){const i=r.methods.one.setTag,s=t[e];s.tags.has("Verb")&&(["PastTense","PresentTense","Auxiliary","Modal","Particle"].find(u=>s.tags.has(u))||i([s],"Infinitive",r,null,"2-verb-type''"))},Wq=/^[A-Z]('s|,)?$/,Kq=/^[A-Z-]+$/,Qq=/^[A-Z]+s$/,LEe=/([A-Z]\.)+[A-Z]?,?$/,jEe=/[A-Z]{2,}('s|,)?$/,UEe=/([a-z]\.)+[a-z]\.?$/,Jq={I:!0,A:!0},BEe={la:!0,ny:!0,us:!0,dc:!0,gb:!0},$Ee=function(t,e,n){let r=t[e];return r.tags.has("RomanNumeral")||r.tags.has("Acronym")||r.frozen?null:function(t,e){let n=t.text;if(!1===Kq.test(n)){if(!(n.length>3&&!0===Qq.test(n)))return!1;n=n.replace(/s$/,"")}return!(n.length>5||Jq.hasOwnProperty(n)||e.one.lexicon.hasOwnProperty(t.normal)||!0!==LEe.test(n)&&!0!==UEe.test(n)&&!0!==Wq.test(n)&&!0!==jEe.test(n))}(r,n)?(r.tags.clear(),Fr(r,["Acronym","Noun"],"3-no-period-acronym"),!0===BEe[r.normal]&&Fr(r,"Place","3-place-acronym"),!0===Qq.test(r.text)&&Fr(r,"Plural","3-plural-acronym"),!0):!Jq.hasOwnProperty(r.text)&&Wq.test(r.text)?(r.tags.clear(),Fr(r,["Acronym","Noun"],"3-one-letter-acronym"),!0):r.tags.has("Organization")&&r.text.length<=3?(Fr(r,"Acronym","3-org-acronym"),!0):r.tags.has("Organization")&&Kq.test(r.text)&&r.text.length<=6?(Fr(r,"Acronym","3-titlecase-acronym"),!0):null},Yq=function(t,e){if(!t)return null;let n=e.find(r=>t.normal===r[0]);return n?n[1]:null},Xq=function(t,e){if(!t)return null;let n=e.find(r=>t.tags.has(r[0]));return n?n[1]:null},GEe=function(t,e,n){const{leftTags:r,leftWords:i,rightWords:s,rightTags:o}=n.two.neighbours;let a=t[e];if(0===a.tags.size){let u=null;if(u=u||Yq(t[e-1],i),u=u||Yq(t[e+1],s),u=u||Xq(t[e-1],r),u=u||Xq(t[e+1],o),u)return Fr(a,u,"3-[neighbour]"),a0(t,e,n),t[e].confidence=.2,!0}return null},Zq=function(t,e,n){return!(!t||t.tags.has("FirstName")||t.tags.has("Place"))&&(!!(t.tags.has("ProperNoun")||t.tags.has("Organization")||t.tags.has("Acronym"))||!(n||!(t=>new RegExp("^\\p{Lu}[\\p{Ll}'\u2019]","u").test(t))(t.text))&&(0!==e||t.tags.has("Singular")))},qEe=function(t,e,n,r){const s=n.methods.one.setTag;let o=t[e];if(!0===n.model.two.orgWords[o.machine||o.normal]&&Zq(t[e-1],e-1,r)){s([t[e]],"Organization",n,null,"3-[org-word]");for(let u=e;u>=0&&Zq(t[u],u,r);u-=1)s([t[u]],"Organization",n,null,"3-[org-word]")}return null},KEe=/'s$/,e8=new Set(["athletic","city","community","eastern","federal","financial","great","historic","historical","local","memorial","municipal","national","northern","provincial","southern","state","western"]),QEe=new Set(["center","centre","way","range","bar","bridge","field","pit"]),t8=function(t,e,n){if(!t)return!1;let r=t.tags;return!(r.has("Organization")||r.has("Possessive")||KEe.test(t.normal))&&(!(!r.has("ProperNoun")&&!r.has("Place"))||!(n||!(t=>new RegExp("^\\p{Lu}[\\p{Ll}'\u2019]","u").test(t))(t.text))&&(0!==e||r.has("Singular")))},JEe=function(t,e,n,r){const s=n.methods.one.setTag;let o=t[e],a=o.machine||o.normal;if(!0===n.model.two.placeWords[a]){for(let u=e-1;u>=0;u-=1)if(!e8.has(t[u].normal)){if(t8(t[u],u,r)){s(t.slice(u,e+1),"Place",n,null,"3-[place-of-foo]");continue}break}if(QEe.has(a))return!1;for(let u=e+1;u<t.length;u+=1){if(t8(t[u],u,r))return s(t.slice(e,u+1),"Place",n,null,"3-[foo-place]"),!0;if("of"!==t[u].normal&&!e8.has(t[u].normal))break}}return null},YEe=function(t,e,n){let r=!1,i=t[e].tags;(0===i.size||1===i.size&&(i.has("Hyphenated")||i.has("HashTag")||i.has("Prefix")))&&(r=!0),r&&(Fr(t[e],"Noun","3-[fallback]"),a0(t,e,n),t[e].confidence=.1)},XEe=/^[A-Z][a-z]/,Na=(t,e)=>t[e].tags.has("ProperNoun")&&XEe.test(t[e].text)?"Noun":null,n8=(t,e,n)=>0!==e||t[1]?null:n,r8={"Adj|Gerund":(t,e)=>Na(t,e),"Adj|Noun":(t,e)=>Na(t,e)||function(t,e){return!t[e+1]&&t[e-1]&&t[e-1].tags.has("Determiner")?"Noun":null}(t,e),"Actor|Verb":(t,e)=>Na(t,e),"Adj|Past":(t,e)=>Na(t,e),"Adj|Present":(t,e)=>Na(t,e),"Noun|Gerund":(t,e)=>Na(t,e),"Noun|Verb":(t,e)=>e>0&&Na(t,e)||n8(t,e,"Infinitive"),"Plural|Verb":(t,e)=>Na(t,e)||n8(t,e,"PresentTense")||function(t,e,n){return 0===e&&t.length>3?"Plural":null}(t,e),"Person|Noun":(t,e)=>Na(t,e),"Person|Verb":(t,e)=>0!==e?Na(t,e):null,"Person|Adj":(t,e)=>0===e&&t.length>1||Na(t,e)?"Person":null},Rx=typeof process>"u"||!process.env?self.env||{}:process.env,i8=/^(under|over|mis|re|un|dis|semi)-?/,s8=(t,e)=>{if(!t||!e)return null;let n=t.normal||t.implicit,r=null;return e.hasOwnProperty(n)&&(r=e[n]),r&&Rx.DEBUG_TAGS&&console.log(`\n  \x1b[2m\x1b[3m     \u2193 - '${n}' \x1b[0m`),r},o8=(t,e={},n)=>{if(!t||!e)return null;let i=Array.from(t.tags).sort((s,o)=>(n[s]?n[s].parents.length:0)>(n[o]?n[o].parents.length:0)?-1:1).find(s=>e[s]);return i&&Rx.DEBUG_TAGS&&console.log(`  \x1b[2m\x1b[3m      \u2193 - '${t.normal||t.implicit}' (#${i})  \x1b[0m`),i=e[i],i},nIe=function(t,e,n){const r=n.model,i=n.methods.one.setTag,{switches:s,clues:o}=r.two,a=t[e];let u=a.normal||a.implicit||"";if(i8.test(u)&&!s[u]&&(u=u.replace(i8,"")),a.switch){let l=a.switch;if(a.tags.has("Acronym")||a.tags.has("PhrasalVerb"))return;let d=function(t,e,n,r){if(!n)return null;const i="also"!==t[e-1]?.text?e-1:Math.max(0,e-2),s=r.one.tagSet;let o=s8(t[e+1],n.afterWords);return o=o||s8(t[i],n.beforeWords),o=o||o8(t[i],n.beforeTags,s),o=o||o8(t[e+1],n.afterTags,s),o}(t,e,o[l],r);r8[l]&&(d=r8[l](t,e)||d),d?(i([a],d,n,null,`3-[switch] (${l})`),a0(t,e,r)):Rx.DEBUG_TAGS&&console.log(`\n -> X  - '${u}'  : (${l})  `)}},rIe={there:!0,this:!0,it:!0,him:!0,her:!0,us:!0},sIe=function(t){if(t.filter(n=>!n.tags.has("ProperNoun")).length<=3)return!1;const e=/^[a-z]/;return t.every(n=>!e.test(n.text))},aIe=function(t,e,n,r){for(let i=0;i<t.length;i+=1)!0!==t[i].frozen&&(gEe(t,i,e),!1===r&&DEe(t,i,e),SEe(t,i,e),NEe(t,i,e,n),kEe(t,i,e),FEe(t,i))},uIe=function(t,e,n,r){for(let i=0;i<t.length;i+=1){let s=$Ee(t,i,e);a0(t,i,e),s=s||GEe(t,i,e),s=s||YEe(t,i,e)}for(let i=0;i<t.length;i+=1)!0!==t[i].frozen&&(qEe(t,i,n,r),JEe(t,i,n,r),nIe(t,i,n),VEe(t,i,0,n),pEe(t,i,0,n));!function(t,e){const n=e.methods.one.setTag,r=e.model.one._multiCache||{};let i=t[0];if(("Noun|Verb"===i.switch||i.tags.has("Infinitive"))&&t.length>=2){if(t.length<4&&!rIe[t[1].normal]||!i.tags.has("PhrasalVerb")&&r.hasOwnProperty(i.normal))return;(t[1].tags.has("Noun")||t[1].tags.has("Determiner"))&&(!t.slice(1,3).some(u=>u.tags.has("Verb"))||i.tags.has("#PhrasalVerb"))&&n([i],"Imperative",e,null,"3-[imperative]")}}(t,n)},a8={Possessive:t=>{let e=t.machine||t.normal||t.text;return e=e.replace(/'s$/,""),e},Plural:(t,e)=>e.methods.two.transform.noun.toSingular(t.machine||t.normal||t.text,e.model),Copula:()=>"is",PastTense:(t,e)=>e.methods.two.transform.verb.toInfinitive(t.machine||t.normal||t.text,e.model,"PastTense"),Gerund:(t,e)=>e.methods.two.transform.verb.toInfinitive(t.machine||t.normal||t.text,e.model,"Gerund"),PresentTense:(t,e)=>{let n=t.machine||t.normal||t.text;return t.tags.has("Infinitive")?n:e.methods.two.transform.verb.toInfinitive(n,e.model,"PresentTense")},Comparative:(t,e)=>e.methods.two.transform.adjective.fromComparative(t.machine||t.normal||t.text,e.model),Superlative:(t,e)=>e.methods.two.transform.adjective.fromSuperlative(t.machine||t.normal||t.text,e.model),Adverb:(t,e)=>{const{fromAdverb:n}=e.methods.two.transform.adjective;return n(t.machine||t.normal||t.text)}},u8={Adverb:"RB",Comparative:"JJR",Superlative:"JJS",Adjective:"JJ",TO:"Conjunction",Modal:"MD",Auxiliary:"MD",Gerund:"VBG",PastTense:"VBD",Participle:"VBN",PresentTense:"VBZ",Infinitive:"VB",Particle:"RP",Verb:"VB",Pronoun:"PRP",Cardinal:"CD",Conjunction:"CC",Determiner:"DT",Preposition:"IN",QuestionWord:"WP",Expression:"UH",Possessive:"POS",ProperNoun:"NNP",Person:"NNP",Place:"NNP",Organization:"NNP",Singular:"NN",Plural:"NNS",Noun:"NN",There:"EX"},hIe={preTagger:function(t){const{methods:e,model:n,world:r}=t;let i=t.docs;!function(t,e,n){t.forEach(r=>{!function(t,e,n,r){const i=r.methods.one.setTag;if(t.length>=3&&t[0].post.match(/:/)){let a=t[1];if(a.tags.has("Value")||a.tags.has("Email")||a.tags.has("PhoneNumber"))return;i([t[0]],"Expression",r,null,"2-punct-colon''")}}(r,0,0,n)})}(i,0,r);let s=e.two.quickSplit(i);for(let o=0;o<s.length;o+=1){let a=s[o];const u=sIe(a);aIe(a,n,r,u),uIe(a,n,r,u)}return s},root:function(t){const e=t.world,n=Object.keys(a8);t.docs.forEach(r=>{for(let i=0;i<r.length;i+=1){const s=r[i];for(let o=0;o<n.length;o+=1)if(s.tags.has(n[o])){let u=(0,a8[n[o]])(s,e);s.normal!==u&&(s.root=u);break}}})},penn:function(t){t.compute("tagRank"),t.docs.forEach(e=>{e.forEach(n=>{n.penn=function(t){if(t.tags.has("ProperNoun")&&t.tags.has("Plural"))return"NNPS";if(t.tags.has("Possessive")&&t.tags.has("Pronoun"))return"PRP$";if("there"===t.normal)return"EX";if("to"===t.normal)return"TO";let e=t.tagRank||[];for(let n=0;n<e.length;n+=1)if(u8.hasOwnProperty(e[n]))return u8[e[n]];return null}(n)})})}},kx=["Person","Place","Organization"],fIe=Object.assign({},{Noun:{not:["Verb","Adjective","Adverb","Value","Determiner"]},Singular:{is:"Noun",not:["Plural","Uncountable"]},ProperNoun:{is:"Noun"},Person:{is:"Singular",also:["ProperNoun"],not:["Place","Organization","Date"]},FirstName:{is:"Person"},MaleName:{is:"FirstName",not:["FemaleName","LastName"]},FemaleName:{is:"FirstName",not:["MaleName","LastName"]},LastName:{is:"Person",not:["FirstName"]},Honorific:{is:"Person",not:["FirstName","LastName","Value"]},Place:{is:"Singular",not:["Person","Organization"]},Country:{is:"Place",also:["ProperNoun"],not:["City"]},City:{is:"Place",also:["ProperNoun"],not:["Country"]},Region:{is:"Place",also:["ProperNoun"]},Address:{},Organization:{is:"ProperNoun",not:["Person","Place"]},SportsTeam:{is:"Organization"},School:{is:"Organization"},Company:{is:"Organization"},Plural:{is:"Noun",not:["Singular","Uncountable"]},Uncountable:{is:"Noun"},Pronoun:{is:"Noun",not:kx},Actor:{is:"Noun",not:["Place","Organization"]},Activity:{is:"Noun",not:["Person","Place"]},Unit:{is:"Noun",not:kx},Demonym:{is:"Noun",also:["ProperNoun"],not:kx},Possessive:{is:"Noun"},Reflexive:{is:"Pronoun"}},{Verb:{not:["Noun","Adjective","Adverb","Value","Expression"]},PresentTense:{is:"Verb",not:["PastTense","FutureTense"]},Infinitive:{is:"PresentTense",not:["Gerund"]},Imperative:{is:"Verb",not:["PastTense","Gerund","Copula"]},Gerund:{is:"PresentTense",not:["Copula"]},PastTense:{is:"Verb",not:["PresentTense","Gerund","FutureTense"]},FutureTense:{is:"Verb",not:["PresentTense","PastTense"]},Copula:{is:"Verb"},Modal:{is:"Verb",not:["Infinitive"]},Participle:{is:"PastTense"},Auxiliary:{is:"Verb",not:["PastTense","PresentTense","Gerund","Conjunction"]},PhrasalVerb:{is:"Verb"},Particle:{is:"PhrasalVerb",not:["PastTense","PresentTense","Copula","Gerund"]},Passive:{is:"Verb"}},{Value:{not:["Verb","Adjective","Adverb"]},Ordinal:{is:"Value",not:["Cardinal"]},Cardinal:{is:"Value",not:["Ordinal"]},Fraction:{is:"Value",not:["Noun"]},Multiple:{is:"TextValue"},RomanNumeral:{is:"Cardinal",not:["TextValue"]},TextValue:{is:"Value",not:["NumericValue"]},NumericValue:{is:"Value",not:["TextValue"]},Money:{is:"Cardinal"},Percent:{is:"Value"}},{Date:{not:["Verb","Adverb","Adjective"]},Month:{is:"Date",also:["Noun"],not:["Year","WeekDay","Time"]},WeekDay:{is:"Date",also:["Noun"]},Year:{is:"Date",not:["RomanNumeral"]},FinancialQuarter:{is:"Date",not:"Fraction"},Holiday:{is:"Date",also:["Noun"]},Season:{is:"Date"},Timezone:{is:"Date",also:["Noun"],not:["ProperNoun"]},Time:{is:"Date",not:["AtMention"]},Duration:{is:"Date",also:["Noun"]}},{Adjective:{not:["Noun","Verb","Adverb","Value"]},Comparable:{is:"Adjective"},Comparative:{is:"Adjective"},Superlative:{is:"Adjective",not:["Comparative"]},NumberRange:{},Adverb:{not:["Noun","Verb","Adjective","Value"]},Determiner:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Conjunction"]},Conjunction:{not:["Noun","Verb","Adjective","Adverb","Value","QuestionWord"]},Preposition:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Determiner"]},QuestionWord:{not:["Determiner"]},Currency:{is:"Noun"},Expression:{not:["Noun","Adjective","Verb","Adverb"]},Abbreviation:{},Url:{not:["HashTag","PhoneNumber","Verb","Adjective","Value","AtMention","Email"]},PhoneNumber:{not:["HashTag","Verb","Adjective","Value","AtMention","Email"]},HashTag:{},AtMention:{is:"Noun",not:["HashTag","Email"]},Emoji:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Emoticon:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Email:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Acronym:{not:["Plural","RomanNumeral","Pronoun","Date"]},Negative:{not:["Noun","Adjective","Value","Expression"]},Condition:{not:["Verb","Adjective","Noun","Value"]},There:{not:["Verb","Adjective","Noun","Value","Conjunction","Preposition"]},Prefix:{not:["Abbreviation","Acronym","ProperNoun"]},Hyphenated:{}}),pIe={compute:hIe,methods:Dx,model:hEe,tags:fIe,hooks:["preTagger"]},gIe=/[,)"';:\-\u2013\u2014.\u2026]/,Cl=function(t,e){if(!t.found)return;let n=t.termList();for(let r=0;r<n.length-1;r++)if(gIe.test(n[r].post))return;n[0].implicit=n[0].normal,n[0].text+=e,n[0].normal+=e,n.slice(1).forEach(r=>{r.implicit=r.normal,r.text="",r.normal=""});for(let r=0;r<n.length-1;r++)n[r].post=n[r].post.replace(/ /,"")},mIe=function(){let t=this.not("@hasContraction"),e=t.match("(we|they|you) are");return Cl(e,"'re"),e=t.match("(he|she|they|it|we|you) will"),Cl(e,"'ll"),e=t.match("(he|she|they|it|we) is"),Cl(e,"'s"),e=t.match("#Person is"),Cl(e,"'s"),e=t.match("#Person would"),Cl(e,"'d"),e=t.match("(is|was|had|would|should|could|do|does|have|has|can) not"),Cl(e,"n't"),e=t.match("(i|we|they) have"),Cl(e,"'ve"),e=t.match("(would|should|could) have"),Cl(e,"'ve"),e=t.match("i am"),Cl(e,"'m"),e=t.match("going to"),this},yIe=new RegExp("^\\p{Lu}[\\p{Ll}'\u2019]","u"),bIe=function(t,e,n){let[r,i]=e;!n||0===n.length||((n=n.map((s,o)=>(s.implicit=s.text,s.machine=s.text,s.pre="",s.post="",s.text="",s.normal="",s.index=[r,i+o],s)))[0]&&(n[0].pre=t[r][i].pre,n[n.length-1].post=t[r][i].post,n[0].text=t[r][i].text,n[0].normal=t[r][i].normal),t[r].splice(i,1,...n))},wIe=/'/,EIe=new Set(["been","become"]),IIe=new Set(["what","how","when","if","too"]);let TIe=new Set(["too","also","enough"]);const DIe=/'/,SIe=new Set(["better","done","before","it","had"]),PIe=new Set(["have","be"]),MIe={that:!0,there:!0,let:!0,here:!0,everywhere:!0},OIe={in:!0,by:!0,for:!0};let FIe=new Set(["too","also","enough","about"]),VIe=new Set(["is","are","did","were","could","should","must","had","have"]);const l8=/'/,UIe=function(t,e,n,r){let i=e.update();i.document=[t];let s=n+r;n>0&&(n-=1),t[s]&&(s+=1),i.ptrs=[[0,n,s]],i.compute(["freeze","lexicon","preTagger","unfreeze"]),function(t){t.forEach((e,n)=>{e.index&&(e.index[1]=n)})}(t)},c8={d:(t,e)=>function(t,e){let n=t[e].normal.split(DIe)[0];return"how"===n||"what"===n?[n,"did"]:"had"===((t,e)=>{for(let n=e+1;n<t.length;n+=1){let r=t[n];if(SIe.has(r.normal))return"had";if(PIe.has(r.normal))return"would";if(r.tags.has("PastTense")||"Adj|Past"===r.switch)return"had";if(r.tags.has("PresentTense")||r.tags.has("Infinitive"))return"would";if(r.tags.has("#Determiner"))return"had";if(r.tags.has("Adjective"))return"would"}return!1})(t,e)?[n,"had"]:[n,"would"]}(t,e),t:(t,e)=>function(t,e){if("ain't"===t[e].normal||"aint"===t[e].normal){if(t[e+1]&&"never"===t[e+1].normal)return["have"];let r=function(t,e){for(let n=e-1;n>=0;n-=1)if(t[n].tags.has("Noun")||t[n].tags.has("Pronoun")||t[n].tags.has("Plural")||t[n].tags.has("Singular"))return t[n];return null}(t,e);if(r){if("we"===r.normal||"they"===r.normal)return["are","not"];if("i"===r.normal)return["am","not"];if(r.tags&&r.tags.has("Plural"))return["are","not"]}return["is","not"]}return[t[e].normal.replace(/n't/,""),"not"]}(t,e),s:(t,e,n)=>((t,e)=>{let n=t[e];if(MIe.hasOwnProperty(n.machine||n.normal))return!1;if(n.tags.has("Possessive"))return!0;if(n.tags.has("QuestionWord")||"he's"===n.normal||"she's"===n.normal)return!1;let r=t[e+1];if(!r)return!0;if("it's"===n.normal)return!!r.tags.has("#Noun");if("Noun|Gerund"==r.switch){let i=t[e+2];return i?!!i.tags.has("Copula"):!(!n.tags.has("Actor")&&!n.tags.has("ProperNoun"))}if(r.tags.has("Verb"))return!!r.tags.has("Infinitive")||!r.tags.has("Gerund")&&!!r.tags.has("PresentTense");if("Adj|Noun"===r.switch){let i=t[e+2];if(!i)return!1;if(VIe.has(i.normal))return!0;if(FIe.has(i.normal))return!1}if(r.tags.has("Noun")){let i=r.machine||r.normal;return!("here"===i||"there"===i||"everywhere"===i||r.tags.has("Possessive")||r.tags.has("ProperNoun")&&!n.tags.has("ProperNoun"))}if(t[e-1]&&!0===OIe[t[e-1].normal])return!0;if(r.tags.has("Adjective")){let i=t[e+2];if(!i)return!1;if(i.tags.has("Noun")&&!i.tags.has("Pronoun")){let s=r.normal;return!("above"===s||"below"===s||"behind"===s)}return"Noun|Verb"===i.switch}return!!r.tags.has("Value")})(t,e)?n.methods.one.setTag([t[e]],"Possessive",n,null,"2-contraction"):function(t,e){let n=t[e].normal.split(wIe)[0];if("let"===n)return[n,"us"];if("there"===n){let r=t[e+1];if(r&&r.tags.has("Plural"))return[n,"are"]}return"has"===((t,e)=>{for(let n=e+1;n<t.length;n+=1){let r=t[n];if(EIe.has(r.normal))return"has";if(IIe.has(r.normal)||r.tags.has("Gerund")||r.tags.has("Determiner")||r.tags.has("Adjective")||"Adj|Past"===r.switch&&t[n+1]&&(TIe.has(t[n+1].normal)||t[n+1].tags.has("Preposition")))return"is";if(r.tags.has("PastTense"))return t[n+1]&&"for"===t[n+1].normal?"is":"has"}return"is"})(t,e)?[n,"has"]:[n,"is"]}(t,e)},BIe=function(t,e){let n=e.fromText(t.join(" "));return n.compute("id"),n.docs[0]},HIe={compute:{contractionTwo:t=>{let{world:e,document:n}=t;n.forEach((r,i)=>{for(let s=r.length-1;s>=0;s-=1){if(r[s].implicit)return;let o=null;!0===l8.test(r[s].normal)&&(o=r[s].normal.split(l8)[1]);let a=null;c8.hasOwnProperty(o)&&(a=c8[o](r,s,e)),a&&(a=BIe(a,t),bIe(n,[i,s],a),UIe(n[i],t,s,a.length))}})}},api:function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Contraction"}expand(){return this.docs.forEach(r=>{let i=yIe.test(r[0].text);r.forEach((s,o)=>{s.text=s.implicit||"",delete s.implicit,o<r.length-1&&""===s.post&&(s.post+=" "),s.dirty=!0}),i&&(r[0].text=function(t=""){return t.replace(/^ *[a-z\u00C0-\u00FF]/,e=>e.toUpperCase())}(r[0].text))}),this.compute("normal"),this}}t.prototype.contractions=function(){let n=this.match("@hasContraction+");return new e(this.document,n.pointer)},t.prototype.contract=mIe},hooks:["contractionTwo"]},d8="(hard|fast|late|early|high|right|deep|close|direct)",xx="(i|we|they)",yTe={two:{matches:[].concat([{match:"(got|were|was|is|are|am) (#PastTense|#Participle)",tag:"Passive",reason:"got-walked"},{match:"(was|were|is|are|am) being (#PastTense|#Participle)",tag:"Passive",reason:"was-being"},{match:"(had|have|has) been (#PastTense|#Participle)",tag:"Passive",reason:"had-been"},{match:"will be being? (#PastTense|#Participle)",tag:"Passive",reason:"will-be-cleaned"},{match:"#Noun [(#PastTense|#Participle)] by (the|a) #Noun",group:0,tag:"Passive",reason:"suffered-by"}],[{match:"[(all|both)] #Determiner #Noun",group:0,tag:"Noun",reason:"all-noun"},{match:"#Copula [(just|alone)]$",group:0,tag:"Adjective",reason:"not-adverb"},{match:"#Singular is #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"is-filled"},{match:"[#PastTense] #Singular is",group:0,tag:"Adjective",reason:"smoked-poutine"},{match:"[#PastTense] #Plural are",group:0,tag:"Adjective",reason:"baked-onions"},{match:"well [#PastTense]",group:0,tag:"Adjective",reason:"well-made"},{match:"#Copula [fucked up?]",group:0,tag:"Adjective",reason:"swears-adjective"},{match:"#Singular (seems|appears) #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"seems-filled"},{match:"#Copula #Adjective? [(out|in|through)]$",group:0,tag:"Adjective",reason:"still-out"},{match:"^[#Adjective] (the|your) #Noun",group:0,notIf:"(all|even)",tag:"Infinitive",reason:"shut-the"},{match:"the [said] #Noun",group:0,tag:"Adjective",reason:"the-said-card"},{match:"[#Hyphenated (#Hyphenated && #PastTense)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"faith-based"},{match:"[#Hyphenated (#Hyphenated && #Gerund)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"self-driving"},{match:"[#PastTense (#Hyphenated && #PhrasalVerb)] (#Noun|#Conjunction)",group:0,tag:"Adjective",reason:"dammed-up"},{match:"(#Hyphenated && #Value) fold",tag:"Adjective",reason:"two-fold"},{match:"must (#Hyphenated && #Infinitive)",tag:"Adjective",reason:"must-win"},{match:"(#Hyphenated && #Infinitive) #Hyphenated",tag:"Adjective",notIf:"#PhrasalVerb",reason:"vacuum-sealed"},{match:"too much",tag:"Adverb Adjective",reason:"bit-4"},{match:"a bit much",tag:"Determiner Adverb Adjective",reason:"bit-3"},{match:"[(un|contra|extra|inter|intra|macro|micro|mid|mis|mono|multi|pre|sub|tri|ex)] #Adjective",group:0,tag:["Adjective","Prefix"],reason:"un-skilled"}],[{match:"#Adverb [#Adverb] (and|or|then)",group:0,tag:"Adjective",reason:"kinda-sparkly-and"},{match:"[(dark|bright|flat|light|soft|pale|dead|dim|faux|little|wee|sheer|most|near|good|extra|all)] #Adjective",group:0,tag:"Adverb",reason:"dark-green"},{match:"#Copula [far too] #Adjective",group:0,tag:"Adverb",reason:"far-too"},{match:"#Copula [still] (in|#Gerund|#Adjective)",group:0,tag:"Adverb",reason:"was-still-walking"},{match:`#Plural ${d8}`,tag:"#PresentTense #Adverb",reason:"studies-hard"},{match:`#Verb [${d8}] !#Noun?`,group:0,notIf:"(#Copula|get|got|getting|become|became|becoming|feel|feels|feeling|#Determiner|#Preposition)",tag:"Adverb",reason:"shops-direct"},{match:"[#Plural] a lot",tag:"PresentTense",reason:"studies-a-lot"}],[{match:"as [#Gerund] as",group:0,tag:"Adjective",reason:"as-gerund-as"},{match:"more [#Gerund] than",group:0,tag:"Adjective",reason:"more-gerund-than"},{match:"(so|very|extremely) [#Gerund]",group:0,tag:"Adjective",reason:"so-gerund"},{match:"(found|found) it #Adverb? [#Gerund]",group:0,tag:"Adjective",reason:"found-it-gerund"},{match:"a (little|bit|wee) bit? [#Gerund]",group:0,tag:"Adjective",reason:"a-bit-gerund"},{match:"#Gerund [#Gerund]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looking-annoying"},{match:"(looked|look|looks) #Adverb? [%Adj|Gerund%]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looked-amazing"},{match:"[%Adj|Gerund%] #Determiner",group:0,tag:"Gerund",reason:"developing-a"},{match:"#Possessive [%Adj|Gerund%] #Noun",group:0,tag:"Adjective",reason:"leading-manufacturer"},{match:"%Noun|Gerund% %Adj|Gerund%",tag:"Gerund #Adjective",reason:"meaning-alluring"},{match:"(face|embrace|reveal|stop|start|resume) %Adj|Gerund%",tag:"#PresentTense #Adjective",reason:"face-shocking"},{match:"(are|were) [%Adj|Gerund%] #Plural",group:0,tag:"Adjective",reason:"are-enduring-symbols"}],[{match:"#Determiner [#Adjective] #Copula",group:0,tag:"Noun",reason:"the-adj-is"},{match:"#Adjective [#Adjective] #Copula",group:0,tag:"Noun",reason:"adj-adj-is"},{match:"(his|its) [%Adj|Noun%]",group:0,tag:"Noun",notIf:"#Hyphenated",reason:"his-fine"},{match:"#Copula #Adverb? [all]",group:0,tag:"Noun",reason:"is-all"},{match:"(have|had) [#Adjective] #Preposition .",group:0,tag:"Noun",reason:"have-fun"},{match:"#Gerund (giant|capital|center|zone|application)",tag:"Noun",reason:"brewing-giant"},{match:"#Preposition (a|an) [#Adjective]$",group:0,tag:"Noun",reason:"an-instant"},{match:"no [#Adjective] #Modal",group:0,tag:"Noun",reason:"no-golden"},{match:"[brand #Gerund?] new",group:0,tag:"Adverb",reason:"brand-new"},{match:"(#Determiner|#Comparative|new|different) [kind]",group:0,tag:"Noun",reason:"some-kind"},{match:"#Possessive [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"her-favourite"},{match:"must && #Hyphenated .",tag:"Adjective",reason:"must-win"},{match:"#Determiner [#Adjective]$",tag:"Noun",notIf:"(this|that|#Comparative|#Superlative)",reason:"the-south"},{match:"(#Noun && #Hyphenated) (#Adjective && #Hyphenated)",tag:"Adjective",notIf:"(this|that|#Comparative|#Superlative)",reason:"company-wide"},{match:"#Determiner [#Adjective] (#Copula|#Determiner)",notIf:"(#Comparative|#Superlative)",group:0,tag:"Noun",reason:"the-poor"},{match:"[%Adj|Noun%] #Noun",notIf:"(#Pronoun|#ProperNoun)",group:0,tag:"Adjective",reason:"stable-foundations"}],[{match:"[still] #Adjective",group:0,tag:"Adverb",reason:"still-advb"},{match:"[still] #Verb",group:0,tag:"Adverb",reason:"still-verb"},{match:"[so] #Adjective",group:0,tag:"Adverb",reason:"so-adv"},{match:"[way] #Comparative",group:0,tag:"Adverb",reason:"way-adj"},{match:"[way] #Adverb #Adjective",group:0,tag:"Adverb",reason:"way-too-adj"},{match:"[all] #Verb",group:0,tag:"Adverb",reason:"all-verb"},{match:"#Verb  [like]",group:0,notIf:"(#Modal|#PhrasalVerb)",tag:"Adverb",reason:"verb-like"},{match:"(barely|hardly) even",tag:"Adverb",reason:"barely-even"},{match:"[even] #Verb",group:0,tag:"Adverb",reason:"even-walk"},{match:"[even] #Comparative",group:0,tag:"Adverb",reason:"even-worse"},{match:"[even] (#Determiner|#Possessive)",group:0,tag:"#Adverb",reason:"even-the"},{match:"even left",tag:"#Adverb #Verb",reason:"even-left"},{match:"[way] #Adjective",group:0,tag:"#Adverb",reason:"way-over"},{match:"#PresentTense [(hard|quick|bright|slow|fast|backwards|forwards)]",notIf:"#Copula",group:0,tag:"Adverb",reason:"lazy-ly"},{match:"[much] #Adjective",group:0,tag:"Adverb",reason:"bit-1"},{match:"#Copula [#Adverb]$",group:0,tag:"Adjective",reason:"is-well"},{match:"a [(little|bit|wee) bit?] #Adjective",group:0,tag:"Adverb",reason:"a-bit-cold"},{match:"[(super|pretty)] #Adjective",group:0,tag:"Adverb",reason:"super-strong"},{match:"(become|fall|grow) #Adverb? [#PastTense]",group:0,tag:"Adjective",reason:"overly-weakened"},{match:"(a|an) #Adverb [#Participle] #Noun",group:0,tag:"Adjective",reason:"completely-beaten"},{match:"#Determiner #Adverb? [close]",group:0,tag:"Adjective",reason:"a-close"},{match:"#Gerund #Adverb? [close]",group:0,tag:"Adverb",notIf:"(getting|becoming|feeling)",reason:"being-close"},{match:"(the|those|these|a|an) [#Participle] #Noun",group:0,tag:"Adjective",reason:"blown-motor"},{match:"(#PresentTense|#PastTense) [back]",group:0,tag:"Adverb",notIf:"(#PhrasalVerb|#Copula)",reason:"charge-back"},{match:"#Verb [around]",group:0,tag:"Adverb",notIf:"#PhrasalVerb",reason:"send-around"},{match:"[later] #PresentTense",group:0,tag:"Adverb",reason:"later-say"},{match:"#Determiner [well] !#PastTense?",group:0,tag:"Noun",reason:"the-well"},{match:"#Adjective [enough]",group:0,tag:"Adverb",reason:"high-enough"}],[{match:"[sun] the #Ordinal",tag:"WeekDay",reason:"sun-the-5th"},{match:"[sun] #Date",group:0,tag:"WeekDay",reason:"sun-feb"},{match:"#Date (on|this|next|last|during)? [sun]",group:0,tag:"WeekDay",reason:"1pm-sun"},{match:"(in|by|before|during|on|until|after|of|within|all) [sat]",group:0,tag:"WeekDay",reason:"sat"},{match:"(in|by|before|during|on|until|after|of|within|all) [wed]",group:0,tag:"WeekDay",reason:"wed"},{match:"(in|by|before|during|on|until|after|of|within|all) [march]",group:0,tag:"Month",reason:"march"},{match:"[sat] #Date",group:0,tag:"WeekDay",reason:"sat-feb"},{match:"#Preposition [(march|may)]",group:0,tag:"Month",reason:"in-month"},{match:"(this|next|last) (march|may) !#Infinitive?",tag:"#Date #Month",reason:"this-month"},{match:"(march|may) the? #Value",tag:"#Month #Date #Date",reason:"march-5th"},{match:"#Value of? (march|may)",tag:"#Date #Date #Month",reason:"5th-of-march"},{match:"[(march|may)] .? #Date",group:0,tag:"Month",reason:"march-and-feb"},{match:"#Date .? [(march|may)]",group:0,tag:"Month",reason:"feb-and-march"},{match:"#Adverb [(march|may)]",group:0,tag:"Verb",reason:"quickly-march"},{match:"[(march|may)] #Adverb",group:0,tag:"Verb",reason:"march-quickly"},{match:"#Value (am|pm)",tag:"Time",reason:"2-am"}],[{match:"#Holiday (day|eve)",tag:"Holiday",reason:"holiday-day"},{match:"#Value of #Month",tag:"Date",reason:"value-of-month"},{match:"#Cardinal #Month",tag:"Date",reason:"cardinal-month"},{match:"#Month #Value to #Value",tag:"Date",reason:"value-to-value"},{match:"#Month the #Value",tag:"Date",reason:"month-the-value"},{match:"(#WeekDay|#Month) #Value",tag:"Date",reason:"date-value"},{match:"#Value (#WeekDay|#Month)",tag:"Date",reason:"value-date"},{match:"(#TextValue && #Date) #TextValue",tag:"Date",reason:"textvalue-date"},{match:"#Month #NumberRange",tag:"Date",reason:"aug 20-21"},{match:"#WeekDay #Month #Ordinal",tag:"Date",reason:"week mm-dd"},{match:"#Month #Ordinal #Cardinal",tag:"Date",reason:"mm-dd-yyy"},{match:"(#Place|#Demonmym|#Time) (standard|daylight|central|mountain)? time",tag:"Timezone",reason:"std-time"},{match:"(eastern|mountain|pacific|central|atlantic) (standard|daylight|summer)? time",tag:"Timezone",reason:"eastern-time"},{match:"#Time [(eastern|mountain|pacific|central|est|pst|gmt)]",group:0,tag:"Timezone",reason:"5pm-central"},{match:"(central|western|eastern) european time",tag:"Timezone",reason:"cet"}],[{match:"(the|any) [more]",group:0,tag:"Singular",reason:"more-noun"},{match:"[more] #Noun",group:0,tag:"Adjective",reason:"more-noun"},{match:"(right|rights) of .",tag:"Noun",reason:"right-of"},{match:"a [bit]",group:0,tag:"Singular",reason:"bit-2"},{match:"a [must]",group:0,tag:"Singular",reason:"must-2"},{match:"(we|us) [all]",group:0,tag:"Noun",reason:"we all"},{match:"due to [#Verb]",group:0,tag:"Noun",reason:"due-to"},{match:"some [#Verb] #Plural",group:0,tag:"Noun",reason:"determiner6"},{match:"#Possessive #Ordinal [#PastTense]",group:0,tag:"Noun",reason:"first-thought"},{match:"(the|this|those|these) #Adjective [%Verb|Noun%]",group:0,tag:"Noun",notIf:"#Copula",reason:"the-adj-verb"},{match:"(the|this|those|these) #Adverb #Adjective [#Verb]",group:0,tag:"Noun",reason:"determiner4"},{match:"the [#Verb] #Preposition .",group:0,tag:"Noun",reason:"determiner1"},{match:"(a|an|the) [#Verb] of",group:0,tag:"Noun",reason:"the-verb-of"},{match:"#Determiner #Noun of [#Verb]",group:0,tag:"Noun",notIf:"#Gerund",reason:"noun-of-noun"},{match:"#PastTense #Preposition [#PresentTense]",group:0,notIf:"#Gerund",tag:"Noun",reason:"ended-in-ruins"},{match:"#Conjunction [u]",group:0,tag:"Pronoun",reason:"u-pronoun-2"},{match:"[u] #Verb",group:0,tag:"Pronoun",reason:"u-pronoun-1"},{match:"#Determiner [(western|eastern|northern|southern|central)] #Noun",group:0,tag:"Noun",reason:"western-line"},{match:"(#Singular && @hasHyphen) #PresentTense",tag:"Noun",reason:"hyphen-verb"},{match:"is no [#Verb]",group:0,tag:"Noun",reason:"is-no-verb"},{match:"do [so]",group:0,tag:"Noun",reason:"so-noun"},{match:"#Determiner [(shit|damn|hell)]",group:0,tag:"Noun",reason:"swears-noun"},{match:"to [(shit|hell)]",group:0,tag:"Noun",reason:"to-swears"},{match:"(the|these) [#Singular] (were|are)",group:0,tag:"Plural",reason:"singular-were"},{match:"a #Noun+ or #Adverb+? [#Verb]",group:0,tag:"Noun",reason:"noun-or-noun"},{match:"(the|those|these|a|an) #Adjective? [#PresentTense #Particle?]",group:0,tag:"Noun",notIf:"(seem|appear|include|#Gerund|#Copula)",reason:"det-inf"},{match:"#Noun #Actor",tag:"Actor",notIf:"(#Person|#Pronoun)",reason:"thing-doer"},{match:"#Gerund #Actor",tag:"Actor",reason:"gerund-doer"},{match:"co #Singular",tag:"Actor",reason:"co-noun"},{match:"[#Noun+] #Actor",group:0,tag:"Actor",notIf:"(#Honorific|#Pronoun|#Possessive)",reason:"air-traffic-controller"},{match:"(urban|cardiac|cardiovascular|respiratory|medical|clinical|visual|graphic|creative|dental|exotic|fine|certified|registered|technical|virtual|professional|amateur|junior|senior|special|pharmaceutical|theoretical)+ #Noun? #Actor",tag:"Actor",reason:"fine-artist"},{match:"#Noun+ (coach|chef|king|engineer|fellow|personality|boy|girl|man|woman|master)",tag:"Actor",reason:"dance-coach"},{match:"chief . officer",tag:"Actor",reason:"chief-x-officer"},{match:"chief of #Noun+",tag:"Actor",reason:"chief-of-police"},{match:"senior? vice? president of #Noun+",tag:"Actor",reason:"president-of"},{match:"#Determiner [sun]",group:0,tag:"Singular",reason:"the-sun"},{match:"#Verb (a|an) [#Value]$",group:0,tag:"Singular",reason:"did-a-value"},{match:"the [(can|will|may)]",group:0,tag:"Singular",reason:"the can"},{match:"#FirstName #Acronym? (#Possessive && #LastName)",tag:"Possessive",reason:"name-poss"},{match:"#Organization+ #Possessive",tag:"Possessive",reason:"org-possessive"},{match:"#Place+ #Possessive",tag:"Possessive",reason:"place-possessive"},{match:"#Possessive #PresentTense #Particle?",notIf:"(#Gerund|her)",tag:"Noun",reason:"possessive-verb"},{match:"(my|our|their|her|his|its) [(#Plural && #Actor)] #Noun",tag:"Possessive",reason:"my-dads"},{match:"#Value of a [second]",group:0,unTag:"Value",tag:"Singular",reason:"10th-of-a-second"},{match:"#Value [seconds]",group:0,unTag:"Value",tag:"Plural",reason:"10-seconds"},{match:"in [#Infinitive]",group:0,tag:"Singular",reason:"in-age"},{match:"a [#Adjective] #Preposition",group:0,tag:"Noun",reason:"a-minor-in"},{match:"#Determiner [#Singular] said",group:0,tag:"Actor",reason:"the-actor-said"},{match:"#Determiner #Noun [(feel|sense|process|rush|side|bomb|bully|challenge|cover|crush|dump|exchange|flow|function|issue|lecture|limit|march|process)] !(#Preposition|to|#Adverb)?",group:0,tag:"Noun",reason:"the-noun-sense"},{match:"[#PresentTense] (of|by|for) (a|an|the) #Noun #Copula",group:0,tag:"Plural",reason:"photographs-of"},{match:"#Infinitive and [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"fight and win"},{match:"#Noun and [#Verb] and #Noun",group:0,tag:"Noun",reason:"peace-and-flowers"},{match:"the #Cardinal [%Adj|Noun%]",group:0,tag:"Noun",reason:"the-1992-classic"},{match:"#Copula the [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"the-premier-university"},{match:"i #Verb [me] #Noun",group:0,tag:"Possessive",reason:"scottish-me"},{match:"[#PresentTense] (music|class|lesson|night|party|festival|league|ceremony)",group:0,tag:"Noun",reason:"dance-music"},{match:"[wit] (me|it)",group:0,tag:"Presposition",reason:"wit-me"},{match:"#PastTense #Possessive [#Verb]",group:0,tag:"Noun",notIf:"(saw|made)",reason:"left-her-boots"},{match:"#Value [%Plural|Verb%]",group:0,tag:"Plural",notIf:"(one|1|a|an)",reason:"35-signs"},{match:"had [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|come|become)",reason:"had-time"},{match:"%Adj|Noun% %Noun|Verb%",tag:"#Adjective #Noun",notIf:"#ProperNoun #Noun",reason:"instant-access"},{match:"#Determiner [%Adj|Noun%] #Conjunction",group:0,tag:"Noun",reason:"a-rep-to"},{match:"#Adjective #Noun [%Plural|Verb%]$",group:0,tag:"Plural",notIf:"#Pronoun",reason:"near-death-experiences"},{match:"#Possessive #Noun [%Plural|Verb%]$",group:0,tag:"Plural",reason:"your-guild-colors"}],[{match:"(this|that|the|a|an) [#Gerund #Infinitive]",group:0,tag:"Singular",reason:"the-planning-process"},{match:"(that|the) [#Gerund #PresentTense]",group:0,ifNo:"#Copula",tag:"Plural",reason:"the-paving-stones"},{match:"#Determiner [#Gerund] #Noun",group:0,tag:"Adjective",reason:"the-gerund-noun"},{match:"#Pronoun #Infinitive [#Gerund] #PresentTense",group:0,tag:"Noun",reason:"tipping-sucks"},{match:"#Adjective [#Gerund]",group:0,tag:"Noun",notIf:"(still|even|just)",reason:"early-warning"},{match:"[#Gerund] #Adverb? not? #Copula",group:0,tag:"Activity",reason:"gerund-copula"},{match:"#Copula [(#Gerund|#Activity)] #Copula",group:0,tag:"Gerund",reason:"are-doing-is"},{match:"[#Gerund] #Modal",group:0,tag:"Activity",reason:"gerund-modal"},{match:"#Singular for [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"noun-for-gerund"},{match:"#Comparative (for|at) [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"better-for-gerund"},{match:"#PresentTense the [#Gerund]",group:0,tag:"Noun",reason:"keep-the-touching"}],[{match:"#Infinitive (this|that|the) [#Infinitive]",group:0,tag:"Noun",reason:"do-this-dance"},{match:"#Gerund #Determiner [#Infinitive]",group:0,tag:"Noun",reason:"running-a-show"},{match:"#Determiner (only|further|just|more|backward) [#Infinitive]",group:0,tag:"Noun",reason:"the-only-reason"},{match:"(the|this|a|an) [#Infinitive] #Adverb? #Verb",group:0,tag:"Noun",reason:"determiner5"},{match:"#Determiner #Adjective #Adjective? [#Infinitive]",group:0,tag:"Noun",reason:"a-nice-inf"},{match:"#Determiner #Demonym [#PresentTense]",group:0,tag:"Noun",reason:"mexican-train"},{match:"#Adjective #Noun+ [#Infinitive] #Copula",group:0,tag:"Noun",reason:"career-move"},{match:"at some [#Infinitive]",group:0,tag:"Noun",reason:"at-some-inf"},{match:"(go|goes|went) to [#Infinitive]",group:0,tag:"Noun",reason:"goes-to-verb"},{match:"(a|an) #Adjective? #Noun [#Infinitive] (#Preposition|#Noun)",group:0,notIf:"from",tag:"Noun",reason:"a-noun-inf"},{match:"(a|an) #Noun [#Infinitive]$",group:0,tag:"Noun",reason:"a-noun-inf2"},{match:"#Gerund #Adjective? for [#Infinitive]",group:0,tag:"Noun",reason:"running-for"},{match:"about [#Infinitive]",group:0,tag:"Singular",reason:"about-love"},{match:"#Plural on [#Infinitive]",group:0,tag:"Noun",reason:"on-stage"},{match:"any [#Infinitive]",group:0,tag:"Noun",reason:"any-charge"},{match:"no [#Infinitive]",group:0,tag:"Noun",reason:"no-doubt"},{match:"number of [#PresentTense]",group:0,tag:"Noun",reason:"number-of-x"},{match:"(taught|teaches|learns|learned) [#PresentTense]",group:0,tag:"Noun",reason:"teaches-x"},{match:"(try|use|attempt|build|make) [#Verb #Particle?]",notIf:"(#Copula|#Noun|sure|fun|up)",group:0,tag:"Noun",reason:"do-verb"},{match:"^[#Infinitive] (is|was)",group:0,tag:"Noun",reason:"checkmate-is"},{match:"#Infinitive much [#Infinitive]",group:0,tag:"Noun",reason:"get-much"},{match:"[cause] #Pronoun #Verb",group:0,tag:"Conjunction",reason:"cause-cuz"},{match:"the #Singular [#Infinitive] #Noun",group:0,tag:"Noun",notIf:"#Pronoun",reason:"cardio-dance"},{match:"#Determiner #Modal [#Noun]",group:0,tag:"PresentTense",reason:"should-smoke"},{match:"this [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Date)",reason:"this-verbs"},{match:"#Noun that [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Pronoun|way)",reason:"voice-that-rocks"},{match:"that [#Plural] to",group:0,tag:"PresentTense",notIf:"#Preposition",reason:"that-leads-to"},{match:"(let|make|made) (him|her|it|#Person|#Place|#Organization)+ [#Singular] (a|an|the|it)",group:0,tag:"Infinitive",reason:"let-him-glue"},{match:"#Verb (all|every|each|most|some|no) [#PresentTense]",notIf:"#Modal",group:0,tag:"Noun",reason:"all-presentTense"},{match:"(had|have|#PastTense) #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"better",reason:"adj-presentTense"},{match:"#Value #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"one-big-reason"},{match:"#PastTense #Adjective+ [#PresentTense]",group:0,tag:"Noun",notIf:"(#Copula|better)",reason:"won-wide-support"},{match:"(many|few|several|couple) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"many-poses"},{match:"#Determiner #Adverb #Adjective [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Copula",reason:"very-big-dream"},{match:"from #Noun to [%Noun|Verb%]",group:0,tag:"Noun",reason:"start-to-finish"},{match:"(for|with|of) #Noun (and|or|not) [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Pronoun",reason:"for-food-and-gas"},{match:"#Adjective #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"adorable-little-store"},{match:"#Gerund #Adverb? #Comparative [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"higher-costs"},{match:"(#Noun && @hasComma) #Noun (and|or) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"noun-list"},{match:"(many|any|some|several) [#PresentTense] for",group:0,tag:"Noun",reason:"any-verbs-for"},{match:"to #PresentTense #Noun [#PresentTense] #Preposition",group:0,tag:"Noun",reason:"gas-exchange"},{match:"#PastTense (until|as|through|without) [#PresentTense]",group:0,tag:"Noun",reason:"waited-until-release"},{match:"#Gerund like #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"like-hot-cakes"},{match:"some #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"some-reason"},{match:"for some [#PresentTense]",group:0,tag:"Noun",reason:"for-some-reason"},{match:"(same|some|the|that|a) kind of [#PresentTense]",group:0,tag:"Noun",reason:"some-kind-of"},{match:"(same|some|the|that|a) type of [#PresentTense]",group:0,tag:"Noun",reason:"some-type-of"},{match:"#Gerund #Adjective #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"doing-better-for-x"},{match:"(get|got|have) #Comparative [#PresentTense]",group:0,tag:"Noun",reason:"got-better-aim"},{match:"whose [#PresentTense] #Copula",group:0,tag:"Noun",reason:"whos-name-was"},{match:"#PhrasalVerb #Particle #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"given-up-on-x"},{match:"there (are|were) #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"there-are"},{match:"#Value [#PresentTense] of",group:0,notIf:"(one|1|#Copula|#Infinitive)",tag:"Plural",reason:"2-trains"},{match:"[#PresentTense] (are|were) #Adjective",group:0,tag:"Plural",reason:"compromises-are-possible"},{match:"^[(hope|guess|thought|think)] #Pronoun #Verb",group:0,tag:"Infinitive",reason:"suppose-i"},{match:"#Possessive #Adjective [#Verb]",group:0,tag:"Noun",notIf:"#Copula",reason:"our-full-support"},{match:"[(tastes|smells)] #Adverb? #Adjective",group:0,tag:"PresentTense",reason:"tastes-good"},{match:"#Copula #Gerund [#PresentTense] !by?",group:0,tag:"Noun",notIf:"going",reason:"ignoring-commute"},{match:"#Determiner #Adjective? [(shed|thought|rose|bid|saw|spelt)]",group:0,tag:"Noun",reason:"noun-past"},{match:"how to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"how-to-noun"},{match:"which [%Noun|Verb%] #Noun",group:0,tag:"Infinitive",reason:"which-boost-it"},{match:"#Gerund [%Plural|Verb%]",group:0,tag:"Plural",reason:"asking-questions"},{match:"(ready|available|difficult|hard|easy|made|attempt|try) to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"ready-to-noun"},{match:"(bring|went|go|drive|run|bike) to [%Noun|Verb%]",group:0,tag:"Noun",reason:"bring-to-noun"},{match:"#Modal #Noun [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"would-you-look"},{match:"#Copula just [#Infinitive]",group:0,tag:"Noun",reason:"is-just-spam"},{match:"^%Noun|Verb% %Plural|Verb%",tag:"Imperative #Plural",reason:"request-copies"},{match:"#Adjective #Plural and [%Plural|Verb%]",group:0,tag:"#Plural",reason:"pickles-and-drinks"},{match:"#Determiner #Year [#Verb]",group:0,tag:"Noun",reason:"the-1968-film"},{match:"#Determiner [#PhrasalVerb #Particle]",group:0,tag:"Noun",reason:"the-break-up"},{match:"#Determiner [%Adj|Noun%] #Noun",group:0,tag:"Adjective",notIf:"(#Pronoun|#Possessive|#ProperNoun)",reason:"the-individual-goals"},{match:"[%Noun|Verb%] or #Infinitive",group:0,tag:"Infinitive",reason:"work-or-prepare"},{match:"to #Infinitive [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|#Copula|help)",reason:"to-give-thanks"},{match:"[#Noun] me",group:0,tag:"Verb",reason:"kills-me"},{match:"%Plural|Verb% %Plural|Verb%",tag:"#PresentTense #Plural",reason:"removes-wrinkles"}],[{match:"#Money and #Money #Currency?",tag:"Money",reason:"money-and-money"},{match:"#Value #Currency [and] #Value (cents|ore|centavos|sens)",group:0,tag:"money",reason:"and-5-cents"},{match:"#Value (mark|rand|won|rub|ore)",tag:"#Money #Currency",reason:"4-mark"},{match:"a pound",tag:"#Money #Unit",reason:"a-pound"},{match:"#Value (pound|pounds)",tag:"#Money #Unit",reason:"4-pounds"}],[{match:"[(half|quarter)] of? (a|an)",group:0,tag:"Fraction",reason:"millionth"},{match:"#Adverb [half]",group:0,tag:"Fraction",reason:"nearly-half"},{match:"[half] the",group:0,tag:"Fraction",reason:"half-the"},{match:"#Cardinal and a half",tag:"Fraction",reason:"and-a-half"},{match:"#Value (halves|halfs|quarters)",tag:"Fraction",reason:"two-halves"},{match:"a #Ordinal",tag:"Fraction",reason:"a-quarter"},{match:"[#Cardinal+] (#Fraction && /s$/)",tag:"Fraction",reason:"seven-fifths"},{match:"[#Cardinal+ #Ordinal] of .",group:0,tag:"Fraction",reason:"ordinal-of"},{match:"[(#NumericValue && #Ordinal)] of .",group:0,tag:"Fraction",reason:"num-ordinal-of"},{match:"(a|one) #Cardinal?+ #Ordinal",tag:"Fraction",reason:"a-ordinal"},{match:"#Cardinal+ out? of every? #Cardinal",tag:"Fraction",reason:"out-of"}],[{match:"#Cardinal [second]",tag:"Unit",reason:"one-second"},{match:"!once? [(a|an)] (#Duration|hundred|thousand|million|billion|trillion)",group:0,tag:"Value",reason:"a-is-one"},{match:"1 #Value #PhoneNumber",tag:"PhoneNumber",reason:"1-800-Value"},{match:"#NumericValue #PhoneNumber",tag:"PhoneNumber",reason:"(800) PhoneNumber"},{match:"#Demonym #Currency",tag:"Currency",reason:"demonym-currency"},{match:"#Value [(buck|bucks|grand)]",group:0,tag:"Currency",reason:"value-bucks"},{match:"[#Value+] #Currency",group:0,tag:"Money",reason:"15 usd"},{match:"[second] #Noun",group:0,tag:"Ordinal",reason:"second-noun"},{match:"#Value+ [#Currency]",group:0,tag:"Unit",reason:"5-yan"},{match:"#Value [(foot|feet)]",group:0,tag:"Unit",reason:"foot-unit"},{match:"#Value [#Abbreviation]",group:0,tag:"Unit",reason:"value-abbr"},{match:"#Value [k]",group:0,tag:"Unit",reason:"value-k"},{match:"#Unit an hour",tag:"Unit",reason:"unit-an-hour"},{match:"(minus|negative) #Value",tag:"Value",reason:"minus-value"},{match:"#Value (point|decimal) #Value",tag:"Value",reason:"value-point-value"},{match:"#Determiner [(half|quarter)] #Ordinal",group:0,tag:"Value",reason:"half-ordinal"},{match:"#Multiple+ and #Value",tag:"Value",reason:"magnitude-and-value"},{match:"#Value #Unit [(per|an) (hr|hour|sec|second|min|minute)]",group:0,tag:"Unit",reason:"12-miles-per-second"},{match:"#Value [(square|cubic)] #Unit",group:0,tag:"Unit",reason:"square-miles"},{match:"^[#Value] (#Determiner|#Gerund)",group:0,tag:"Expression",unTag:"Value",reason:"numbered-list"}],[{match:"#Copula [(#Noun|#PresentTense)] #LastName",group:0,tag:"FirstName",reason:"copula-noun-lastname"},{match:"(sister|pope|brother|father|aunt|uncle|grandpa|grandfather|grandma) #ProperNoun",tag:"Person",reason:"lady-titlecase",safe:!0},{match:"#FirstName [#Determiner #Noun] #LastName",group:0,tag:"Person",reason:"first-noun-last"},{match:"#ProperNoun (b|c|d|e|f|g|h|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z) #ProperNoun",tag:"Person",reason:"titlecase-acronym-titlecase",safe:!0},{match:"#Acronym #LastName",tag:"Person",reason:"acronym-lastname",safe:!0},{match:"#Person (jr|sr|md)",tag:"Person",reason:"person-honorific"},{match:"#Honorific #Acronym",tag:"Person",reason:"Honorific-TitleCase"},{match:"#Person #Person the? #RomanNumeral",tag:"Person",reason:"roman-numeral"},{match:"#FirstName [/^[^aiurck]$/]",group:0,tag:["Acronym","Person"],reason:"john-e"},{match:"#Noun van der? #Noun",tag:"Person",reason:"van der noun",safe:!0},{match:"(king|queen|prince|saint|lady) of #Noun",tag:"Person",reason:"king-of-noun",safe:!0},{match:"(prince|lady) #Place",tag:"Person",reason:"lady-place"},{match:"(king|queen|prince|saint) #ProperNoun",tag:"Person",notIf:"#Place",reason:"saint-foo"},{match:"al (#Person|#ProperNoun)",tag:"Person",reason:"al-borlen",safe:!0},{match:"#FirstName de #Noun",tag:"Person",reason:"bill-de-noun"},{match:"#FirstName (bin|al) #Noun",tag:"Person",reason:"bill-al-noun"},{match:"#FirstName #Acronym #ProperNoun",tag:"Person",reason:"bill-acronym-title"},{match:"#FirstName #FirstName #ProperNoun",tag:"Person",reason:"bill-firstname-title"},{match:"#Honorific #FirstName? #ProperNoun",tag:"Person",reason:"dr-john-Title"},{match:"#FirstName the #Adjective",tag:"Person",reason:"name-the-great"},{match:"#ProperNoun (van|al|bin) #ProperNoun",tag:"Person",reason:"title-van-title",safe:!0},{match:"#ProperNoun (de|du) la? #ProperNoun",tag:"Person",notIf:"#Place",reason:"title-de-title"},{match:"#Singular #Acronym #LastName",tag:"#FirstName #Person .",reason:"title-acro-noun",safe:!0},{match:"[#ProperNoun] #Person",group:0,tag:"Person",reason:"proper-person",safe:!0},{match:"#Person [#ProperNoun #ProperNoun]",group:0,tag:"Person",notIf:"#Possessive",reason:"three-name-person",safe:!0},{match:"#FirstName #Acronym? [#ProperNoun]",group:0,tag:"LastName",notIf:"#Possessive",reason:"firstname-titlecase"},{match:"#FirstName [#FirstName]",group:0,tag:"LastName",reason:"firstname-firstname"},{match:"#FirstName #Acronym #Noun",tag:"Person",reason:"n-acro-noun",safe:!0},{match:"#FirstName [(de|di|du|van|von)] #Person",group:0,tag:"LastName",reason:"de-firstname"},{match:"[(lieutenant|corporal|sergeant|captain|qeen|king|admiral|major|colonel|marshal|president|queen|king)+] #ProperNoun",group:0,tag:"Honorific",reason:"seargeant-john"},{match:"[(private|general|major|rear|prime|field|count|miss)] #Honorific? #Person",group:0,tag:["Honorific","Person"],reason:"ambg-honorifics"},{match:"#Honorific #FirstName [#Singular]",group:0,tag:"LastName",notIf:"#Possessive",reason:"dr-john-foo",safe:!0},{match:"[(his|her) (majesty|honour|worship|excellency|honorable)] #Person",group:0,tag:"Honorific",reason:"his-excellency"},{match:"#Honorific #Actor",tag:"Honorific",reason:"Lieutenant colonel"},{match:"(first|second|third|1st|2nd|3rd) #Actor",tag:"Honorific",reason:"first lady"},{match:"#Person #RomanNumeral",tag:"Person",reason:"louis-IV"}],[{match:"#FirstName #Noun$",tag:". #LastName",notIf:"(#Possessive|#Organization|#Place|#Pronoun|@hasTitleCase)",reason:"firstname-noun"},{match:"%Person|Date% #Acronym? #ProperNoun",tag:"Person",reason:"jan-thierson"},{match:"%Person|Noun% #Acronym? #ProperNoun",tag:"Person",reason:"switch-person",safe:!0},{match:"%Person|Noun% #Organization",tag:"Organization",reason:"olive-garden"},{match:"%Person|Verb% #Acronym? #ProperNoun",tag:"Person",reason:"verb-propernoun",ifNo:"#Actor"},{match:"[%Person|Verb%] (will|had|has|said|says|told|did|learned|wants|wanted)",group:0,tag:"Person",reason:"person-said"},{match:"[%Person|Place%] (harbor|harbour|pier|town|city|place|dump|landfill)",group:0,tag:"Place",reason:"sydney-harbour"},{match:"(west|east|north|south) [%Person|Place%]",group:0,tag:"Place",reason:"east-sydney"},{match:"#Modal [%Person|Verb%]",group:0,tag:"Verb",reason:"would-mark"},{match:"#Adverb [%Person|Verb%]",group:0,tag:"Verb",reason:"really-mark"},{match:"[%Person|Verb%] (#Adverb|#Comparative)",group:0,tag:"Verb",reason:"drew-closer"},{match:"%Person|Verb% #Person",tag:"Person",reason:"rob-smith"},{match:"%Person|Verb% #Acronym #ProperNoun",tag:"Person",reason:"rob-a-smith"},{match:"[will] #Verb",group:0,tag:"Modal",reason:"will-verb"},{match:"(will && @isTitleCase) #ProperNoun",tag:"Person",reason:"will-name"},{match:"(#FirstName && !#Possessive) [#Singular] #Verb",group:0,safe:!0,tag:"LastName",reason:"jack-layton"},{match:"^[#Singular] #Person #Verb",group:0,safe:!0,tag:"Person",reason:"sherwood-anderson"},{match:"(a|an) [#Person]$",group:0,unTag:"Person",reason:"a-warhol"}],[{match:"#Copula (pretty|dead|full|well|sure) (#Adjective|#Noun)",tag:"#Copula #Adverb #Adjective",reason:"sometimes-adverb"},{match:"(#Pronoun|#Person) (had|#Adverb)? [better] #PresentTense",group:0,tag:"Modal",reason:"i-better"},{match:"(#Modal|i|they|we|do) not? [like]",group:0,tag:"PresentTense",reason:"modal-like"},{match:"#Noun #Adverb? [left]",group:0,tag:"PastTense",reason:"left-verb"},{match:"will #Adverb? not? #Adverb? [be] #Gerund",group:0,tag:"Copula",reason:"will-be-copula"},{match:"will #Adverb? not? #Adverb? [be] #Adjective",group:0,tag:"Copula",reason:"be-copula"},{match:"[march] (up|down|back|toward)",notIf:"#Date",group:0,tag:"Infinitive",reason:"march-to"},{match:"#Modal [march]",group:0,tag:"Infinitive",reason:"must-march"},{match:"[may] be",group:0,tag:"Verb",reason:"may-be"},{match:"[(subject|subjects|subjected)] to",group:0,tag:"Verb",reason:"subject to"},{match:"[home] to",group:0,tag:"PresentTense",reason:"home to"},{match:"[open] #Determiner",group:0,tag:"Infinitive",reason:"open-the"},{match:"(were|was) being [#PresentTense]",group:0,tag:"PastTense",reason:"was-being"},{match:"(had|has|have) [been /en$/]",group:0,tag:"Auxiliary Participle",reason:"had-been-broken"},{match:"(had|has|have) [been /ed$/]",group:0,tag:"Auxiliary PastTense",reason:"had-been-smoked"},{match:"(had|has) #Adverb? [been] #Adverb? #PastTense",group:0,tag:"Auxiliary",reason:"had-been-adj"},{match:"(had|has) to [#Noun] (#Determiner|#Possessive)",group:0,tag:"Infinitive",reason:"had-to-noun"},{match:"have [#PresentTense]",group:0,tag:"PastTense",notIf:"(come|gotten)",reason:"have-read"},{match:"(does|will|#Modal) that [work]",group:0,tag:"PastTense",reason:"does-that-work"},{match:"[(sound|sounds)] #Adjective",group:0,tag:"PresentTense",reason:"sounds-fun"},{match:"[(look|looks)] #Adjective",group:0,tag:"PresentTense",reason:"looks-good"},{match:"[(start|starts|stop|stops|begin|begins)] #Gerund",group:0,tag:"Verb",reason:"starts-thinking"},{match:"(have|had) read",tag:"Modal #PastTense",reason:"read-read"},{match:"(is|was|were) [(under|over) #PastTense]",group:0,tag:"Adverb Adjective",reason:"was-under-cooked"},{match:"[shit] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear1-verb"},{match:"[damn] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear2-verb"},{match:"[fuck] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear3-verb"},{match:"#Plural that %Noun|Verb%",tag:". #Preposition #Infinitive",reason:"jobs-that-work"},{match:"[works] for me",group:0,tag:"PresentTense",reason:"works-for-me"},{match:"as #Pronoun [please]",group:0,tag:"Infinitive",reason:"as-we-please"},{match:"[(co|mis|de|inter|intra|pre|re|un|out|under|over|counter)] #Verb",group:0,tag:["Verb","Prefix"],notIf:"(#Copula|#PhrasalVerb)",reason:"co-write"},{match:"#PastTense and [%Adj|Past%]",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"[%Adj|Past%] and #PastTense",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"#Copula #Pronoun [%Adj|Past%]",group:0,tag:"Adjective",reason:"is-he-stoked"},{match:"to [%Noun|Verb%] #Preposition",group:0,tag:"Infinitive",reason:"to-dream-of"}],[{match:"(slowly|quickly) [#Adjective]",group:0,tag:"Verb",reason:"slowly-adj"},{match:"does (#Adverb|not)? [#Adjective]",group:0,tag:"PresentTense",reason:"does-mean"},{match:"[(fine|okay|cool|ok)] by me",group:0,tag:"Adjective",reason:"okay-by-me"},{match:"i (#Adverb|do)? not? [mean]",group:0,tag:"PresentTense",reason:"i-mean"},{match:"will #Adjective",tag:"Auxiliary Infinitive",reason:"will-adj"},{match:"#Pronoun [#Adjective] #Determiner #Adjective? #Noun",group:0,tag:"Verb",reason:"he-adj-the"},{match:"#Copula [%Adj|Present%] to #Verb",group:0,tag:"Verb",reason:"adj-to"},{match:"#Copula [#Adjective] (well|badly|quickly|slowly)",group:0,tag:"Verb",reason:"done-well"},{match:"#Adjective and [#Gerund] !#Preposition?",group:0,tag:"Adjective",reason:"rude-and-x"},{match:"#Copula #Adverb? (over|under) [#PastTense]",group:0,tag:"Adjective",reason:"over-cooked"},{match:"#Copula #Adjective+ (and|or) [#PastTense]$",group:0,tag:"Adjective",reason:"bland-and-overcooked"},{match:"got #Adverb? [#PastTense] of",group:0,tag:"Adjective",reason:"got-tired-of"},{match:"(seem|seems|seemed|appear|appeared|appears|feel|feels|felt|sound|sounds|sounded) (#Adverb|#Adjective)? [#PastTense]",group:0,tag:"Adjective",reason:"felt-loved"},{match:"(seem|feel|seemed|felt) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"seem-confused"},{match:"a (bit|little|tad) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"a-bit-confused"},{match:"not be [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"do-not-be-confused"},{match:"#Copula just [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"is-just-right"},{match:"as [#Infinitive] as",group:0,tag:"Adjective",reason:"as-pale-as"},{match:"[%Adj|Past%] and #Adjective",group:0,tag:"Adjective",reason:"faled-and-oppressive"},{match:"or [#PastTense] #Noun",group:0,tag:"Adjective",notIf:"(#Copula|#Pronoun)",reason:"or-heightened-emotion"},{match:"(become|became|becoming|becomes) [#Verb]",group:0,tag:"Adjective",reason:"become-verb"},{match:"#Possessive [#PastTense] #Noun",group:0,tag:"Adjective",reason:"declared-intentions"},{match:"#Copula #Pronoun [%Adj|Present%]",group:0,tag:"Adjective",reason:"is-he-cool"},{match:"#Copula [%Adj|Past%] with",group:0,tag:"Adjective",notIf:"(associated|worn|baked|aged|armed|bound|fried|loaded|mixed|packed|pumped|filled|sealed)",reason:"is-crowded-with"},{match:"#Copula #Adverb? [%Adj|Present%]$",group:0,tag:"Adjective",reason:"was-empty$"}],[{match:"will (#Adverb|not)+? [have] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"will-have-vb"},{match:"[#Copula] (#Adverb|not)+? (#Gerund|#PastTense)",group:0,tag:"Auxiliary",reason:"copula-walking"},{match:"[(#Modal|did)+] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"modal-verb"},{match:"#Modal (#Adverb|not)+? [have] (#Adverb|not)+? [had] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-have"},{match:"[(has|had)] (#Adverb|not)+? #PastTense",group:0,tag:"Auxiliary",reason:"had-walked"},{match:"[(do|does|did|will|have|had|has|got)] (not|#Adverb)+? #Verb",group:0,tag:"Auxiliary",reason:"have-had"},{match:"[about to] #Adverb? #Verb",group:0,tag:["Auxiliary","Verb"],reason:"about-to"},{match:"#Modal (#Adverb|not)+? [be] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-be"},{match:"[(#Modal|had|has)] (#Adverb|not)+? [been] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"had-been"},{match:"[(be|being|been)] #Participle",group:0,tag:"Auxiliary",reason:"being-driven"},{match:"[may] #Adverb? #Infinitive",group:0,tag:"Auxiliary",reason:"may-want"},{match:"#Copula (#Adverb|not)+? [(be|being|been)] #Adverb+? #PastTense",group:0,tag:"Auxiliary",reason:"being-walked"},{match:"will [be] #PastTense",group:0,tag:"Auxiliary",reason:"will-be-x"},{match:"[(be|been)] (#Adverb|not)+? #Gerund",group:0,tag:"Auxiliary",reason:"been-walking"},{match:"[used to] #PresentTense",group:0,tag:"Auxiliary",reason:"used-to-walk"},{match:"#Copula (#Adverb|not)+? [going to] #Adverb+? #PresentTense",group:0,tag:"Auxiliary",reason:"going-to-walk"},{match:"#Imperative [(me|him|her)]",group:0,tag:"Reflexive",reason:"tell-him"},{match:"(is|was) #Adverb? [no]",group:0,tag:"Negative",reason:"is-no"},{match:"[(been|had|became|came)] #PastTense",group:0,notIf:"#PhrasalVerb",tag:"Auxiliary",reason:"been-told"},{match:"[(being|having|getting)] #Verb",group:0,tag:"Auxiliary",reason:"being-born"},{match:"[be] #Gerund",group:0,tag:"Auxiliary",reason:"be-walking"},{match:"[better] #PresentTense",group:0,tag:"Modal",notIf:"(#Copula|#Gerund)",reason:"better-go"},{match:"even better",tag:"Adverb #Comparative",reason:"even-better"}],[{match:"(#Verb && @hasHyphen) up",tag:"PhrasalVerb",reason:"foo-up"},{match:"(#Verb && @hasHyphen) off",tag:"PhrasalVerb",reason:"foo-off"},{match:"(#Verb && @hasHyphen) over",tag:"PhrasalVerb",reason:"foo-over"},{match:"(#Verb && @hasHyphen) out",tag:"PhrasalVerb",reason:"foo-out"},{match:"[#Verb (in|out|up|down|off|back)] (on|in)",notIf:"#Copula",tag:"PhrasalVerb Particle",reason:"walk-in-on"},{match:"(lived|went|crept|go) [on] for",group:0,tag:"PhrasalVerb",reason:"went-on"},{match:"#Verb (up|down|in|on|for)$",tag:"PhrasalVerb #Particle",notIf:"#PhrasalVerb",reason:"come-down$"},{match:"help [(stop|end|make|start)]",group:0,tag:"Infinitive",reason:"help-stop"},{match:"#PhrasalVerb (in && #Particle) #Determiner",tag:"#Verb #Preposition #Determiner",unTag:"PhrasalVerb",reason:"work-in-the"},{match:"[(stop|start|finish|help)] #Gerund",group:0,tag:"Infinitive",reason:"start-listening"},{match:"#Verb (him|her|it|us|himself|herself|itself|everything|something) [(up|down)]",group:0,tag:"Adverb",reason:"phrasal-pronoun-advb"}],[{match:"^do not? [#Infinitive #Particle?]",notIf:xx,group:0,tag:"Imperative",reason:"do-eat"},{match:"^please do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"please-go"},{match:"^just do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"just-go"},{match:"^[#Infinitive] it #Comparative",notIf:xx,group:0,tag:"Imperative",reason:"do-it-better"},{match:"^[#Infinitive] it (please|now|again|plz)",notIf:xx,group:0,tag:"Imperative",reason:"do-it-please"},{match:"^[#Infinitive] (#Adjective|#Adverb)$",group:0,tag:"Imperative",notIf:"(so|such|rather|enough)",reason:"go-quickly"},{match:"^[#Infinitive] (up|down|over) #Determiner",group:0,tag:"Imperative",reason:"turn-down"},{match:"^[#Infinitive] (your|my|the|a|an|any|each|every|some|more|with|on)",group:0,notIf:"like",tag:"Imperative",reason:"eat-my-shorts"},{match:"^[#Infinitive] (him|her|it|us|me|there)",group:0,tag:"Imperative",reason:"tell-him"},{match:"^[#Infinitive] #Adjective #Noun$",group:0,tag:"Imperative",reason:"avoid-loud-noises"},{match:"^[#Infinitive] (#Adjective|#Adverb)? and #Infinitive",group:0,tag:"Imperative",reason:"call-and-reserve"},{match:"^(go|stop|wait|hurry) please?$",tag:"Imperative",reason:"go"},{match:"^(somebody|everybody) [#Infinitive]",group:0,tag:"Imperative",reason:"somebody-call"},{match:"^let (us|me) [#Infinitive]",group:0,tag:"Imperative",reason:"lets-leave"},{match:"^[(shut|close|open|start|stop|end|keep)] #Determiner #Noun",group:0,tag:"Imperative",reason:"shut-the-door"},{match:"^[#PhrasalVerb #Particle] #Determiner #Noun",group:0,tag:"Imperative",reason:"turn-off-the-light"},{match:"^[go] to .",group:0,tag:"Imperative",reason:"go-to-toronto"},{match:"^#Modal you [#Infinitive]",group:0,tag:"Imperative",reason:"would-you-"},{match:"^never [#Infinitive]",group:0,tag:"Imperative",reason:"never-stop"},{match:"^come #Infinitive",tag:"Imperative",notIf:"on",reason:"come-have"},{match:"^come and? #Infinitive",tag:"Imperative . Imperative",notIf:"#PhrasalVerb",reason:"come-and-have"},{match:"^stay (out|away|back)",tag:"Imperative",reason:"stay-away"},{match:"^[(stay|be|keep)] #Adjective",group:0,tag:"Imperative",reason:"stay-cool"},{match:"^[keep it] #Adjective",group:0,tag:"Imperative",reason:"keep-it-cool"},{match:"^do not [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-be"},{match:"[#Infinitive] (yourself|yourselves)",group:0,tag:"Imperative",reason:"allow-yourself"},{match:"[#Infinitive] what .",group:0,tag:"Imperative",reason:"look-what"},{match:"^[#Infinitive] #Gerund",group:0,tag:"Imperative",reason:"keep-playing"},{match:"^[#Infinitive] (to|for|into|toward|here|there)",group:0,tag:"Imperative",reason:"go-to"},{match:"^[#Infinitive] (and|or) #Infinitive",group:0,tag:"Imperative",reason:"inf-and-inf"},{match:"^[%Noun|Verb%] to",group:0,tag:"Imperative",reason:"commit-to"},{match:"^[#Infinitive] #Adjective? #Singular #Singular",group:0,tag:"Imperative",reason:"maintain-eye-contact"},{match:"do not (forget|omit|neglect) to [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-forget"},{match:"^[(ask|wear|pay|look|help|show|watch|act|fix|kill|stop|start|turn|try|win)] #Noun",group:0,tag:"Imperative",reason:"pay-attention"}],[{match:"(that|which) were [%Adj|Gerund%]",group:0,tag:"Gerund",reason:"that-were-growing"},{match:"#Gerund [#Gerund] #Plural",group:0,tag:"Adjective",reason:"hard-working-fam"}],[{match:"u r",tag:"#Pronoun #Copula",reason:"u r"},{match:"#Noun [(who|whom)]",group:0,tag:"Determiner",reason:"captain-who"},{match:"[had] #Noun+ #PastTense",group:0,tag:"Condition",reason:"had-he"},{match:"[were] #Noun+ to #Infinitive",group:0,tag:"Condition",reason:"were-he"},{match:"some sort of",tag:"Adjective Noun Conjunction",reason:"some-sort-of"},{match:"of some sort",tag:"Conjunction Adjective Noun",reason:"of-some-sort"},{match:"[such] (a|an|is)? #Noun",group:0,tag:"Determiner",reason:"such-skill"},{match:"[right] (before|after|in|into|to|toward)",group:0,tag:"#Adverb",reason:"right-into"},{match:"#Preposition [about]",group:0,tag:"Adjective",reason:"at-about"},{match:"(are|#Modal|see|do|for) [ya]",group:0,tag:"Pronoun",reason:"are-ya"},{match:"[long live] .",group:0,tag:"#Adjective #Infinitive",reason:"long-live"},{match:"[plenty] of",group:0,tag:"#Uncountable",reason:"plenty-of"},{match:"(always|nearly|barely|practically) [there]",group:0,tag:"Adjective",reason:"always-there"},{match:"[there] (#Adverb|#Pronoun)? #Copula",group:0,tag:"There",reason:"there-is"},{match:"#Copula [there] .",group:0,tag:"There",reason:"is-there"},{match:"#Modal #Adverb? [there]",group:0,tag:"There",reason:"should-there"},{match:"^[do] (you|we|they)",group:0,tag:"QuestionWord",reason:"do-you"},{match:"^[does] (he|she|it|#ProperNoun)",group:0,tag:"QuestionWord",reason:"does-he"},{match:"#Determiner #Noun+ [who] #Verb",group:0,tag:"Preposition",reason:"the-x-who"},{match:"#Determiner #Noun+ [which] #Verb",group:0,tag:"Preposition",reason:"the-x-which"},{match:"a [while]",group:0,tag:"Noun",reason:"a-while"},{match:"guess who",tag:"#Infinitive #QuestionWord",reason:"guess-who"},{match:"[fucking] !#Verb",group:0,tag:"#Gerund",reason:"f-as-gerund"}],[{match:"university of #Place",tag:"Organization",reason:"university-of-Foo"},{match:"#Noun (&|n) #Noun",tag:"Organization",reason:"Noun-&-Noun"},{match:"#Organization of the? #ProperNoun",tag:"Organization",reason:"org-of-place",safe:!0},{match:"#Organization #Country",tag:"Organization",reason:"org-country"},{match:"#ProperNoun #Organization",tag:"Organization",notIf:"#FirstName",reason:"titlecase-org"},{match:"#ProperNoun (ltd|co|inc|dept|assn|bros)",tag:"Organization",reason:"org-abbrv"},{match:"the [#Acronym]",group:0,tag:"Organization",reason:"the-acronym",safe:!0},{match:"government of the? [#Place+]",tag:"Organization",reason:"government-of-x"},{match:"(health|school|commerce) board",tag:"Organization",reason:"school-board"},{match:"(nominating|special|conference|executive|steering|central|congressional) committee",tag:"Organization",reason:"special-comittee"},{match:"(world|global|international|national|#Demonym) #Organization",tag:"Organization",reason:"global-org"},{match:"#Noun+ (public|private) school",tag:"School",reason:"noun-public-school"},{match:"#Place+ #SportsTeam",tag:"SportsTeam",reason:"place-sportsteam"},{match:"(dc|atlanta|minnesota|manchester|newcastle|sheffield) united",tag:"SportsTeam",reason:"united-sportsteam"},{match:"#Place+ fc",tag:"SportsTeam",reason:"fc-sportsteam"}],[{match:"(west|north|south|east|western|northern|southern|eastern)+ #Place",tag:"Region",reason:"west-norfolk"},{match:"#City [(al|ak|az|ar|ca|ct|dc|fl|ga|id|il|nv|nh|nj|ny|oh|pa|sc|tn|tx|ut|vt|pr)]",group:0,tag:"Region",reason:"us-state"},{match:"portland [or]",group:0,tag:"Region",reason:"portland-or"},{match:"#ProperNoun+ (cliff|place|range|pit|place|point|room|grounds|ruins)",tag:"Place",reason:"foo-point"},{match:"in [#ProperNoun] #Place",group:0,tag:"Place",reason:"propernoun-place"},{match:"#Value #Noun (st|street|rd|road|crescent|cr|way|tr|terrace|avenue|ave)",tag:"Address",reason:"address-st"}],[{match:"[so] #Noun",group:0,tag:"Conjunction",reason:"so-conj"},{match:"[(who|what|where|why|how|when)] #Noun #Copula #Adverb? (#Verb|#Adjective)",group:0,tag:"Conjunction",reason:"how-he-is-x"},{match:"#Copula [(who|what|where|why|how|when)] #Noun",group:0,tag:"Conjunction",reason:"when-he"},{match:"#Verb [that] #Pronoun",group:0,tag:"Conjunction",reason:"said-that-he"},{match:"#Noun [that] #Copula",group:0,tag:"Conjunction",reason:"that-are"},{match:"#Noun [that] #Verb #Adjective",group:0,tag:"Conjunction",reason:"that-seem"},{match:"#Noun #Copula not? [that] #Adjective",group:0,tag:"Adverb",reason:"that-adj"},{match:"#Verb #Adverb? #Noun [(that|which)]",group:0,tag:"Preposition",reason:"that-prep"},{match:"@hasComma [which] (#Pronoun|#Verb)",group:0,tag:"Preposition",reason:"which-copula"},{match:"#Noun [like] #Noun",group:0,tag:"Preposition",reason:"noun-like"},{match:"^[like] #Determiner",group:0,tag:"Preposition",reason:"like-the"},{match:"a #Noun [like] (#Noun|#Determiner)",group:0,tag:"Preposition",reason:"a-noun-like"},{match:"#Adverb [like]",group:0,tag:"Verb",reason:"really-like"},{match:"(not|nothing|never) [like]",group:0,tag:"Preposition",reason:"nothing-like"},{match:"#Infinitive #Pronoun [like]",group:0,tag:"Preposition",reason:"treat-them-like"},{match:"[#QuestionWord] (#Pronoun|#Determiner)",group:0,tag:"Preposition",reason:"how-he"},{match:"[#QuestionWord] #Participle",group:0,tag:"Preposition",reason:"when-stolen"},{match:"[how] (#Determiner|#Copula|#Modal|#PastTense)",group:0,tag:"QuestionWord",reason:"how-is"},{match:"#Plural [(who|which|when)] .",group:0,tag:"Preposition",reason:"people-who"}],[{match:"holy (shit|fuck|hell)",tag:"Expression",reason:"swears-expression"},{match:"^[(well|so|okay|now)] !#Adjective?",group:0,tag:"Expression",reason:"well-"},{match:"^come on",tag:"Expression",reason:"come-on"},{match:"(say|says|said) [sorry]",group:0,tag:"Expression",reason:"say-sorry"},{match:"^(ok|alright|shoot|hell|anyways)",tag:"Expression",reason:"ok-"},{match:"^(say && @hasComma)",tag:"Expression",reason:"say-"},{match:"^(like && @hasComma)",tag:"Expression",reason:"like-"},{match:"^[(dude|man|girl)] #Pronoun",group:0,tag:"Expression",reason:"dude-i"}])}};let Mx=null;const _Te={postTagger:function(t){const{world:e}=t,{model:n,methods:r}=e;Mx=Mx||r.one.buildNet(n.two.matches,e);let s=r.two.quickSplit(t.document).map(a=>{let u=a[0];return[u.index[0],u.index[1],u.index[1]+a.length]}),o=t.update(s);return o.cache(),o.sweep(Mx),t.uncache(),t.unfreeze(),t},tagger:t=>t.compute(["freeze","lexicon","preTagger","postTagger","unfreeze"])},wTe={api:function bTe(t){t.prototype.confidence=function(){let e=0,n=0;return this.docs.forEach(r=>{r.forEach(i=>{n+=1,e+=i.confidence||1})}),0===n?1:(t=>Math.round(100*t)/100)(e/n)},t.prototype.tagger=function(){return this.compute(["tagger"])}},compute:_Te,model:yTe,hooks:["postTagger"]},TTe={lib:{lazy:function(t,e){let n=e;"string"==typeof e&&(n=this.buildNet([{match:e}]));let r=this.tokenize(t),i=function(t,e){let n=function(t){return Object.keys(t.hooks).filter(e=>!e.startsWith("#")&&!e.startsWith("%"))}(e);if(0===n.length)return t;t._cache||t.cache();let r=t._cache;return t.filter((i,s)=>n.some(o=>r[s].has(o)))}(r,n);return i.found?(i.compute(["index","tagger"]),i.match(e)):r.none()}}},NTe=function(t,e,n){let r=t.split(/ /g).map(s=>s.toLowerCase().trim());r=r.filter(s=>s),r=r.map(s=>`{${s}}`).join(" ");let i=this.match(r);return n&&(i=i.if(n)),i.has("#Verb")?function(t,e){let n=e;return t.forEach(r=>{r.has("#Infinitive")||(n=function(t,e){let r=(0,t.methods.two.transform.verb.conjugate)(e,t.model);return t.has("#Gerund")?r.Gerund:t.has("#PastTense")?r.PastTense:t.has("#PresentTense")?r.PresentTense:t.has("#Gerund")?r.Gerund:e}(r,e)),r.replaceWith(n)}),t}(i,e):i.has("#Noun")?function(t,e){let n=e;t.has("#Plural")&&(n=(0,t.methods.two.transform.noun.toPlural)(e,t.model)),t.replaceWith(n,{possessives:!0})}(i,e):i.has("#Adverb")?function(t,e){const{toAdverb:n}=t.methods.two.transform.adjective;let i=n(e);i&&t.replaceWith(i)}(i,e):i.has("#Adjective")?function(t,e){const{toComparative:n,toSuperlative:r}=t.methods.two.transform.adjective;let i=e;t.has("#Comparative")?i=n(i,t.model):t.has("#Superlative")&&(i=r(i,t.model)),i&&t.replaceWith(i)}(i,e):this},RTe={api:function(t){t.prototype.swap=NTe}};qg.plugin(pIe),qg.plugin(HIe),qg.plugin(wTe),qg.plugin(TTe),qg.plugin(RTe);const Eo=qg,Xg=function(t){const{fromComparative:e,fromSuperlative:n}=t.methods.two.transform.adjective;let r=t.text("normal");return t.has("#Comparative")?e(r,t.model):t.has("#Superlative")?n(r,t.model):r},kTe={api:function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Adjectives"}json(r={}){const{toAdverb:i,toNoun:s,toSuperlative:o,toComparative:a}=this.methods.two.transform.adjective;return r.normal=!0,this.map(u=>{let l=u.toView().json(r)[0]||{},d=Xg(u);return l.adjective={adverb:i(d,this.model),noun:s(d,this.model),superlative:o(d,this.model),comparative:a(d,this.model)},l},[])}adverbs(){return this.before("#Adverb+$").concat(this.after("^#Adverb+"))}conjugate(r){const{toComparative:i,toSuperlative:s,toNoun:o,toAdverb:a}=this.methods.two.transform.adjective;return this.getNth(r).map(u=>{let l=Xg(u);return{Adjective:l,Comparative:i(l,this.model),Superlative:s(l,this.model),Noun:o(l,this.model),Adverb:a(l,this.model)}},[])}toComparative(r){const{toComparative:i}=this.methods.two.transform.adjective;return this.getNth(r).map(s=>{let o=Xg(s),a=i(o,this.model);return s.replaceWith(a)})}toSuperlative(r){const{toSuperlative:i}=this.methods.two.transform.adjective;return this.getNth(r).map(s=>{let o=Xg(s),a=i(o,this.model);return s.replaceWith(a)})}toAdverb(r){const{toAdverb:i}=this.methods.two.transform.adjective;return this.getNth(r).map(s=>{let o=Xg(s),a=i(o,this.model);return s.replaceWith(a)})}toNoun(r){const{toNoun:i}=this.methods.two.transform.adjective;return this.getNth(r).map(s=>{let o=Xg(s),a=i(o,this.model);return s.replaceWith(a)})}}t.prototype.adjectives=function(n){let r=this.match("#Adjective");return r=r.getNth(n),new e(r.document,r.pointer)},t.prototype.superlatives=function(n){let r=this.match("#Superlative");return r=r.getNth(n),new e(r.document,r.pointer)},t.prototype.comparatives=function(n){let r=this.match("#Comparative");return r=r.getNth(n),new e(r.document,r.pointer)}}},LTe=function(t){let e=this;e=function(t){let e=t.parentheses();return e=e.filter(n=>n.wordCount()>=3&&n.has("#Verb")&&n.has("#Noun")),t.splitOn(e)}(e),e=function(t){let e=t.quotations();return e=e.filter(n=>n.wordCount()>=3&&n.has("#Verb")&&n.has("#Noun")),t.splitOn(e)}(e),e=function(t){let e=t.match("@hasComma");return e=e.filter(n=>{if(1===n.growLeft(".").wordCount()||1===n.growRight(". .").wordCount())return!1;let r=n.grow(".");return r=r.ifNo("@hasComma @hasComma"),r=r.ifNo("@hasComma (and|or) ."),r=r.ifNo("(#City && @hasComma) #Country"),r=r.ifNo("(#WeekDay && @hasComma) #Date"),r=r.ifNo("(#Date+ && @hasComma) #Value"),r=r.ifNo("(#Adjective && @hasComma) #Adjective"),r.found}),t.splitAfter(e)}(e),e=e.splitAfter("(@hasEllipses|@hasSemicolon|@hasDash|@hasColon)"),e=e.splitAfter("^#Pronoun (said|says)"),e=e.splitBefore("(said|says) #ProperNoun$"),e=e.splitBefore(". . if .{4}"),e=e.splitBefore("and while"),e=e.splitBefore("now that"),e=e.splitBefore("ever since"),e=e.splitBefore("(supposing|although)"),e=e.splitBefore("even (while|if|though)"),e=e.splitBefore("(whereas|whose)"),e=e.splitBefore("as (though|if)"),e=e.splitBefore("(til|until)");let n=e.match("#Verb .* [but] .* #Verb",0);n.found&&(e=e.splitBefore(n));let r=e.if("if .{2,9} then .").match("then");return e=e.splitBefore(r),"number"==typeof t&&(e=e.get(t)),e},h8={this:"Noun",then:"Pivot"},$Te=[{match:"[that] #Determiner #Noun",group:0,chunk:"Pivot"},{match:"#PastTense [that]",group:0,chunk:"Pivot"},{match:"[so] #Determiner",group:0,chunk:"Pivot"},{match:"#Copula #Adverb+? [#Adjective]",group:0,chunk:"Adjective"},{match:"#Adjective and #Adjective",chunk:"Adjective"},{match:"#Adverb+ and #Adverb #Verb",chunk:"Verb"},{match:"#Gerund #Adjective$",chunk:"Verb"},{match:"#Gerund to #Verb",chunk:"Verb"},{match:"#PresentTense and #PresentTense",chunk:"Verb"},{match:"#Adverb #Negative",chunk:"Verb"},{match:"(want|wants|wanted) to #Infinitive",chunk:"Verb"},{match:"#Verb #Reflexive",chunk:"Verb"},{match:"#Verb [to] #Adverb? #Infinitive",group:0,chunk:"Verb"},{match:"[#Preposition] #Gerund",group:0,chunk:"Verb"},{match:"#Infinitive [that] <Noun>",group:0,chunk:"Verb"},{match:"#Noun of #Determiner? #Noun",chunk:"Noun"},{match:"#Value+ #Adverb? #Adjective",chunk:"Noun"},{match:"the [#Adjective] #Noun",chunk:"Noun"},{match:"#Singular in #Determiner? #Singular",chunk:"Noun"},{match:"#Plural [in] #Determiner? #Noun",group:0,chunk:"Pivot"},{match:"#Noun and #Determiner? #Noun",notIf:"(#Possessive|#Pronoun)",chunk:"Noun"}];let Ox=null;const Fx=function(t,e){if((typeof process>"u"||!process.env?self.env||{}:process.env).DEBUG_CHUNKS){let r=(t.normal+"'").padEnd(8);console.log(`  | '${r}  \u2192  \x1b[34m${e.padEnd(12)}\x1b[0m \x1b[2m -fallback- \x1b[0m`)}t.chunk=e},WTe={compute:{chunks:function(t){const{document:e,world:n}=t;(function(t){for(let e=0;e<t.length;e+=1)for(let n=0;n<t[e].length;n+=1){let r=t[e][n];!0!==h8.hasOwnProperty(r.normal)?r.tags.has("Verb")?r.chunk="Verb":r.tags.has("Noun")||r.tags.has("Determiner")||r.tags.has("Value")?r.chunk="Noun":r.tags.has("QuestionWord")&&(r.chunk="Pivot"):r.chunk=h8[r.normal]}})(e),function(t){for(let e=0;e<t.length;e+=1)for(let n=0;n<t[e].length;n+=1){let r=t[e][n];if(r.chunk)continue;let i=t[e][n+1],s=t[e][n-1];if(r.tags.has("Adjective")){if(s&&s.tags.has("Copula")){r.chunk="Adjective";continue}if(s&&s.tags.has("Determiner")){r.chunk="Noun";continue}if(i&&i.tags.has("Noun")){r.chunk="Noun";continue}}else if(r.tags.has("Adverb")||r.tags.has("Negative")){if(s&&s.tags.has("Adjective")){r.chunk="Adjective";continue}if(s&&s.tags.has("Verb")){r.chunk="Verb";continue}if(i&&i.tags.has("Adjective")){r.chunk="Adjective";continue}if(i&&i.tags.has("Verb")){r.chunk="Verb";continue}}}}(e),function(t,e,n){const{methods:r}=n;Ox=Ox||r.one.buildNet($Te,n),t.sweep(Ox)}(t,0,n),function(t){for(let e=0;e<t.length;e+=1)for(let n=0;n<t[e].length;n+=1){let r=t[e][n];void 0===r.chunk&&(r.tags.has("Conjunction")||r.tags.has("Preposition")?Fx(r,"Pivot"):r.tags.has("Adverb")?Fx(r,"Verb"):r.chunk="Noun")}}(e),function(t){let e=[],n=null;t.forEach(r=>{for(let i=0;i<r.length;i+=1){let s=r[i];n&&s.chunk===n?e[e.length-1].terms.push(s):(e.push({chunk:s.chunk,terms:[s]}),n=s.chunk)}}),e.forEach(r=>{"Verb"===r.chunk&&(r.terms.find(s=>s.tags.has("Verb"))||r.terms.forEach(s=>s.chunk=null))})}(e)}},api:function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Chunks"}isVerb(){return this.filter(r=>r.has("<Verb>"))}isNoun(){return this.filter(r=>r.has("<Noun>"))}isAdjective(){return this.filter(r=>r.has("<Adjective>"))}isPivot(){return this.filter(r=>r.has("<Pivot>"))}debug(){return this.toView().debug("chunks"),this}update(r){let i=new e(this.document,r);return i._cache=this._cache,i}}t.prototype.chunks=function(n){let r=function(t){let e=[],n=null;return t.clauses().docs.forEach(s=>{s.forEach(o=>{o.chunk&&o.chunk===n?e[e.length-1][2]=o.index[1]+1:(n=o.chunk,e.push([o.index[0],o.index[1],o.index[1]+1]))}),n=null}),t.update(e)}(this);return r=r.getNth(n),new e(this.document,r.pointer)},t.prototype.clauses=LTe},hooks:["chunks"]},YT=/\./g,f8=/\(/,p8=/\)/,QTe=function(t,e){for(;e<t.length;e+=1)if(t[e].post&&p8.test(t[e].post)){let[,n]=t[e].index;return n=n||0,n}return null},g8=/'s$/,XT={'"':'"',"\uff02":"\uff02","'":"'","\u201c":"\u201d","\u2018":"\u2019","\u201f":"\u201d","\u201b":"\u2019","\u201e":"\u201d","\u2e42":"\u201d","\u201a":"\u2019","\xab":"\xbb","\u2039":"\u203a","\u2035":"\u2032","\u2036":"\u2033","\u2037":"\u2034","\u301d":"\u301e","`":"\xb4","\u301f":"\u301e"},Vx=RegExp("["+Object.keys(XT).join("")+"]"),tAe=RegExp("["+Object.values(XT).join("")+"]"),nAe=function(t,e){const n=t[e].pre.match(Vx)[0]||"";if(!n||!XT[n])return null;const r=XT[n];for(;e<t.length;e+=1)if(t[e].post&&t[e].post.match(r))return e;return null},oAe=function(t){let e=this.splitAfter("@hasComma");return e=e.match("#PhoneNumber+"),e=e.getNth(t),e},aAe=[["hyphenated","@hasHyphen ."],["hashTags","#HashTag"],["emails","#Email"],["emoji","#Emoji"],["emoticons","#Emoticon"],["atMentions","#AtMention"],["urls","#Url"],["conjunctions","#Conjunction"],["prepositions","#Preposition"],["abbreviations","#Abbreviation"],["honorifics","#Honorific"]];let uAe=[["emojis","emoji"],["atmentions","atMentions"]];const cAe={api:function(t){(function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Acronyms"}strip(){return this.docs.forEach(r=>{r.forEach(i=>{i.text=i.text.replace(YT,""),i.normal=i.normal.replace(YT,"")})}),this}addPeriods(){return this.docs.forEach(r=>{r.forEach(i=>{i.text=i.text.replace(YT,""),i.normal=i.normal.replace(YT,""),i.text=i.text.split("").join(".")+".",i.normal=i.normal.split("").join(".")+"."})}),this}}t.prototype.acronyms=function(n){let r=this.match("#Acronym");return r=r.getNth(n),new e(r.document,r.pointer)}})(t),function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Possessives"}strip(){return function(t){return t.docs.forEach(e=>{e[0].pre=e[0].pre.replace(f8,"");let n=e[e.length-1];n.post=n.post.replace(p8,"")}),t}(this)}}t.prototype.parentheses=function(n){let r=function(t){let e=[];return t.docs.forEach(n=>{for(let i=0;i<n.length;i+=1){let s=n[i];if(s.pre&&f8.test(s.pre)){let o=QTe(n,i);if(null!==o){let[a,u]=n[i].index;e.push([a,u,o+1,n[i].id]),i=o}}}}),t.update(e)}(this);return r=r.getNth(n),new e(r.document,r.pointer)}}(t),function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Possessives"}strip(){return this.docs.forEach(r=>{r.forEach(i=>{i.text=i.text.replace(g8,""),i.normal=i.normal.replace(g8,"")})}),this}}t.prototype.possessives=function(n){let r=function(t){let e=t.match("#Possessive+");return e.has("#Person")&&(e=e.growLeft("#Person+")),e.has("#Place")&&(e=e.growLeft("#Place+")),e.has("#Organization")&&(e=e.growLeft("#Organization+")),e}(this);return r=r.getNth(n),new e(r.document,r.pointer)}}(t),function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Possessives"}strip(){return function(t){t.docs.forEach(e=>{e[0].pre=e[0].pre.replace(Vx,"");let n=e[e.length-1];n.post=n.post.replace(tAe,"")})}(this)}}t.prototype.quotations=function(n){let r=function(t){let e=[];return t.docs.forEach(n=>{for(let i=0;i<n.length;i+=1){let s=n[i];if(s.pre&&Vx.test(s.pre)){let o=nAe(n,i);if(null!==o){let[a,u]=n[i].index;e.push([a,u,o+1,n[i].id]),i=o}}}}),t.update(e)}(this);return r=r.getNth(n),new e(r.document,r.pointer)}}(t),function(t){aAe.forEach(e=>{t.prototype[e[0]]=function(n){let r=this.match(e[1]);return"number"==typeof n?r.get(n):r}}),t.prototype.phoneNumbers=oAe,uAe.forEach(e=>{t.prototype[e[0]]=t.prototype[e[1]]})}(t)}},ZT=function(t,e){t.docs.forEach(n=>{n.forEach(e)})},m8={case:t=>{ZT(t,e=>{e.text=e.text.toLowerCase()})},unicode:t=>{const e=t.world,n=e.methods.one.killUnicode;ZT(t,r=>r.text=n(r.text,e))},whitespace:t=>{ZT(t,e=>{e.post=e.post.replace(/\s+/g," "),e.post=e.post.replace(/\s([.,?!:;])/g,"$1"),e.pre=e.pre.replace(/\s+/g,"")})},punctuation:t=>{ZT(t,r=>{r.post=r.post.replace(/[\u2013\u2014-]/g," "),r.post=r.post.replace(/[,:;]/g,""),r.post=r.post.replace(/\.{2,}/g,""),r.post=r.post.replace(/\?{2,}/g,"?"),r.post=r.post.replace(/!{2,}/g,"!"),r.post=r.post.replace(/\?!+/g,"?")});let e=t.docs,n=e[e.length-1];if(n&&n.length>0){let r=n[n.length-1];r.post=r.post.replace(/ /g,"")}},contractions:t=>{t.contractions().expand()},acronyms:t=>{t.acronyms().strip()},parentheses:t=>{t.parentheses().strip()},possessives:t=>{t.possessives().strip()},quotations:t=>{t.quotations().strip()},emoji:t=>{t.emojis().remove()},honorifics:t=>{t.match("#Honorific+ #Person").honorifics().remove()},adverbs:t=>{t.adverbs().remove()},nouns:t=>{t.nouns().toSingular()},verbs:t=>{t.verbs().toInfinitive()},numbers:t=>{t.numbers().toNumber()},debullet:t=>{const e=/^\s*([-\u2013\u2014*\u2022])\s*$/;return t.docs.forEach(n=>{e.test(n[0].pre)&&(n[0].pre=n[0].pre.replace(e,""))}),t}},Lx=t=>t.split("|").reduce((e,n)=>(e[n]=!0,e),{}),jx="unicode|punctuation|whitespace|acronyms",y8="|case|contractions|parentheses|quotations|emoji|honorifics|debullet",dAe={light:Lx(jx),medium:Lx(jx+y8),heavy:Lx(jx+y8+"|possessives|adverbs|nouns|verbs")},fAe={api:function hAe(t){t.prototype.normalize=function(e="light"){return"string"==typeof e&&(e=dAe[e]),Object.keys(e).forEach(n=>{m8.hasOwnProperty(n)&&m8[n](this,e[n])}),this}}},_8=["after","although","as if","as long as","as","because","before","even if","even though","ever since","if","in order that","provided that","since","so that","than","that","though","unless","until","what","whatever","when","whenever","where","whereas","wherever","whether","which","whichever","who","whoever","whom","whomever","whose"],gAe=function(t){if(t.before("#Preposition$").found)return!0;if(!t.before().found)return!1;for(let n=0;n<_8.length;n+=1)if(t.has(_8[n]))return!0;return!1},yAe=function(t,e){if(t.has("#Plural")||t.has("#Noun and #Noun")||t.has("(we|they)"))return!0;if(!0===e.has("(#Pronoun|#Place|#Value|#Person|#Uncountable|#Month|#WeekDay|#Holiday|#Possessive)")||t.has("#Singular"))return!1;let n=e.text("normal");return n.length>3&&n.endsWith("s")&&!n.endsWith("ss")},ed=function(t){let e=function(t){let e=t.clone();return e=e.match("#Noun+"),e=e.remove("(#Adjective|#Preposition|#Determiner|#Value)"),e=e.not("#Possessive"),e=e.first(),e.found?e:t}(t);return{determiner:t.match("#Determiner").eq(0),adjectives:t.match("#Adjective"),number:t.values(),isPlural:yAe(t,e),isSubordinate:gAe(t),root:e}},v8=t=>t.text(),vAe=t=>t.json({terms:!1,normal:!0}).map(e=>e.normal),bAe=function(t){if(!t.found)return null;let n=t.values(0);return n.found?(n.parse()[0]||{}).num:null},b8=function(t){return!t.has("^(#Uncountable|#ProperNoun|#Place|#Pronoun|#Acronym)+$")},EAe={tags:!0},TAe={tags:!0},CAe={api:function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Nouns"}parse(r){return this.getNth(r).map(ed)}json(r){let i="object"==typeof r?r:{};return this.getNth(r).map(s=>{let o=s.toView().json(i)[0]||{};return i&&!1!==i.noun&&(o.noun=function(t){let e=ed(t);return{root:v8(e.root),number:bAe(e.number),determiner:v8(e.determiner),adjectives:vAe(e.adjectives),isPlural:e.isPlural,isSubordinate:e.isSubordinate}}(s)),o},[])}conjugate(r){const i=this.world.methods.two.transform.noun;return this.getNth(r).map(s=>{let o=ed(s),a=o.root.compute("root").text("root"),u={Singular:a};return b8(o.root)&&(u.Plural=i.toPlural(a,this.model)),u.Singular===u.Plural&&delete u.Plural,u},[])}isPlural(r){return this.filter(s=>ed(s).isPlural).getNth(r)}isSingular(r){return this.filter(s=>!ed(s).isPlural).getNth(r)}adjectives(r){let i=this.update([]);return this.forEach(s=>{let o=ed(s).adjectives;o.found&&(i=i.concat(o))}),i.getNth(r)}toPlural(r){return this.getNth(r).map(i=>function(t,e){if(!0===e.isPlural||(e.root.has("#Possessive")&&(e.root=e.root.possessives().strip()),!b8(e.root)))return t;const{methods:n,model:r}=t.world,{toPlural:i}=n.two.transform.noun;let o=i(e.root.text({keepPunct:!1}),r);t.match(e.root).replaceWith(o,EAe).tag("Plural","toPlural"),e.determiner.has("(a|an)")&&t.remove(e.determiner);let a=e.root.after("not? #Adverb+? [#Copula]",0);return a.found&&(a.has("is")?t.replace(a,"are"):a.has("was")&&t.replace(a,"were")),t}(i,ed(i)))}toSingular(r){return this.getNth(r).map(i=>function(t,e){if(!1===e.isPlural)return t;const{methods:n,model:r}=t.world,{toSingular:i}=n.two.transform.noun;let o=i(e.root.text("normal"),r);return t.replace(e.root,o,TAe).tag("Singular","toPlural"),t}(i,ed(i)))}update(r){let i=new e(this.document,r);return i._cache=this._cache,i}}t.prototype.nouns=function(n){let r=function(t){let e=t.clauses().match("<Noun>"),n=e.match("@hasComma");return n=n.not("#Place"),n.found&&(e=e.splitAfter(n)),e=e.splitOn("#Expression"),e=e.splitOn("(he|she|we|you|they|i)"),e=e.splitOn("(#Noun|#Adjective) [(he|him|she|it)]",0),e=e.splitOn("[(he|him|she|it)] (#Determiner|#Value)",0),e=e.splitBefore("#Noun [(the|a|an)] #Adjective? #Noun",0),e=e.splitOn("[(here|there)] #Noun",0),e=e.splitOn("[#Noun] (here|there)",0),e=e.splitBefore("(our|my|their|your)"),e=e.splitOn("#Noun [#Determiner]",0),e=e.if("#Noun"),e}(this);return r=r.getNth(n),new e(this.document,r.pointer)}}},Jr={ones:{zeroth:0,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9},teens:{tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19},tens:{twentieth:20,thirtieth:30,fortieth:40,fourtieth:40,fiftieth:50,sixtieth:60,seventieth:70,eightieth:80,ninetieth:90,twenty:20,thirty:30,forty:40,fourty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90},multiples:{hundredth:100,thousandth:1e3,millionth:1e6,billionth:1e9,trillionth:1e12,quadrillionth:1e15,quintillionth:1e18,sextillionth:1e21,septillionth:1e24,hundred:100,thousand:1e3,million:1e6,billion:1e9,trillion:1e12,quadrillion:1e15,quintillion:1e18,sextillion:1e21,septillion:1e24,grand:1e3}},PAe=(t,e)=>{if(Jr.ones.hasOwnProperty(t)){if(e.ones||e.teens)return!1}else if(Jr.teens.hasOwnProperty(t)){if(e.ones||e.teens||e.tens)return!1}else if(Jr.tens.hasOwnProperty(t)&&(e.ones||e.teens||e.tens))return!1;return!0},NAe=function(t){let e="0.";for(let n=0;n<t.length;n++){let r=t[n];if(!0===Jr.ones.hasOwnProperty(r))e+=Jr.ones[r];else if(!0===Jr.teens.hasOwnProperty(r))e+=Jr.teens[r];else if(!0===Jr.tens.hasOwnProperty(r))e+=Jr.tens[r];else{if(!0!==/^[0-9]$/.test(r))return 0;e+=r}}return parseFloat(e)},RAe=t=>(t=(t=(t=(t=(t=(t=(t=t.replace(/1st$/,"1")).replace(/2nd$/,"2")).replace(/3rd$/,"3")).replace(/([4567890])r?th$/,"$1")).replace(/^[$\u20ac\xa5\xa3\xa2]/,"")).replace(/[%$\u20ac\xa5\xa3\xa2]$/,"")).replace(/,/g,"")).replace(/([0-9])([a-z\u00C0-\u00FF]{1,2})$/,"$1"),kAe=/^([0-9,. ]+)\/([0-9,. ]+)$/,w8={"a few":3,"a couple":2,"a dozen":12,"two dozen":24,zero:0},eA=t=>Object.keys(t).reduce((e,n)=>e+t[n],0),Ux=function(t){if(!0===w8.hasOwnProperty(t))return w8[t];if("a"===t||"an"===t)return 1;const e=(t=>{const e=[{reg:/^(minus|negative)[\s-]/i,mult:-1},{reg:/^(a\s)?half[\s-](of\s)?/i,mult:.5}];for(let n=0;n<e.length;n++)if(!0===e[n].reg.test(t))return{amount:e[n].mult,str:t.replace(e[n].reg,"")};return{amount:1,str:t}})(t);let n=null,r={},i=0,s=!1;const o=(t=e.str).split(/[ -]/);for(let a=0;a<o.length;a++){let u=o[a];if(u=RAe(u),!u||"and"===u)continue;if("-"===u||"negative"===u){s=!0;continue}if("-"===u.charAt(0)&&(s=!0,u=u.substring(1)),"point"===u)return i+=eA(r),i+=NAe(o.slice(a+1,o.length)),i*=e.amount,i;const l=u.match(kAe);if(l){const d=parseFloat(l[1].replace(/[, ]/g,"")),g=parseFloat(l[2].replace(/[, ]/g,""));g&&(i+=d/g||0)}else{if(Jr.tens.hasOwnProperty(u)&&r.ones&&1===Object.keys(r).length&&(i=100*r.ones,r={}),!1===PAe(u,r))return null;if(/^[0-9.]+$/.test(u))r.ones=parseFloat(u);else if(!0===Jr.ones.hasOwnProperty(u))r.ones=Jr.ones[u];else if(!0===Jr.teens.hasOwnProperty(u))r.teens=Jr.teens[u];else if(!0===Jr.tens.hasOwnProperty(u))r.tens=Jr.tens[u];else if(!0===Jr.multiples.hasOwnProperty(u)){let d=Jr.multiples[u];if(d===n)return null;if(100===d&&void 0!==o[a+1]){const g=o[a+1];Jr.multiples[g]&&(d*=Jr.multiples[g],a+=1)}null===n||d<n?(i+=(eA(r)||1)*d,n=d,r={}):(i+=eA(r),n=d,i=(i||1)*d,r={})}}}return i+=eA(r),i*=e.amount,i*=s?-1:1,0===i&&0===Object.keys(r).length?null:i},E8=/s$/,u0=function(t){let e=t.text("reduced");return Ux(e)};let tA={half:2,halve:2,quarter:4};const Dl=function(t){let e=function(t){let e=t.text("reduced");return tA.hasOwnProperty(e)?{numerator:1,denominator:tA[e]}:null}(t=t.clone())||function(t){let n=t.text("reduced").match(/^([-+]?[0-9]+)\/([-+]?[0-9]+)(st|nd|rd|th)?s?$/);return n&&n[1]&&n[0]?{numerator:Number(n[1]),denominator:Number(n[2])}:null}(t)||function(t){let e=t.match("[<num>#Value+] out of every? [<den>#Value+]");if(!0!==e.found)return null;let{num:n,den:r}=e.groups();return n&&r&&(n=u0(n),r=u0(r),n&&r)&&"number"==typeof n&&"number"==typeof r?{numerator:n,denominator:r}:null}(t)||function(t){let e=t.match("[<num>(#Cardinal|a)+] [<den>#Fraction+]");if(!0!==e.found)return null;let{num:n,den:r}=e.groups();n=n.has("a")?1:u0(n);let i=r.text("reduced");return E8.test(i)&&(i=i.replace(E8,""),r=r.replaceWith(i)),r=tA.hasOwnProperty(i)?tA[i]:u0(r),"number"==typeof n&&"number"==typeof r?{numerator:n,denominator:r}:null}(t)||function(t){let e=t.match("^#Ordinal$");return!0!==e.found?null:t.lookAhead("^of .")?{numerator:1,denominator:u0(e)}:null}(t)||null;return null!==e&&e.numerator&&e.denominator&&(e.decimal=e.numerator/e.denominator,e.decimal=(t=>{let e=Math.round(1e3*t)/1e3;return 0===e&&0!==t?t:e})(e.decimal)),e},Bx=function(t){if(t<1e6)return String(t);let e;return e="number"==typeof t?t.toFixed(0):t,-1===e.indexOf("e+")?e:e.replace(".","").split("e+").reduce(function(n,r){return n+Array(r-n.length+2).join(0)})},nA=[["ninety",90],["eighty",80],["seventy",70],["sixty",60],["fifty",50],["forty",40],["thirty",30],["twenty",20]],I8=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],jAe=[[1e24,"septillion"],[1e20,"hundred sextillion"],[1e21,"sextillion"],[1e20,"hundred quintillion"],[1e18,"quintillion"],[1e17,"hundred quadrillion"],[1e15,"quadrillion"],[1e14,"hundred trillion"],[1e12,"trillion"],[1e11,"hundred billion"],[1e9,"billion"],[1e8,"hundred million"],[1e6,"million"],[1e5,"hundred thousand"],[1e3,"thousand"],[100,"hundred"],[1,"one"]],BAe=function(t){let e=[];if(t>100)return e;for(let n=0;n<nA.length;n++)t>=nA[n][1]&&(t-=nA[n][1],e.push(nA[n][0]));return I8[t]&&e.push(I8[t]),e},l0=function(t){let e=t.num;if(0===e||"0"===e)return"zero";e>1e21&&(e=Bx(e));let n=[];e<0&&(n.push("minus"),e=Math.abs(e));let r=function(t){let e=t,n=[];return jAe.forEach(r=>{if(t>=r[0]){let i=Math.floor(e/r[0]);e-=i*r[0],i&&n.push({unit:r[1],count:i})}}),n}(e);for(let i=0;i<r.length;i++){let s=r[i].unit;"one"===s&&(s="",n.length>1&&n.push("and")),n=n.concat(BAe(r[i].count)),n.push(s)}return n=n.concat((t=>{const e=["zero","one","two","three","four","five","six","seven","eight","nine"];let n=[],i=Bx(t).match(/\.([0-9]+)/);if(!i||!i[0])return n;n.push("point");let s=i[0].split("");for(let o=0;o<s.length;o++)n.push(e[s[o]]);return n})(e)),n=n.filter(i=>i),0===n.length&&(n[0]=""),n.join(" ")},T8={one:"first",two:"second",three:"third",five:"fifth",eight:"eighth",nine:"ninth",twelve:"twelfth",twenty:"twentieth",thirty:"thirtieth",forty:"fortieth",fourty:"fourtieth",fifty:"fiftieth",sixty:"sixtieth",seventy:"seventieth",eighty:"eightieth",ninety:"ninetieth"},A8=t=>{let e=l0(t).split(" "),n=e[e.length-1];return e[e.length-1]=T8.hasOwnProperty(n)?T8[n]:n.replace(/y$/,"i")+"th",e.join(" ")},td="twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety|fourty",Hx=function(t){let e=t.match("#Value+");if(e.has("#NumericValue #NumericValue")&&(e.has("#Value @hasComma #Value")?e.splitAfter("@hasComma"):e.has("#NumericValue #Fraction")?e.splitAfter("#NumericValue #Fraction"):e=e.splitAfter("#NumericValue")),e.has("#Value #Value #Value")&&!e.has("#Multiple")&&e.has("("+td+") #Cardinal #Cardinal")&&(e=e.splitAfter("("+td+") #Cardinal")),e.has("#Value #Value")){e.has("#NumericValue #NumericValue")&&(e=e.splitOn("#Year")),e.has("("+td+") (eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen|nineteen)")&&(e=e.splitAfter("("+td+")"));let n=e.match("#Cardinal #Cardinal");if(n.found&&!e.has("(point|decimal|#Fraction)")&&!n.has("#Cardinal (#Multiple|point|decimal)")){let r=e.has(`(one|two|three|four|five|six|seven|eight|nine) (${td})`),i=n.has("("+td+") #Cardinal"),s=n.has("#Multiple #Value");!r&&!i&&!s&&n.terms().forEach(o=>{e=e.splitOn(o)})}e.match("#Ordinal #Ordinal").match("#TextValue").found&&!e.has("#Multiple")&&(e.has("("+td+") #Ordinal")||(e=e.splitAfter("#Ordinal"))),e=e.splitBefore("#Ordinal [#Cardinal]",0),e.has("#TextValue #NumericValue")&&!e.has("("+td+"|#Multiple)")&&(e=e.splitBefore("#TextValue #NumericValue"))}return e=e.splitAfter("#NumberRange"),e=e.splitBefore("#Year"),e},ki=function(t){if("string"==typeof t)return{num:Ux(t)};let e=t.text("reduced"),n=t.growRight("#Unit").match("#Unit$").text("machine"),r=/[0-9],[0-9]/.test(t.text("text"));if(1===t.terms().length&&!t.has("#Multiple")){let a=function(t,e){let n=(t=t.replace(/,/g,"")).split(/([0-9.,]*)/),[r,i]=n,s=n.slice(2).join("");return""!==i&&e.length<2?(i=Number(i||t),"number"!=typeof i&&(i=null),s=s||"",("st"===s||"nd"===s||"rd"===s||"th"===s)&&(s=""),{prefix:r||"",num:i,suffix:s}):null}(e,t);if(null!==a)return a.hasComma=r,a.unit=n,a}let i=t.match("#Fraction{2,}$");i=!1===i.found?t.match("^#Fraction$"):i;let s=null;i.found&&(i.has("#Value and #Value #Fraction")&&(i=i.match("and #Value #Fraction")),s=Dl(i),e=(t=(t=t.not(i)).not("and$")).text("reduced"));let o=0;return e&&(o=Ux(e)||0),s&&s.decimal&&(o+=s.decimal),{hasComma:r,prefix:"",num:o,suffix:"",isOrdinal:t.has("#Ordinal"),isText:t.has("#TextValue"),isFraction:t.has("#Fraction"),isMoney:t.has("#Money"),unit:n}},C8={"\xa2":"cents",$:"dollars","\xa3":"pounds","\xa5":"yen","\u20ac":"euros","\u20a1":"col\xf3n","\u0e3f":"baht","\u20ad":"kip","\u20a9":"won","\u20b9":"rupees","\u20bd":"ruble","\u20ba":"liras"},D8={"%":"percent","\xb0":"degrees"},S8=function(t){let e={suffix:"",prefix:t.prefix};return C8.hasOwnProperty(t.prefix)&&(e.suffix+=" "+C8[t.prefix],e.prefix=""),D8.hasOwnProperty(t.suffix)&&(e.suffix+=" "+D8[t.suffix]),e.suffix&&1===t.num&&(e.suffix=e.suffix.replace(/s$/,"")),!e.suffix&&t.suffix&&(e.suffix+=" "+t.suffix),e},Wh=function(t,e){if("TextOrdinal"===e){let{prefix:r,suffix:i}=S8(t);return r+A8(t)+i}if("Ordinal"===e)return t.prefix+function(t){let e=t.num;if(!e&&0!==e)return null;let n=e%100;if(n>10&&n<20)return String(e)+"th";const r={0:"th",1:"st",2:"nd",3:"rd"};let i=Bx(e),s=i.slice(i.length-1,i.length);return i+=r[s]?r[s]:"th",i}(t)+t.suffix;if("TextCardinal"===e){let{prefix:r,suffix:i}=S8(t);return r+l0(t)+i}let n=t.num;return t.hasComma&&(n=n.toLocaleString()),t.prefix+String(n)+t.suffix},ZAe=function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Numbers"}parse(r){return this.getNth(r).map(ki)}get(r){return this.getNth(r).map(ki).map(i=>i.num)}json(r){let i="object"==typeof r?r:{};return this.getNth(r).map(s=>{let o=s.toView().json(i)[0],a=ki(s);return o.number={prefix:a.prefix,num:a.num,suffix:a.suffix,hasComma:a.hasComma,unit:a.unit},o},[])}units(){return this.growRight("#Unit").match("#Unit$")}isUnit(r){return function(t,e={}){return e=function(t){if("string"==typeof t||"number"==typeof t){let e={};return e[t]=!0,e}return(t=>"[object Array]"===Object.prototype.toString.call(t))(t)?t.reduce((e,n)=>(e[n]=!0,e),{}):t||{}}(e),t.filter(n=>{let{unit:r}=ki(n);return!(!r||!0!==e[r])})}(this,r)}isOrdinal(){return this.if("#Ordinal")}isCardinal(){return this.if("#Cardinal")}toNumber(){return this.if("#TextValue").forEach(i=>{let s=ki(i);if(null===s.num)return;let o=i.has("#Ordinal")?"Ordinal":"Cardinal",a=Wh(s,o);i.replaceWith(a,{tags:!0}),i.tag("NumericValue")}),this}toLocaleString(){return this.forEach(i=>{let s=ki(i);if(null===s.num)return;let o=s.num.toLocaleString();if(i.has("#Ordinal")){let u=Wh(s,"Ordinal").match(/[a-z]+$/);u&&(o+=u[0]||"")}i.replaceWith(o,{tags:!0})}),this}toText(){let i=this.map(s=>{if(s.has("#TextValue"))return s;let o=ki(s);if(null===o.num)return s;let a=s.has("#Ordinal")?"TextOrdinal":"TextCardinal",u=Wh(o,a);return s.replaceWith(u,{tags:!0}),s.tag("TextValue"),s});return new e(i.document,i.pointer)}toCardinal(){let i=this.map(s=>{if(!s.has("#Ordinal"))return s;let o=ki(s);if(null===o.num)return s;let a=s.has("#TextValue")?"TextCardinal":"Cardinal",u=Wh(o,a);return s.replaceWith(u,{tags:!0}),s.tag("Cardinal"),s});return new e(i.document,i.pointer)}toOrdinal(){let i=this.map(s=>{if(s.has("#Ordinal"))return s;let o=ki(s);if(null===o.num)return s;let a=s.has("#TextValue")?"TextOrdinal":"Ordinal",u=Wh(o,a);return s.replaceWith(u,{tags:!0}),s.tag("Ordinal"),s});return new e(i.document,i.pointer)}isEqual(r){return this.filter(i=>ki(i).num===r)}greaterThan(r){return this.filter(i=>ki(i).num>r)}lessThan(r){return this.filter(i=>ki(i).num<r)}between(r,i){return this.filter(s=>{let o=ki(s).num;return o>r&&o<i})}set(r){if(void 0===r)return this;"string"==typeof r&&(r=ki(r).num);let s=this.map(o=>{let a=ki(o);if(a.num=r,null===a.num)return o;let u=o.has("#Ordinal")?"Ordinal":"Cardinal";o.has("#TextValue")&&(u=o.has("#Ordinal")?"TextOrdinal":"TextCardinal");let l=Wh(a,u);return a.hasComma&&"Cardinal"===u&&(l=Number(l).toLocaleString()),(o=o.not("#Currency")).replaceWith(l,{tags:!0}),o});return new e(s.document,s.pointer)}add(r){if(!r)return this;"string"==typeof r&&(r=ki(r).num);let s=this.map(o=>{let a=ki(o);if(null===a.num)return o;a.num+=r;let u=o.has("#Ordinal")?"Ordinal":"Cardinal";a.isText&&(u=o.has("#Ordinal")?"TextOrdinal":"TextCardinal");let l=Wh(a,u);return o.replaceWith(l,{tags:!0}),o});return new e(s.document,s.pointer)}subtract(r,i){return this.add(-1*r,i)}increment(r){return this.add(1,r)}decrement(r){return this.add(-1,r)}update(r){let i=new e(this.document,r);return i._cache=this._cache,i}}e.prototype.toNice=e.prototype.toLocaleString,e.prototype.isBetween=e.prototype.between,e.prototype.minus=e.prototype.subtract,e.prototype.plus=e.prototype.add,e.prototype.equals=e.prototype.isEqual,t.prototype.numbers=function(n){let r=Hx(this);return r=r.getNth(n),new e(this.document,r.pointer)},t.prototype.percentages=function(n){let r=Hx(this);return r=r.filter(i=>i.has("#Percent")||i.after("^percent")),r=r.getNth(n),new e(this.document,r.pointer)},t.prototype.money=function(n){let r=Hx(this);return r=r.filter(i=>i.has("#Money")||i.after("^#Currency")),r=r.getNth(n),new e(this.document,r.pointer)},t.prototype.values=t.prototype.numbers},eCe={api:function(t){(function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Fractions"}parse(r){return this.getNth(r).map(Dl)}get(r){return this.getNth(r).map(Dl)}json(r){return this.getNth(r).map(i=>{let s=i.toView().json(r)[0],o=Dl(i);return s.fraction=o,s},[])}toDecimal(r){return this.getNth(r).forEach(i=>{let{decimal:s}=Dl(i);(i=i.replaceWith(String(s),!0)).tag("NumericValue"),i.unTag("Fraction")}),this}toFraction(r){return this.getNth(r).forEach(i=>{let s=Dl(i);s&&"number"==typeof s.numerator&&"number"==typeof s.denominator&&this.replace(i,`${s.numerator}/${s.denominator}`)}),this}toOrdinal(r){return this.getNth(r).forEach(i=>{let o=function(t){if(!t.numerator||!t.denominator)return"";let e=l0({num:t.numerator}),n=A8({num:t.denominator});return 2===t.denominator&&(n="half"),e&&n?(1!==t.numerator&&(n+="s"),`${e} ${n}`):""}(Dl(i));i.after("^#Noun").found&&(o+=" of"),i.replaceWith(o)}),this}toCardinal(r){return this.getNth(r).forEach(i=>{let o=function(t){return t.numerator&&t.denominator?`${l0({num:t.numerator})} out of ${l0({num:t.denominator})}`:""}(Dl(i));i.replaceWith(o)}),this}toPercentage(r){return this.getNth(r).forEach(i=>{let{decimal:s}=Dl(i),o=100*s;o=Math.round(100*o)/100,i.replaceWith(`${o}%`)}),this}}t.prototype.fractions=function(n){let r=function(t,e){let n=t.match("#Fraction+");return n=n.filter(r=>!r.lookBehind("#Value and$").found),n=n.notIf("#Value seconds"),n}(this);return r=r.getNth(n),new e(this.document,r.pointer)}})(t),ZAe(t)}},tCe={people:!0,emails:!0,phoneNumbers:!0,places:!0},nCe=function(t={}){return!1!==(t=Object.assign({},tCe,t)).people&&this.people().replaceWith("\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588"),!1!==t.emails&&this.emails().replaceWith("\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588"),!1!==t.places&&this.places().replaceWith("\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588"),!1!==t.phoneNumbers&&this.phoneNumbers().replaceWith("\u2588\u2588\u2588\u2588\u2588\u2588\u2588"),this},rCe={api:function(t){t.prototype.redact=nCe}},lCe=function(t){let e=null;return t.has("#PastTense")?e="PastTense":t.has("#FutureTense")?e="FutureTense":t.has("#PresentTense")&&(e="PresentTense"),{tense:e}},Kh=function(t){let r=function(t){let e=t;return 1===e.length||(e=e.if("#Verb"),1===e.length)||(e=e.ifNo("(after|although|as|because|before|if|since|than|that|though|when|whenever|where|whereas|wherever|whether|while|why|unless|until|once)"),e=e.ifNo("^even (if|though)"),e=e.ifNo("^so that"),e=e.ifNo("^rather than"),e=e.ifNo("^provided that"),1===e.length)||(e=e.ifNo("(that|which|whichever|who|whoever|whom|whose|whomever)"),1===e.length)||(e=e.ifNo("(^despite|^during|^before|^through|^throughout)"),1===e.length)||(e=e.ifNo("^#Gerund"),1===e.length)?e:(0===e.length&&(e=t),e.eq(0))}(t.clauses()).chunks(),i=t.none(),s=t.none(),o=t.none();return r.forEach((a,u)=>{0!==u||a.has("<Verb>")?s.found||!a.has("<Verb>")?s.found&&(o=o.concat(a)):s=a:i=a}),s.found&&!i.found&&(i=s.before("<Noun>+").first()),{subj:i,verb:s,pred:o,grammar:lCe(s)}},mCe={api:function(t){class e extends t{constructor(i,s,o){super(i,s,o),this.viewType="Sentences"}json(i={}){return this.map(s=>{let o=s.toView().json(i)[0]||{},{subj:a,verb:u,pred:l,grammar:d}=Kh(s);return o.sentence={subject:a.text("normal"),verb:u.text("normal"),predicate:l.text("normal"),grammar:d},o},[])}toPastTense(i){return this.getNth(i).map(s=>(Kh(s),function(t){let e=t.verbs(),n=e.eq(0);if(n.has("#PastTense"))return t;if(n.toPastTense(),e.length>1){e=e.slice(1),e=e.filter(i=>!i.lookBehind("to$").found),e=e.if("#PresentTense"),e=e.notIf("#Gerund");let r=t.match("to #Verb+ #Conjunction #Verb").terms();e=e.not(r),e.found&&e.verbs().toPastTense()}return t}(s)))}toPresentTense(i){return this.getNth(i).map(s=>(Kh(s),function(t){let e=t.verbs();return e.eq(0).toPresentTense(),e.length>1&&(e=e.slice(1),e=e.filter(r=>!r.lookBehind("to$").found),e=e.notIf("#Gerund"),e.found&&e.verbs().toPresentTense()),t}(s)))}toFutureTense(i){return this.getNth(i).map(s=>(Kh(s),s=function(t){let e=t.verbs();if(e.eq(0).toFutureTense(),e=(t=t.fullSentence()).verbs(),e.length>1){e=e.slice(1);let r=e.filter(i=>!(i.lookBehind("to$").found||!i.has("#Copula #Gerund")&&(i.has("#Gerund")||!i.has("#Copula")&&i.has("#PresentTense")&&!i.has("#Infinitive")&&i.lookBefore("(he|she|it|that|which)$").found)));r.found&&r.forEach(i=>{if(i.has("#Copula"))return i.match("was").replaceWith("is"),void i.match("is").replaceWith("will be");i.toInfinitive()})}return t}(s),s))}toInfinitive(i){return this.getNth(i).map(s=>(Kh(s),function(t){return t.verbs().toInfinitive(),t}(s)))}toNegative(i){return this.getNth(i).map(s=>(Kh(s),function(t){return t.verbs().first().toNegative().compute("chunks"),t}(s)))}toPositive(i){return this.getNth(i).map(s=>(Kh(s),function(t){return t.verbs().first().toPositive().compute("chunks"),t}(s)))}isQuestion(i){return this.questions(i)}isExclamation(i){return this.filter(o=>o.lastTerm().has("@hasExclamation")).getNth(i)}isStatement(i){return this.filter(o=>!o.isExclamation().found&&!o.isQuestion().found).getNth(i)}update(i){let s=new e(this.document,i);return s._cache=this._cache,s}}e.prototype.toPresent=e.prototype.toPresentTense,e.prototype.toPast=e.prototype.toPastTense,e.prototype.toFuture=e.prototype.toFutureTense;const n={sentences:function(r){let i=this.map(s=>s.fullSentence());return i=i.getNth(r),new e(this.document,i.pointer)},questions:function(r){return function(t){const e=/\?/,{document:n}=t;return t.filter(r=>{let i=r.docs[0]||[],s=i[i.length-1];return!(!s||n[s.index[0]].length!==i.length)&&(!!e.test(s.post)||function(t){let e=t.clauses();return!(/\.\.$/.test(t.out("text"))||t.has("^#QuestionWord")&&t.has("@hasComma")||!(t.has("or not$")||t.has("^#QuestionWord")||t.has("^(do|does|did|is|was|can|could|will|would|may) #Noun")||t.has("^(have|must) you")||e.has("(do|does|is|was) #Noun+ #Adverb? (#Adjective|#Infinitive)$")))}(r))})}(this).getNth(r)}};Object.assign(t.prototype,n)}},P8=function(t){let e={};e.firstName=t.match("#FirstName+"),e.lastName=t.match("#LastName+"),e.honorific=t.match("#Honorific+");let n=e.lastName,r=e.firstName;return(!r.found||!n.found)&&!r.found&&!n.found&&t.has("^#Honorific .$")&&(e.lastName=t.match(".$")),e},Jo="male",ws="female",N8={mr:Jo,mrs:ws,miss:ws,madam:ws,king:Jo,queen:ws,duke:Jo,duchess:ws,baron:Jo,baroness:ws,count:Jo,countess:ws,prince:Jo,princess:ws,sire:Jo,dame:ws,lady:ws,ayatullah:Jo,congressman:Jo,congresswoman:ws,"first lady":ws,mx:null},_Ce=function(t,e){let{firstName:n,honorific:r}=t;if(n.has("#FemaleName"))return ws;if(n.has("#MaleName"))return Jo;if(r.found){let s=r.text("normal");if(s=s.replace(/\./g,""),N8.hasOwnProperty(s))return N8[s];if(/^her /.test(s))return ws;if(/^his /.test(s))return Jo}let i=e.after();if(!i.has("#Person")&&i.has("#Pronoun")){let s=i.match("#Pronoun");if(s.has("(they|their)"))return null;let o=s.has("(he|his)"),a=s.has("(she|her|hers)");if(o&&!a)return Jo;if(a&&!o)return ws}return null},ICe=function(t){let e=this.clauses(),n=e.people();return n=n.concat(e.places()),n=n.concat(e.organizations()),n=n.not("(someone|man|woman|mother|brother|sister|father)"),n=n.sort("seq"),n=n.getNth(t),n},ACe={api:function(t){(function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="People"}parse(r){return this.getNth(r).map(P8)}json(r){let i="object"==typeof r?r:{};return this.getNth(r).map(s=>{let o=s.toView().json(i)[0],a=P8(s);return o.person={firstName:a.firstName.text("normal"),lastName:a.lastName.text("normal"),honorific:a.honorific.text("normal"),presumed_gender:_Ce(a,s)},o},[])}presumedMale(){return this.filter(r=>r.has("(#MaleName|mr|mister|sr|jr|king|pope|prince|sir)"))}presumedFemale(){return this.filter(r=>r.has("(#FemaleName|mrs|miss|queen|princess|madam)"))}update(r){let i=new e(this.document,r);return i._cache=this._cache,i}}t.prototype.people=function(n){let r=function(t){let e=t.match("#Honorific+? #Person+"),n=e.match("#Possessive").notIf("(his|her)");return e=e.splitAfter(n),e}(this);return r=r.getNth(n),new e(this.document,r.pointer)}})(t),function(t){t.prototype.places=function(e){let n=function(t){let e=t.match("(#Place|#Address)+"),n=e.match("@hasComma");return n=n.filter(r=>!!r.has("(asia|africa|europe|america)$")||!(r.has("(#City|#Region|#ProperNoun)$")&&r.after("^(#Country|#Region)").found)),e=e.splitAfter(n),e}(this);return n=n.getNth(e),new t(this.document,n.pointer)}}(t),function(t){t.prototype.organizations=function(e){return this.match("#Organization+").getNth(e)}}(t),function(t){t.prototype.topics=ICe}(t)}},SCe=function(t,e){let n={pre:t.none(),post:t.none()};if(!t.has("#Adverb"))return n;let r=t.splitOn(e);return 3===r.length?{pre:r.eq(0).adverbs(),post:r.eq(2).adverbs()}:r.eq(0).isDoc(e)?(n.post=r.eq(1).adverbs(),n):(n.pre=r.eq(0).adverbs(),n)},PCe=function(t,e){let n=t.splitBefore(e);if(n.length<=1)return t.none();let r=n.eq(0);return r=r.not("(#Adverb|#Negative|#Prefix)"),r},NCe=function(t){return t.match("#Negative")},RCe=function(t){if(!t.has("(#Particle|#PhrasalVerb)"))return{verb:t.none(),particle:t.none()};let e=t.match("#Particle$");return{verb:t.not(e),particle:e}},Ra=function(t){let e=t.clone();e.contractions().expand();const n=function(t){let e=t;return t.wordCount()>1&&(e=t.not("(#Negative|#Auxiliary|#Modal|#Adverb|#Prefix)")),e.length>1&&!e.has("#Phrasal #Particle")&&(e=e.last()),e=e.not("(want|wants|wanted) to"),e.found||(e=t.not("#Negative")),e}(e);return{root:n,prefix:e.match("#Prefix"),adverbs:SCe(e,n),auxiliary:PCe(e,n),negative:NCe(e),phrasal:RCe(n)}},ka={tense:"PresentTense"},rA={conditional:!0},Sl={tense:"FutureTense"},Zg={progressive:!0},wi={tense:"PastTense"},em={complete:!0,progressive:!1},nd={passive:!0},MCe=function(t){let e={};return t.forEach(n=>{Object.assign(e,n)}),e},R8={imperative:[["#Imperative",[]]],"want-infinitive":[["^(want|wants|wanted) to #Infinitive$",[ka]],["^wanted to #Infinitive$",[wi]],["^will want to #Infinitive$",[Sl]]],"gerund-phrase":[["^#PastTense #Gerund$",[wi]],["^#PresentTense #Gerund$",[ka]],["^#Infinitive #Gerund$",[ka]],["^will #Infinitive #Gerund$",[Sl]],["^have #PastTense #Gerund$",[wi]],["^will have #PastTense #Gerund$",[wi]]],"simple-present":[["^#PresentTense$",[ka]],["^#Infinitive$",[ka]]],"simple-past":[["^#PastTense$",[wi]]],"simple-future":[["^will #Adverb? #Infinitive",[Sl]]],"present-progressive":[["^(is|are|am) #Gerund$",[ka,Zg]]],"past-progressive":[["^(was|were) #Gerund$",[wi,Zg]]],"future-progressive":[["^will be #Gerund$",[Sl,Zg]]],"present-perfect":[["^(has|have) #PastTense$",[wi,em]]],"past-perfect":[["^had #PastTense$",[wi,em]],["^had #PastTense to #Infinitive",[wi,em]]],"future-perfect":[["^will have #PastTense$",[Sl,em]]],"present-perfect-progressive":[["^(has|have) been #Gerund$",[wi,Zg]]],"past-perfect-progressive":[["^had been #Gerund$",[wi,Zg]]],"future-perfect-progressive":[["^will have been #Gerund$",[Sl,Zg]]],"passive-past":[["(got|were|was) #Passive",[wi,nd]],["^(was|were) being #Passive",[wi,nd]],["^(had|have) been #Passive",[wi,nd]]],"passive-present":[["^(is|are|am) #Passive",[ka,nd]],["^(is|are|am) being #Passive",[ka,nd]],["^has been #Passive",[ka,nd]]],"passive-future":[["will have been #Passive",[Sl,nd,rA]],["will be being? #Passive",[Sl,nd,rA]]],"present-conditional":[["would be #PastTense",[ka,rA]]],"past-conditional":[["would have been #PastTense",[wi,rA]]],"auxiliary-future":[["(is|are|am|was) going to (#Infinitive|#PresentTense)",[Sl]]],"auxiliary-past":[["^did #Infinitive$",[wi,{plural:!1}]],["^used to #Infinitive$",[wi,em]]],"auxiliary-present":[["^(does|do) #Infinitive$",[ka,em,{plural:!0}]]],"modal-past":[["^(could|must|should|shall) have #PastTense$",[wi]]],"modal-infinitive":[["^#Modal #Infinitive$",[]]],infinitive:[["^#Infinitive$",[]]]};let k8=[];Object.keys(R8).map(t=>{R8[t].forEach(e=>{k8.push({name:t,match:e[0],data:MCe(e[1])})})});const x8=k8,Pl=function(t,e){let n={};t=function(t,e){return t=t.clone(),e.adverbs.post&&e.adverbs.post.found&&t.remove(e.adverbs.post),e.adverbs.pre&&e.adverbs.pre.found&&t.remove(e.adverbs.pre),t.has("#Negative")&&(t=t.remove("#Negative")),t.has("#Prefix")&&(t=t.remove("#Prefix")),e.root.has("#PhrasalVerb #Particle")&&t.remove("#Particle$"),t.not("#Adverb")}(t,e);for(let r=0;r<x8.length;r+=1){let i=x8[r];if(!0===t.has(i.match)){n.form=i.name,Object.assign(n,i.data);break}}return n.form||t.has("^#Verb$")&&(n.form="infinitive"),n.tense||(n.tense=e.root.has("#PastTense")?"PastTense":"PresentTense"),n.copula=e.root.has("#Copula"),n.isInfinitive=function(t){return!(!t.has("#Infinitive")||!t.growLeft("to").has("^to #Infinitive"))}(t),n},M8=function(t){return!(t.length<=1)&&(t.parse()[0]||{}).isSubordinate},jCe=function(t,e){return!(!e.has("(are|were|does)")&&!t.has("(those|they|we)"))||!(!t.found||!t.isPlural)&&t.isPlural().found},Iu=function(t){let e=function(t){let e=t.before();e=function(t){let e=t.clauses();return e=e.filter((n,r)=>!(n.has("^(if|unless|while|but|for|per|at|by|that|which|who|from)")||r>0&&n.has("^#Verb . #Noun+$")||r>0&&n.has("^#Adverb"))),0===e.length?t:e}(e);let n=e.nouns(),r=n.last(),i=r.match("(i|he|she|we|you|they)");if(i.found)return i.nouns();let s=n.if("^(that|this|those)");return s.found||!1===n.found&&(s=e.match("^(that|this|those)"),s.found)?s:(r=n.last(),M8(r)&&(n.remove(r),r=n.last()),M8(r)&&(n.remove(r),r=n.last()),r)}(t);return{subject:e,plural:jCe(e,t)}},Bn=t=>t,c0=(t,e)=>{let n=Iu(t),r=n.subject;return!(!r.has("i")&&!r.has("we"))||n.plural},d0=function(t,e){if(t.has("were"))return"are";let{subject:n,plural:r}=Iu(t);return n.has("i")?"am":n.has("we")||r?"are":"is"},$x=function(t,e){let n=Iu(t),r=n.subject;return r.has("i")||r.has("we")||n.plural?"do":"does"},Io=function(t){return t.has("#Infinitive")?"Infinitive":t.has("#Participle")?"Participle":t.has("#PastTense")?"PastTense":t.has("#Gerund")?"Gerund":t.has("#PresentTense")?"PresentTense":void 0},Gx=function(t,e){const{toInfinitive:n}=t.methods.two.transform.verb;let r=e.root.text({keepPunct:!1});return r=n(r,t.model,Io(t)),r&&t.replace(e.root,r),t},O8=t=>t.has("will not")?t.replace("will not","have not"):t.remove("will"),F8=function(t){return t&&t.isView?t.json({normal:!0,terms:!1,text:!1}).map(n=>n.normal):[]},V8=function(t){return t&&t.isView?t.text("normal"):""},BCe=function(t){const{toInfinitive:e}=t.methods.two.transform.verb;return e(t.text("normal"),t.model,Io(t))},$Ce={tags:!0},Yo={tags:!0},Nl={noAux:(t,e)=>(e.auxiliary.found&&(t=t.remove(e.auxiliary)),t),simple:(t,e)=>{const{conjugate:n,toInfinitive:r}=t.methods.two.transform.verb,i=e.root;if(i.has("#Modal"))return t;let s=i.text({keepPunct:!1});return s=r(s,t.model,Io(i)),s=n(s,t.model).PastTense,s="been"===s?"was":s,"was"===s&&(s=((t,e)=>{let{subject:n,plural:r}=Iu(t);return r||n.has("we")?"were":"was"})(t)),s&&t.replace(i,s,Yo),t},both:function(t,e){return e.negative.found?(t.replace("will","did"),t):(t=Nl.simple(t,e),t=Nl.noAux(t,e))},hasHad:t=>(t.replace("has","had",Yo),t),hasParticiple:(t,e)=>{const{conjugate:n,toInfinitive:r}=t.methods.two.transform.verb,i=e.root;let s=i.text("normal");return s=r(s,t.model,Io(i)),n(s,t.model).Participle}},L8={infinitive:Nl.simple,"simple-present":Nl.simple,"simple-past":Bn,"simple-future":Nl.both,"present-progressive":t=>(t.replace("are","were",Yo),t.replace("(is|are|am)","was",Yo),t),"past-progressive":Bn,"future-progressive":(t,e)=>(t.match(e.root).insertBefore("was"),t.remove("(will|be)"),t),"present-perfect":Nl.hasHad,"past-perfect":Bn,"future-perfect":(t,e)=>(t.match(e.root).insertBefore("had"),t.has("will")&&(t=O8(t)),t.remove("have"),t),"present-perfect-progressive":Nl.hasHad,"past-perfect-progressive":Bn,"future-perfect-progressive":t=>(t.remove("will"),t.replace("have","had",Yo),t),"passive-past":t=>(t.replace("have","had",Yo),t),"passive-present":t=>(t.replace("(is|are)","was",Yo),t),"passive-future":(t,e)=>(e.auxiliary.has("will be")&&(t.match(e.root).insertBefore("had been"),t.remove("(will|be)")),e.auxiliary.has("will have been")&&(t.replace("have","had",Yo),t.remove("will")),t),"present-conditional":t=>(t.replace("be","have been"),t),"past-conditional":Bn,"auxiliary-future":t=>(t.replace("(is|are|am)","was",Yo),t),"auxiliary-past":Bn,"auxiliary-present":t=>(t.replace("(do|does)","did",Yo),t),"modal-infinitive":(t,e)=>(t.has("can")?t.replace("can","could",Yo):(Nl.simple(t,e),t.match("#Modal").insertAfter("have").tag("Auxiliary")),t),"modal-past":Bn,"want-infinitive":t=>(t.replace("(want|wants)","wanted",Yo),t.remove("will"),t),"gerund-phrase":(t,e)=>(e.root=e.root.not("#Gerund$"),Nl.simple(t,e),O8(t),t)},zx=function(t,e){let n=Iu(t),r=n.subject;return r.has("(i|we|you)")?"have":!1===n.plural||r.has("he")||r.has("she")||r.has("#Person")?"has":"have"},qx=(t,e)=>{const{conjugate:n,toInfinitive:r}=t.methods.two.transform.verb,{root:i,auxiliary:s}=e;if(i.has("#Modal"))return t;let o=i.text({keepPunct:!1});o=r(o,t.model,Io(i));let a=n(o,t.model);if(o=a.Participle||a.PastTense,o){t=t.replace(i,o);let u=zx(t);t.prepend(u).match(u).tag("Auxiliary"),t.remove(s)}return t},j8={infinitive:qx,"simple-present":qx,"simple-future":(t,e)=>t.replace("will",zx(t)),"present-perfect":Bn,"past-perfect":Bn,"future-perfect":(t,e)=>t.replace("will have",zx(t)),"present-perfect-progressive":Bn,"past-perfect-progressive":Bn,"future-perfect-progressive":Bn},Rl={tags:!0},tm=(t,e)=>{const{conjugate:n,toInfinitive:r}=t.methods.two.transform.verb,i=e.root;let s=i.text("normal");return s=r(s,t.model,Io(i)),!1===c0(t)&&(s=n(s,t.model).PresentTense),i.has("#Copula")&&(s=d0(t)),s&&(t=t.replace(i,s,Rl)).not("#Particle").tag("PresentTense"),t},U8=(t,e)=>{const{conjugate:n,toInfinitive:r}=t.methods.two.transform.verb,i=e.root;let s=i.text("normal");return s=r(s,t.model,Io(i)),!1===c0(t)&&(s=n(s,t.model).Gerund),s&&(t=t.replace(i,s,Rl)).not("#Particle").tag("Gerund"),t},B8={infinitive:tm,"simple-present":(t,e)=>{const{conjugate:n}=t.methods.two.transform.verb;let{root:r}=e;if(!r.has("#Infinitive"))return tm(t,e);{let s=Iu(t).subject;if(c0(t)||s.has("i"))return t;let o=r.text("normal"),a=n(o,t.model).PresentTense;o!==a&&t.replace(r,a,Rl)}return t},"simple-past":tm,"simple-future":(t,e)=>{const{root:n,auxiliary:r}=e;if(r.has("will")&&n.has("be")){let i=d0(t);t.replace(n,i),(t=t.remove("will")).replace("not "+i,i+" not")}else tm(t,e),t=t.remove("will");return t},"present-progressive":Bn,"past-progressive":(t,e)=>{let n=d0(t);return t.replace("(were|was)",n,Rl)},"future-progressive":t=>(t.match("will").insertBefore("is"),t.remove("be"),t.remove("will")),"present-perfect":(t,e)=>(tm(t,e),t.remove("(have|had|has)")),"past-perfect":(t,e)=>{let r=Iu(t).subject;return c0(t)||r.has("i")?((t=Gx(t,e)).remove("had"),t):(t.replace("had","has",Rl),t)},"future-perfect":t=>(t.match("will").insertBefore("has"),t.remove("have").remove("will")),"present-perfect-progressive":Bn,"past-perfect-progressive":t=>t.replace("had","has",Rl),"future-perfect-progressive":t=>(t.match("will").insertBefore("has"),t.remove("have").remove("will")),"passive-past":(t,e)=>{let n=d0(t);return t.has("(had|have|has)")&&t.has("been")?(t.replace("(had|have|has)",n,Rl),t.replace("been","being"),t):t.replace("(got|was|were)",n)},"passive-present":Bn,"passive-future":t=>(t.replace("will","is"),t.replace("be","being")),"present-conditional":Bn,"past-conditional":t=>(t.replace("been","be"),t.remove("have")),"auxiliary-future":(t,e)=>(U8(t,e),t.remove("(going|to)"),t),"auxiliary-past":(t,e)=>{if(e.auxiliary.has("did")){let n=$x(t);return t.replace(e.auxiliary,n),t}return U8(t,e),t.replace(e.auxiliary,"is"),t},"auxiliary-present":Bn,"modal-infinitive":Bn,"modal-past":(t,e)=>(((t,e)=>{const{toInfinitive:n}=t.methods.two.transform.verb,r=e.root;let i=e.root.text("normal");i=n(i,t.model,Io(r)),i&&(t=t.replace(e.root,i,Rl))})(t,e),t.remove("have")),"gerund-phrase":(t,e)=>(e.root=e.root.not("#Gerund$"),tm(t,e),t.remove("(will|have)")),"want-infinitive":(t,e)=>{let n="wants";return c0(t)&&(n="want"),t.replace("(want|wanted|wants)",n,Rl),t.remove("will"),t}},H8={tags:!0},iA=(t,e)=>{const{toInfinitive:n}=t.methods.two.transform.verb,{root:r,auxiliary:i}=e;if(r.has("#Modal"))return t;let s=r.text("normal");return s=n(s,t.model,Io(r)),s&&(t=t.replace(r,s,H8)).not("#Particle").tag("Verb"),t.prepend("will").match("will").tag("Auxiliary"),t.remove(i),t},$8=(t,e)=>{const{conjugate:n,toInfinitive:r}=t.methods.two.transform.verb,{root:i,auxiliary:s}=e;let o=i.text("normal");return o=r(o,t.model,Io(i)),o&&(o=n(o,t.model).Gerund,t.replace(i,o,H8),t.not("#Particle").tag("PresentTense")),t.remove(s),t.prepend("will be").match("will be").tag("Auxiliary"),t},G8={infinitive:iA,"simple-present":iA,"simple-past":iA,"simple-future":Bn,"present-progressive":$8,"past-progressive":$8,"future-progressive":Bn,"present-perfect":t=>(t.match("(have|has)").replaceWith("will have"),t),"past-perfect":t=>t.replace("(had|has)","will have"),"future-perfect":Bn,"present-perfect-progressive":t=>t.replace("has","will have"),"past-perfect-progressive":t=>t.replace("had","will have"),"future-perfect-progressive":Bn,"passive-past":t=>t.has("got")?t.replace("got","will get"):t.has("(was|were)")?(t.replace("(was|were)","will be"),t.remove("being")):t.has("(have|has|had) been")?t.replace("(have|has|had) been","will be"):t,"passive-present":t=>(t.replace("being","will be"),t.remove("(is|are|am)"),t),"passive-future":Bn,"present-conditional":t=>t.replace("would","will"),"past-conditional":t=>t.replace("would","will"),"auxiliary-future":Bn,"auxiliary-past":t=>t.has("used")&&t.has("to")?(t.replace("used","will"),t.remove("to")):(t.replace("did","will"),t),"auxiliary-present":t=>t.replace("(do|does)","will"),"modal-infinitive":Bn,"modal-past":Bn,"gerund-phrase":(t,e)=>(e.root=e.root.not("#Gerund$"),iA(t,e),t.remove("(had|have)")),"want-infinitive":t=>(t.replace("(want|wants|wanted)","will want"),t)},JCe={tags:!0},z8={tags:!0},Wx=function(t,e){let n=$x(t);return t.prepend(n+" not"),t},sA=function(t){let e=t.match("be");return e.found?(e.prepend("not"),t):(e=t.match("(is|was|am|are|will|were)"),e.found&&e.append("not"),t)},oA=t=>t.has("(is|was|am|are|will|were|be)"),q8={"simple-present":(t,e)=>!0===oA(t)?sA(t):(t=Gx(t,e),t=Wx(t)),"simple-past":(t,e)=>!0===oA(t)?sA(t):((t=Gx(t,e)).prepend("did not"),t),imperative:t=>(t.prepend("do not"),t),infinitive:(t,e)=>!0===oA(t)?sA(t):Wx(t),"passive-past":t=>{if(t.has("got"))return t.replace("got","get",z8),t.prepend("did not"),t;let e=t.match("(was|were|had|have)");return e.found&&e.append("not"),t},"auxiliary-past":t=>{if(t.has("used"))return t.prepend("did not"),t;let e=t.match("(did|does|do)");return e.found&&e.append("not"),t},"want-infinitive":(t,e)=>(t=Wx(t)).replace("wants","want",z8)},ZCe={api:function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Verbs"}parse(r){return this.getNth(r).map(Ra)}json(r,i){return this.getNth(i).map(a=>{let u=a.toView().json(r)[0]||{};return u.verb=function(t){let e=Ra(t);t=t.clone().toView();const n=Pl(t,e);return{root:e.root.text(),preAdverbs:F8(e.adverbs.pre),postAdverbs:F8(e.adverbs.post),auxiliary:V8(e.auxiliary),negative:e.negative.found,prefix:V8(e.prefix),infinitive:BCe(e.root),grammar:n}}(a),u},[])}subjects(r){return this.getNth(r).map(i=>(Ra(i),Iu(i).subject))}adverbs(r){return this.getNth(r).map(i=>i.match("#Adverb"))}isSingular(r){return this.getNth(r).filter(i=>!0!==Iu(i).plural)}isPlural(r){return this.getNth(r).filter(i=>!0===Iu(i).plural)}isImperative(r){return this.getNth(r).filter(i=>i.has("#Imperative"))}toInfinitive(r){return this.getNth(r).map(i=>{let s=Ra(i);return Pl(i,s),function(t,e){const{toInfinitive:n}=t.methods.two.transform.verb,{root:r,auxiliary:i}=e;let s=i.terms().harden(),o=r.text("normal");if(o=n(o,t.model,Io(r)),o&&t.replace(r,o,$Ce).tag("Verb").firstTerm().tag("Infinitive"),s.found&&t.remove(s),e.negative.found){t.has("not")||t.prepend("not");let a=$x(t);t.prepend(a)}return t.fullSentence().compute(["freeze","lexicon","preTagger","postTagger","unfreeze","chunks"]),t}(i,s)})}toPresentTense(r){return this.getNth(r).map(i=>{let s=Ra(i),o=Pl(i,s);return o.isInfinitive?i:function(t,e,n){return B8.hasOwnProperty(n)&&(t=B8[n](t,e)).fullSentence().compute(["tagger","chunks"]),t}(i,s,o.form)})}toPastTense(r){return this.getNth(r).map(i=>{let s=Ra(i),o=Pl(i,s);return o.isInfinitive?i:function(t,e,n){return L8.hasOwnProperty(n)&&(t=L8[n](t,e)).fullSentence().compute(["tagger","chunks"]),t}(i,s,o.form)})}toFutureTense(r){return this.getNth(r).map(i=>{let s=Ra(i),o=Pl(i,s);return o.isInfinitive?i:function(t,e,n){return t.has("will")||t.has("going to")||G8.hasOwnProperty(n)&&(t=G8[n](t,e)).fullSentence().compute(["tagger","chunks"]),t}(i,s,o.form)})}toGerund(r){return this.getNth(r).map(i=>{let s=Ra(i);return Pl(i,s).isInfinitive?i:function(t,e){const{toInfinitive:n,conjugate:r}=t.methods.two.transform.verb,{root:i,auxiliary:s}=e;if(t.has("#Gerund"))return t;let o=i.text("normal");o=n(o,t.model,Io(i));let a=r(o,t.model).Gerund;if(a){let u=d0(t);t.replace(i,a,JCe),t.remove(s),t.prepend(u)}return t.replace("not is","is not"),t.replace("not are","are not"),t.fullSentence().compute(["tagger","chunks"]),t}(i,s)})}toPastParticiple(r){return this.getNth(r).map(i=>{let s=Ra(i),o=Pl(i,s);return o.isInfinitive?i:function(t,e,n){return j8.hasOwnProperty(n)?((t=j8[n](t,e)).fullSentence().compute(["tagger","chunks"]),t):((t=qx(t,e)).fullSentence().compute(["tagger","chunks"]),t)}(i,s,o.form)})}conjugate(r){const{conjugate:i,toInfinitive:s}=this.world.methods.two.transform.verb;return this.getNth(r).map(o=>{let a=Ra(o),u=Pl(o,a);"imperative"===u.form&&(u.form="simple-present");let l=a.root.text("normal");if(!a.root.has("#Infinitive")){let d=Io(a.root);l=s(l,o.model,d)||l}return i(l,o.model)},[])}isNegative(){return this.if("#Negative")}isPositive(){return this.ifNo("#Negative")}toPositive(){let r=this.match("do not #Verb");return r.found&&r.remove("do not"),this.remove("#Negative")}toNegative(r){return this.getNth(r).map(i=>{let s=Ra(i);return function(t,e,n){if(t.has("#Negative"))return t;if(q8.hasOwnProperty(n))return q8[n](t,e);let r=t.matchOne("be");return r.found?(r.prepend("not"),t):!0===oA(t)?sA(t):(r=t.matchOne("(will|had|have|has|did|does|do|#Modal)"),r.found&&r.append("not"),t)}(i,s,Pl(i,s).form)})}update(r){let i=new e(this.document,r);return i._cache=this._cache,i}}e.prototype.toPast=e.prototype.toPastTense,e.prototype.toPresent=e.prototype.toPresentTense,e.prototype.toFuture=e.prototype.toFutureTense,t.prototype.verbs=function(n){let r=function(t){let e=t.match("<Verb>");return e=e.not("#Conjunction"),e=e.not("#Preposition"),e=e.splitAfter("@hasComma"),e=e.splitAfter("[(do|did|am|was|is|will)] (is|was)",0),e=e.splitBefore("(#Verb && !#Copula) [being] #Verb",0),e=e.splitBefore("#Verb [to be] #Verb",0),e=e.splitAfter("[help] #PresentTense",0),e=e.splitBefore("(#PresentTense|#PastTense) [#Copula]$",0),e=e.splitBefore("(#PresentTense|#PastTense) [will be]$",0),e=e.splitBefore("(#PresentTense|#PastTense) [(had|has)]",0),e=e.not("#Reflexive$"),e=e.not("#Adjective"),e=e.splitAfter("[#PastTense] #PastTense",0),e=e.splitAfter("[#PastTense] #Auxiliary+ #PastTense",0),e=e.splitAfter("#Copula [#Gerund] #PastTense",0),e=e.if("#Verb"),e.has("(#Verb && !#Auxiliary) #Adverb+? #Copula")&&(e=e.splitBefore("#Copula")),e}(this);return r=r.getNth(n),new e(this.document,r.pointer)}}},Kx=function(t,e){let n=e.match(t);if(n.found){let r=n.pronouns().refersTo();if(r.found)return r}return e.none()},W8=function(t){if(!t.found)return t;let[e]=t.fullPointer[0];return e&&e>0?t.update([[e-1]]):t.none()},K8=function(t,e){let n=t.people();return n=function(t,e){return"m"===e?t.filter(n=>!n.presumedFemale().found):"f"===e?t.filter(n=>!n.presumedMale().found):t}(n,e),n.found||(n=t.nouns("#Actor"),n.found)?n.last():"f"===e?Kx("(she|her|hers)",t):"m"===e?Kx("(he|him|his)",t):t.none()},tDe=function(t){let e=t.nouns(),n=e.isPlural().notIf("#Pronoun");if(n.found)return n.last();let r=Kx("(they|their|theirs)",t);return r.found?r:(n=e.match("(somebody|nobody|everybody|anybody|someone|noone|everyone|anyone)"),n.found?n.last():t.none())},Qx=function(t,e){let n=t.before(),r=e(n);return r.found||(n=W8(t),r=e(n),r.found)||(n=W8(n),r=e(n),r.found)?r:t.none()},rDe={compute:{coreference:function(t){t.pronouns().if("(he|him|his|she|her|hers|they|their|theirs|it|its)").forEach(n=>{let r=null;n.has("(he|him|his)")?r=Qx(n,i=>K8(i,"m")):n.has("(she|her|hers)")?r=Qx(n,i=>K8(i,"f")):n.has("(they|their|theirs)")&&(r=Qx(n,tDe)),r&&r.found&&function(t,e){e&&e.found&&(t.docs[0][0].reference=e.ptrs[0])}(n,r)})}},api:function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Pronouns"}hasReference(){return this.compute("coreference"),this.filter(r=>r.docs[0][0].reference)}refersTo(){return this.compute("coreference"),this.map(r=>{if(!r.found)return r.none();let i=r.docs[0][0];return i.reference?r.update([i.reference]):r.none()})}update(r){let i=new e(this.document,r);return i._cache=this._cache,i}}t.prototype.pronouns=function(n){let r=this.match("#Pronoun");return r=r.getNth(n),new e(r.document,r.pointer)}}};Eo.plugin(kTe),Eo.plugin({api:function(t){class e extends t{constructor(r,i,s){super(r,i,s),this.viewType="Adverbs"}conjugate(r){return this.getNth(r).map(i=>{let s=function(t){return t.compute("root").text("root")}(i);return{Adverb:i.text("normal"),Adjective:s}},[])}json(r={}){const i=this.methods.two.transform.adjective.fromAdverb;return r.normal=!0,this.map(s=>{let o=s.toView().json(r)[0]||{};return o.adverb={adjective:i(o.normal)},o},[])}}t.prototype.adverbs=function(n){let r=this.match("#Adverb");return r=r.getNth(n),new e(r.document,r.pointer)}}}),Eo.plugin(WTe),Eo.plugin(rDe),Eo.plugin(cAe),Eo.plugin(fAe),Eo.plugin(CAe),Eo.plugin(eCe),Eo.plugin(rCe),Eo.plugin(mCe),Eo.plugin(ACe),Eo.plugin(ZCe);const iDe=Eo;class aA{}class uA{}class Xo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Xo;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Xo?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class sDe{encodeKey(e){return Q8(e)}encodeValue(e){return Q8(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const aDe=/%(\d[a-f0-9])/gi,uDe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Q8(t){return encodeURIComponent(t).replace(aDe,(e,n)=>uDe[n]??e)}function lA(t){return`${t}`}class rd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new sDe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oDe(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(lA):[lA(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new rd({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(lA(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(lA(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lDe{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function J8(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Y8(t){return typeof Blob<"u"&&t instanceof Blob}function X8(t){return typeof FormData<"u"&&t instanceof FormData}class h0{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cDe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Xo,this.context??=new lDe,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new rd,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||J8(this.body)||Y8(this.body)||X8(this.body)||function dDe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof rd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X8(this.body)?null:Y8(this.body)?this.body.type||null:J8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress;let l=e.headers||this.headers,d=e.params||this.params;const g=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((y,v)=>y.set(v,e.setHeaders[v]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((y,v)=>y.set(v,e.setParams[v]),d)),new h0(n,r,o,{params:d,headers:l,context:g,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}}var id=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(id||{});class Jx{constructor(e,n=200,r="OK"){this.headers=e.headers||new Xo,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class cA extends Jx{constructor(e={}){super(e),this.type=id.ResponseHeader}clone(e={}){return new cA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qh extends Jx{constructor(e={}){super(e),this.type=id.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Qh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nm extends Jx{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Yx(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let eW=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof h0)s=n;else{let u,l;u=i.headers instanceof Xo?i.headers:new Xo(i.headers),i.params&&(l=i.params instanceof rd?i.params:new rd({fromObject:i.params})),s=new h0(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=et(s).pipe(Vp(u=>this.handler.handle(u)));if(n instanceof h0||"events"===i.observe)return o;const a=o.pipe(qo(u=>u instanceof Qh));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Re(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Re(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Re(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Re(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new rd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Yx(i,r))}post(n,r,i={}){return this.request("POST",n,Yx(i,r))}put(n,r,i={}){return this.request("PUT",n,Yx(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(le(aA))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const pDe=/^\)\]\}',?\n/;function tW(t){if(t.url)return t.url;const e="X-Request-URL".toLocaleLowerCase();return t.headers.get(e)}let Xx=(()=>{class t{constructor(){this.fetchImpl=ie(mDe,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=ie(St)}handle(n){return new fn(r=>{const i=new AbortController;return this.doRequest(n,i.signal,r).then(Zx,s=>r.error(new nm({error:s}))),()=>i.abort()})}doRequest(n,r,i){var s=this;return(0,re.A)(function*(){const o=s.createRequestInit(n);let a;try{const E=s.ngZone.runOutsideAngular(()=>s.fetchImpl(n.urlWithParams,{signal:r,...o}));(function yDe(t){t.then(Zx,Zx)})(E),i.next({type:id.Sent}),a=yield E}catch(E){return void i.error(new nm({error:E,status:E.status??0,statusText:E.statusText,url:n.urlWithParams,headers:E.headers}))}const u=new Xo(a.headers),l=a.statusText,d=tW(a)??n.urlWithParams;let g=a.status,y=null;if(n.reportProgress&&i.next(new cA({headers:u,status:g,statusText:l,url:d})),a.body){const E=a.headers.get("content-length"),T=[],C=a.body.getReader();let R,L,k=0;const Q=typeof Zone<"u"&&Zone.current;yield s.ngZone.runOutsideAngular((0,re.A)(function*(){for(;;){const{done:Ce,value:x}=yield C.read();if(Ce)break;if(T.push(x),k+=x.length,n.reportProgress){L="text"===n.responseType?(L??"")+(R??=new TextDecoder).decode(x,{stream:!0}):void 0;const D=()=>i.next({type:id.DownloadProgress,total:E?+E:void 0,loaded:k,partialText:L});Q?Q.run(D):D()}}}));const Ee=s.concatChunks(T,k);try{const Ce=a.headers.get("Content-Type")??"";y=s.parseBody(n,Ee,Ce)}catch(Ce){return void i.error(new nm({error:Ce,headers:new Xo(a.headers),status:a.status,statusText:a.statusText,url:tW(a)??n.urlWithParams}))}}0===g&&(g=y?200:0),g>=200&&g<300?(i.next(new Qh({body:y,headers:u,status:g,statusText:l,url:d})),i.complete()):i.error(new nm({error:y,headers:u,status:g,statusText:l,url:d}))})()}parseBody(n,r,i){switch(n.responseType){case"json":const s=(new TextDecoder).decode(r).replace(pDe,"");return""===s?null:JSON.parse(s);case"text":return(new TextDecoder).decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){const r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){const s=n.detectContentTypeHeader();null!==s&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){const i=new Uint8Array(r);let s=0;for(const o of n)i.set(o,s),s+=o.length;return i}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();class mDe{}function Zx(){}function nW(t,e){return e(t)}function _De(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const bDe=new _e(""),f0=new _e(""),rW=new _e(""),iW=new _e("",{providedIn:"root",factory:()=>!0});function wDe(){let t=null;return(e,n)=>{null===t&&(t=(ie(bDe,{optional:!0})??[]).reduceRight(_De,nW));const r=ie(Ju);if(ie(iW)){const s=r.add();return t(e,n).pipe(ul(()=>r.remove(s)))}return t(e,n)}}let sW=(()=>{class t extends aA{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ie(Ju),this.contributeToStability=ie(iW)}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(f0),...this.injector.get(rW,[])]));this.chain=r.reduceRight((i,s)=>function vDe(t,e,n){return(r,i)=>to(n,()=>e(r,s=>t(s,i)))}(i,s,this.injector),nW)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ul(()=>this.pendingTasks.remove(r)))}return this.chain(n,r=>this.backend.handle(r))}static#e=this.\u0275fac=function(r){return new(r||t)(le(uA),le(Ai))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const CDe=/^\)\]\}',?\n/;let aW=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new K(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Zt(r.\u0275loadImpl()):et(null)).pipe(er(()=>new fn(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((T,C)=>o.setRequestHeader(T,C.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const T=n.detectContentTypeHeader();null!==T&&o.setRequestHeader("Content-Type",T)}if(n.responseType){const T=n.responseType.toLowerCase();o.responseType="json"!==T?T:"text"}const a=n.serializeBody();let u=null;const l=()=>{if(null!==u)return u;const T=o.statusText||"OK",C=new Xo(o.getAllResponseHeaders()),k=function DDe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new cA({headers:C,status:o.status,statusText:T,url:k}),u},d=()=>{let{headers:T,status:C,statusText:k,url:R}=l(),L=null;204!==C&&(L=typeof o.response>"u"?o.responseText:o.response),0===C&&(C=L?200:0);let Q=C>=200&&C<300;if("json"===n.responseType&&"string"==typeof L){const Ee=L;L=L.replace(CDe,"");try{L=""!==L?JSON.parse(L):null}catch(Ce){L=Ee,Q&&(Q=!1,L={error:Ce,text:L})}}Q?(s.next(new Qh({body:L,headers:T,status:C,statusText:k,url:R||void 0})),s.complete()):s.error(new nm({error:L,headers:T,status:C,statusText:k,url:R||void 0}))},g=T=>{const{url:C}=l(),k=new nm({error:T,status:o.status||0,statusText:o.statusText||"Unknown Error",url:C||void 0});s.error(k)};let y=!1;const v=T=>{y||(s.next(l()),y=!0);let C={type:id.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(C.total=T.total),"text"===n.responseType&&o.responseText&&(C.partialText=o.responseText),s.next(C)},E=T=>{let C={type:id.UploadProgress,loaded:T.loaded};T.lengthComputable&&(C.total=T.total),s.next(C)};return o.addEventListener("load",d),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),n.reportProgress&&(o.addEventListener("progress",v),null!==a&&o.upload&&o.upload.addEventListener("progress",E)),o.send(a),s.next({type:id.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",d),o.removeEventListener("timeout",g),n.reportProgress&&(o.removeEventListener("progress",v),null!==a&&o.upload&&o.upload.removeEventListener("progress",E)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(le(PB))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const eM=new _e(""),uW=new _e("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),lW=new _e("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cW{}let NDe=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_B(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(le(pi),le(Ho),le(uW))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();function RDe(t,e){const n=t.url.toLowerCase();if(!ie(eM)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=ie(cW).getToken(),i=ie(lW);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var sd=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(sd||{});function kDe(...t){const e=[eW,aW,sW,{provide:aA,useExisting:sW},{provide:uA,useFactory:()=>ie(Xx,{optional:!0})??ie(aW)},{provide:f0,useValue:RDe,multi:!0},{provide:eM,useValue:!0},{provide:cW,useClass:NDe}];for(const n of t)e.push(...n.\u0275providers);return rc(e)}const dW=new _e("");function xDe(){return function Jh(t,e){return{\u0275kind:t,\u0275providers:e}}(sd.LegacyInterceptors,[{provide:dW,useFactory:wDe},{provide:f0,useExisting:dW,multi:!0}])}let MDe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=Sr({providers:[kDe(xDe())]})}return t})(),tM=(()=>{class t{constructor(n,r){this.http=n,this.fns=r,this.chunkSize=2e3,this.overlapSize=200,this.maxChunksPerBatch=10,this.progressSubject=new H(0),this.progress$=this.progressSubject.asObservable(),this.stopwords=new Set(["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","its","of","on","that","the","to","was","were","will","with"])}processDocument(n){return this.progressSubject.next(0),this.readTextFile(n).pipe(qr(r=>console.log(`File read successfully. Content length: ${r.length}`)),gi(r=>Zt(this.processText(r))),ul(()=>this.progressSubject.next(100)),fs(r=>this.handleError("processDocument",r)))}processJsonDataset(n){return this.progressSubject.next(0),this.readJsonFile(n).pipe(gi(r=>this.processJsonData(r)),ul(()=>this.progressSubject.next(100)),fs(r=>this.handleError("processJsonDataset",r)))}enrichQuery(n){var r=this;return(0,re.A)(function*(){const i=yield r.preprocessText(n),s=r.extractKeyTerms(i),o=r.extractEntities(n),a=r.extractNumericValues(n),u=r.analyzeSentiment(n),l=r.classifyIntent(n),d={original:n,processed:i,keyTerms:s,entities:o,numericValues:a,sentiment:u,intent:l};return console.log("Enriched Query:",d),JSON.stringify(d)})()}clearVectorizationProgress(){return this.fns.httpsCallable("clearVectorizationProgress")({}).pipe(qr(r=>console.log("Cleared vectorization progress:",r)),fs(r=>(console.error("Error clearing vectorization progress:",r),Tc(()=>new Error(`Failed to clear vectorization progress: ${this.getErrorMessage(r)}`)))))}processText(n){var r=this;return(0,re.A)(function*(){try{const i=yield r.preprocessText(n),s=r.chunkTextWithOverlap(i),o=s.length;console.log(`Total chunks to process: ${o}`);const a=s.map(d=>({text:d,metadata:r.extractMetadata(d)})),u={totalItems:o,processedItems:0,continuationToken:null},l=yield r.startVectorization(a,u);if(!l||!l.success)throw new Error("Unexpected result structure from vectorization");return console.log(`Processed ${l.state.processedItems} out of ${l.state.totalItems} chunks`),r.progressSubject.next(100),console.log("Text processing completed"),{success:!0,message:"Text processing completed"}}catch(i){throw console.error("Error in processText:",i),i}})()}startVectorization(n,r){var i=this;return(0,re.A)(function*(){console.log(`Attempting to start vectorization for ${n.length} chunks`);const s=i.fns.httpsCallable("startVectorization");try{const o=yield s({texts:n,state:r}).toPromise();if(console.log("Vectorization result:",o),o&&o.data&&o.data.success)return o.data;throw new Error("Failed to start vectorization process")}catch(o){throw console.error("Error in startVectorization:",o),o instanceof Error?new Error(`Vectorization failed: ${o.message}`):new Error("Vectorization failed: Unknown error")}})()}preprocessText(n){var r=this;return(0,re.A)(function*(){const i=iDe(n);return i.normalize({whitespace:!0,punctuation:!0,case:!0,unicode:!0,contractions:!0,acronyms:!0,parentheses:!0,quotations:!0,emoji:!0}),i.terms().out("array").filter(a=>!r.stopwords.has(a.toLowerCase())).join(" ")})()}chunkTextWithOverlap(n){const r=n.split(/\s+/),i=[];let s=[];for(const o of r)s.join(" ").length+o.length>this.chunkSize&&(i.push(s.join(" ")),s=s.slice(-this.overlapSize)),s.push(o);return s.length>0&&i.push(s.join(" ")),console.log(`Text chunked into ${i.length} parts`),i}extractMetadata(n){return{entities:this.extractEntities(n),numericValues:this.extractNumericValues(n),sentiment:this.analyzeSentiment(n),intent:this.classifyIntent(n)}}extractKeyTerms(n){return n.split(/\s+/).filter(r=>r.length>3)}extractEntities(n){const r=n.split(/\s+/);return{people:r.filter(i=>i.charAt(0)===i.charAt(0).toUpperCase()&&i.length>1),organizations:r.filter(i=>i.toUpperCase()===i&&i.length>1),places:[],dates:this.extractDates(n)}}extractDates(n){return n.match(/\b\d{1,2}\/\d{1,2}\/\d{2,4}\b|\b(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{1,2},?\s+\d{2,4}\b/gi)||[]}extractNumericValues(n){return n.match(/\d+(\.\d+)?/g)?.map(Number)||[]}analyzeSentiment(n){const r=["good","great","excellent","wonderful","amazing","fantastic"],i=["bad","terrible","awful","horrible","poor","disappointing"],s=n.toLowerCase().split(/\s+/),o=s.filter(u=>r.includes(u)).length,a=s.filter(u=>i.includes(u)).length;return o>a?"positive":a>o?"negative":"neutral"}classifyIntent(n){const r={greeting:["hello","hi","hey","greetings"],farewell:["bye","goodbye","see you","farewell"],question:["what","why","how","when","where","who","which"],request:["can you","could you","please","help"],complaint:["problem","issue","wrong","bad","terrible"],gratitude:["thanks","thank you","appreciate","grateful"]},i=n.toLowerCase();for(const[s,o]of Object.entries(r))if(o.some(a=>i.includes(a)))return s;return"unknown"}readTextFile(n){return this.http.get(n,{responseType:"text"}).pipe(fs(r=>this.handleError("readTextFile",r)))}readJsonFile(n){return this.http.get(n).pipe(fs(r=>this.handleError("readJsonFile",r)))}processJsonData(n){const r=JSON.stringify(n);return Zt(this.processText(r))}checkVectorizationProgress(){return this.fns.httpsCallable("getVectorizationProgress")({}).pipe(qr(r=>{console.log("Vectorization progress:",r),this.progressSubject.next(r.data.percentage)}),fs(r=>(console.error("Error checking vectorization progress:",r),Tc(()=>new Error(`Failed to check vectorization progress: ${this.getErrorMessage(r)}`)))))}handleError(n,r){return console.error(`${n} failed:`,r),Tc(()=>new Error(`${n} failed: ${this.getErrorMessage(r)}`))}getErrorMessage(n){return n instanceof Error?n.message:String(n)}static#e=this.\u0275fac=function(r){return new(r||t)(le(eW),le(gN))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$De=(()=>{class t{constructor(n,r,i){this.functions=n,this.firestore=r,this.textVectorizationService=i,this.timeoutDuration=3e4,this.maxRetries=2,this.sessionKey="ai_session_id",this.visitLogged=!1,this.cache=new Map,this.searchCountSubject=new H(0),this.visitCountSubject=new H(0),this.loadingSubject=new H(!1),this.loading$=this.loadingSubject.asObservable(),this.handleError=s=>{let o="An error occurred in the AI service";return"ETIMEDOUT"===s.code?o="The request to the AI service timed out. Please try again.":"permission-denied"===s.code?o="You do not have permission to use this service.":"unavailable"===s.code?o="The AI service is currently unavailable. Please try again later.":s.message&&(o=s.message),console.error("Error in AiService:",s),this.logError(o,s),Tc(()=>new Error(o))},this.initializeCounts()}initializeCounts(){this.getSearchCount().pipe(al(1)).subscribe(n=>this.searchCountSubject.next(n)),this.getVisitCount().pipe(al(1)).subscribe(n=>this.visitCountSubject.next(n))}askQuestion(n){if(this.loadingSubject.next(!0),this.logSearchQuery(n),this.cache.has(n))return this.loadingSubject.next(!1),this.cache.get(n);const r=Zt(this.textVectorizationService.enrichQuery(n)).pipe(er(i=>this.functions.httpsCallable("askAI")({question:i}).pipe(fN(this.timeoutDuration),R$({count:this.maxRetries,delay:(o,a)=>(console.log(`Retrying question (${a}/${this.maxRetries}): ${i}`),et(1e3*Math.pow(2,a)))}),Re(o=>this.processResponse(o,i)))),fs(this.handleError),qr(i=>{console.log("AI Response:",i)}),ul(()=>this.loadingSubject.next(!1)),EI(1));return this.cache.set(n,r),r}processResponse(n,r){if(!n||!n.answer)throw new Error("Invalid response from AI service");return{...n,enrichedQuestion:r}}getRelevantDocuments(n){return this.functions.httpsCallable("getRelevantDocuments")({topic:n}).pipe(fN(this.timeoutDuration),R$(this.maxRetries),Re(i=>this.processDocumentsResponse(i)),fs(this.handleError))}processDocumentsResponse(n){if(!n||!Array.isArray(n))throw new Error("Invalid response from document retrieval service");return n}provideFeedback(n,r,i){return this.functions.httpsCallable("provideFeedback")({questionId:n,isHelpful:r,comment:i}).pipe(fN(5e3),fs(this.handleError))}logSearchQuery(n){this.firestore.collection("searchQueries").add({query:n,timestamp:Us.A.firestore.FieldValue.serverTimestamp()}).then(()=>{this.searchCountSubject.next(this.searchCountSubject.value+1)})}logPageVisit(){if(this.visitLogged)return;const n=this.getOrCreateSessionId(),r=this.firestore.collection("visits").doc(n);r.get().pipe(al(1)).subscribe(i=>{i.exists?this.visitLogged=!0:r.set({timestamp:Us.A.firestore.FieldValue.serverTimestamp()}).then(()=>{this.visitLogged=!0,this.visitCountSubject.next(this.visitCountSubject.value+1)})})}getOrCreateSessionId(){let n=localStorage.getItem(this.sessionKey);return n||(n=Math.random().toString(36).substr(2,9),localStorage.setItem(this.sessionKey,n)),n}getSearchCountExt(){return this.searchCountSubject.asObservable()}getVisitCountExt(){return this.visitCountSubject.asObservable()}getSearchCount(){return this.firestore.collection("searchQueries").valueChanges().pipe(Re(n=>n.length))}getVisitCount(){return this.firestore.collection("visits").valueChanges().pipe(Re(n=>n.length))}logError(n,r){this.firestore.collection("errors").add({message:n,error:JSON.stringify(r),timestamp:Us.A.firestore.FieldValue.serverTimestamp()})}clearCache(){this.cache.clear()}getLoadingState(){return this.loading$}static#e=this.\u0275fac=function(r){return new(r||t)(le(gN),le(Hk),le(tM))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const vW="firebasestorage.googleapis.com",bW="storageBucket";class mr extends Rt.g{constructor(e,n,r=0){super(nM(e),`Firebase Storage: ${n} (${nM(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var or=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(or||{});function nM(t){return"storage/"+t}function rM(){return new mr(or.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function wW(){return new mr(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EW(){return new mr(or.CANCELED,"User canceled the upload/download.")}function IW(){return new mr(or.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rm(t){return new mr(or.INVALID_ARGUMENT,t)}function TW(){return new mr(or.APP_DELETED,"The Firebase app was deleted.")}function AW(t){return new mr(or.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function p0(t,e){return new mr(or.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function g0(t){throw new mr(or.INTERNAL_ERROR,"Internal error: "+t)}class Ji{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ji.makeFromUrl(e,n)}catch{return new Ji(e,"")}if(""===r.path)return r;throw function eSe(t){return new mr(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(Q){Q.path_=decodeURIComponent(Q.path)}const g=n.replace(/[.]/g,"\\."),L=[{regex:a,indices:{bucket:1,path:3},postModify:function s(Q){"/"===Q.path.charAt(Q.path.length-1)&&(Q.path_=Q.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${n===vW?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let Q=0;Q<L.length;Q++){const Ee=L[Q],Ce=Ee.regex.exec(e);if(Ce){let D=Ce[Ee.indices.path];D||(D=""),r=new Ji(Ce[Ee.indices.bucket],D),Ee.postModify(r);break}}if(null==r)throw function ZDe(t){return new mr(or.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class sSe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function hA(t){return"string"==typeof t||t instanceof String}function CW(t){return iM()&&t instanceof Blob}function iM(){return typeof Blob<"u"}function sM(t,e,n,r){if(r<e)throw rm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw rm(`Invalid value for '${t}'. Expected ${n} or less.`)}function kl(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function DW(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var im=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(im||{});function SW(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}class dSe{constructor(e,n,r,i,s,o,a,u,l,d,g,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=d,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function uSe(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=rM();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?TW():EW():wW())};this.canceled_?n(0,new fA(!1,null,!0)):this.backoffId_=function oSe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let l=!1;function d(...C){l||(l=!0,e.apply(null,C))}function g(C){i=setTimeout(()=>{i=null,t(v,u())},C)}function y(){s&&clearTimeout(s)}function v(C,...k){if(l)return void y();if(C)return y(),void d.call(null,C,...k);if(u()||o)return y(),void d.call(null,C,...k);let L;r<64&&(r*=2),1===a?(a=2,L=0):L=1e3*(r+Math.random()),g(L)}let E=!1;function T(C){E||(E=!0,y(),!l&&(null!==i?(C||(a=2),clearTimeout(i),g(0)):C||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}((r,i)=>{if(i)return void r(!1,new fA(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===im.NO_ERROR,u=s.getStatus();if(!a||SW(u,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===im.ABORT;return void r(!1,new fA(!1,null,d))}const l=-1!==this.successCodes_.indexOf(u);r(!0,new fA(l,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function aSe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fA{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _Se(...t){const e=function ySe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(iM())return new Blob(t);throw new mr(or.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const To={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class oM{constructor(e,n){this.data=e,this.contentType=n||null}}function aM(t,e){switch(t){case To.RAW:return new oM(PW(e));case To.BASE64:case To.BASE64URL:return new oM(NW(t,e));case To.DATA_URL:return new oM(function ESe(t){const e=new RW(t);return e.base64?NW(To.BASE64,e.rest):function wSe(t){let e;try{e=decodeURIComponent(t)}catch{throw p0(To.DATA_URL,"Malformed data URL.")}return PW(e)}(e.rest)}(e),function ISe(t){return new RW(t).contentType}(e))}throw rM()}function PW(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function NW(t,e){switch(t){case To.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw p0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case To.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw p0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function bSe(t){if(typeof atob>"u")throw function iSe(t){return new mr(or.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:p0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class RW{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw p0(To.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function TSe(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Tu{constructor(e,n){let r=0,i="";CW(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(CW(this.data_)){const i=function vSe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new Tu(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Tu(r,!0)}}static getBlob(...e){if(iM()){const n=e.map(r=>r instanceof Tu?r.data_:r);return new Tu(_Se.apply(null,n))}{const n=e.map(o=>hA(o)?aM(To.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Tu(i,!0)}}uploadData(){return this.data_}}function uM(t){let e;try{e=JSON.parse(t)}catch{return null}return function cSe(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function kW(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function DSe(t,e){return e}class Es{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||DSe}}let pA=null;function m0(){if(pA)return pA;const t=[];t.push(new Es("bucket")),t.push(new Es("generation")),t.push(new Es("metageneration")),t.push(new Es("name","fullPath",!0));const n=new Es("name");n.xform=function e(s,o){return function SSe(t){return!hA(t)||t.length<2?t:kW(t)}(o)},t.push(n);const i=new Es("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},t.push(i),t.push(new Es("timeCreated")),t.push(new Es("updated")),t.push(new Es("md5Hash",null,!0)),t.push(new Es("cacheControl",null,!0)),t.push(new Es("contentDisposition",null,!0)),t.push(new Es("contentEncoding",null,!0)),t.push(new Es("contentLanguage",null,!0)),t.push(new Es("contentType",null,!0)),t.push(new Es("metadata","customMetadata",!0)),pA=t,pA}function xW(t,e,n){const r=uM(e);return null===r?null:function NSe(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return function PSe(t,e){Object.defineProperty(t,"ref",{get:function n(){const s=new Ji(t.bucket,t.fullPath);return e._makeStorageReference(s)}})}(r,t),r}(t,r,n)}function lM(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}const MW="prefixes",OW="items";class Au{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Cu(t){if(!t)throw rM()}function gA(t,e){return function n(r,i){const s=xW(t,i,e);return Cu(null!==s),s}}function sm(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function YDe(){return new mr(or.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function JDe(){return new mr(or.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function QDe(t){return new mr(or.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function XDe(t){return new mr(or.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function y0(t){const e=sm(t);return function n(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function KDe(t){return new mr(or.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=i.serverResponse,s}}function FW(t,e,n){const i=kl(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new Au(i,"GET",gA(t,n),o);return a.errorHandler=y0(e),a}function FSe(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=kl(e.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,d=new Au(a,"GET",function MSe(t,e){return function n(r,i){const s=function xSe(t,e,n){const r=uM(n);return null===r?null:function kSe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[MW])for(const i of n[MW]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Ji(e,s));r.prefixes.push(o)}if(n[OW])for(const i of n[OW]){const s=t._makeStorageReference(new Ji(e,i.name));r.items.push(s)}return r}(t,e,r)}(t,e,i);return Cu(null!==s),s}}(t,e.bucket),l);return d.urlParams=s,d.errorHandler=sm(e),d}function LW(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function USe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class mA{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function cM(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Cu(!1)}return Cu(!!n&&-1!==(e||["active"]).indexOf(n)),n}const GSe={STATE_CHANGED:"state_changed"},Is={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dM(t){switch(t){case"running":case"pausing":case"canceling":return Is.RUNNING;case"paused":return Is.PAUSED;case"success":return Is.SUCCESS;case"canceled":return Is.CANCELED;default:return Is.ERROR}}class zSe{constructor(e,n,r){if(function lSe(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function om(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let BW=null;class qSe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=im.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=im.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=im.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw g0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw g0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw g0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw g0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw g0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class WSe extends qSe{initXhr(){this.xhr_.responseType="text"}}function xa(){return BW?BW():new WSe}class HW{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=m0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(or.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(SW(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=wW()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(or.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function BSe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=LW(e,r,i),a={name:o.fullPath},u=kl(s,t.host,t._protocol),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},g=lM(o,n),E=new Au(u,"POST",function v(T){let C;cM(T);try{C=T.getResponseHeader("X-Goog-Upload-URL")}catch{Cu(!1)}return Cu(hA(C)),C},t.maxUploadRetryTime);return E.urlParams=a,E.headers=d,E.body=g,E.errorHandler=sm(e),E}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,xa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function HSe(t,e,n,r){const u=new Au(n,"POST",function s(l){const d=cM(l,["active","final"]);let g=null;try{g=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Cu(!1)}g||Cu(!1);const y=Number(g);return Cu(!isNaN(y)),new mA(y,r.size(),"final"===d)},t.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=sm(e),u}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,xa,n,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new mA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function $Se(t,e,n,r,i,s,o,a){const u=new mA(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw function nSe(){return new mr(or.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=u.total-u.current;let d=l;i>0&&(d=Math.min(d,i));const g=u.current;let v="";v=0===d?"finalize":l===d?"upload, finalize":"upload";const E={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${u.current}`},T=r.slice(g,g+d);if(null===T)throw IW();const L=new Au(n,"POST",function C(Q,Ee){const Ce=cM(Q,["active","final"]),x=u.current+d,D=r.size();let M;return M="final"===Ce?gA(e,s)(Q,Ee):null,new mA(x,D,"final"===Ce,M)},e.maxUploadRetryTime);return L.headers=E,L.body=T.uploadData(),L.progressCallback=a||null,L.errorHandler=sm(t),L}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const a=this._ref.storage._makeRequest(o,xa,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=FW(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,xa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function jW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function a(){let L="";for(let Q=0;Q<2;Q++)L+=Math.random().toString().slice(2);return L}();o["Content-Type"]="multipart/related; boundary="+u;const l=LW(e,r,i),d=lM(l,n),v=Tu.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+u+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===v)throw IW();const E={name:l.fullPath},T=kl(s,t.host,t._protocol),k=t.maxUploadRetryTime,R=new Au(T,"POST",gA(t,n),k);return R.urlParams=E,R.headers=o,R.body=v.uploadData(),R.errorHandler=sm(e),R}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,xa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=EW(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=dM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new zSe(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(dM(this._state)){case Is.SUCCESS:om(this._resolve.bind(null,this.snapshot))();break;case Is.CANCELED:case Is.ERROR:om(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(dM(this._state)){case Is.RUNNING:case Is.PAUSED:e.next&&om(e.next.bind(e,this.snapshot))();break;case Is.SUCCESS:e.complete&&om(e.complete.bind(e))();break;default:e.error&&om(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Yh{constructor(e,n){this._service=e,this._location=n instanceof Ji?n:Ji.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yh(e,n)}get root(){const e=new Ji(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kW(this._location.path)}get storage(){return this._service}get parent(){const e=function ASe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Ji(this._location.bucket,e);return new Yh(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw AW(e)}}function GW(t,e,n){return hM.apply(this,arguments)}function hM(){return hM=(0,re.A)(function*(t,e,n){const i=yield zW(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield GW(t,e,i.nextPageToken))}),hM.apply(this,arguments)}function zW(t,e){null!=e&&"number"==typeof e.maxResults&&sM("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=FSe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,xa)}function sPe(t){t._throwIfRoot("getDownloadURL");const e=function VSe(t,e,n){const i=kl(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new Au(i,"GET",function OSe(t,e){return function n(r,i){const s=xW(t,i,e);return Cu(null!==s),function RSe(t,e,n,r){const i=uM(e);if(null===i||!hA(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const g=t.fullPath;return kl("/b/"+o(t.bucket)+"/o/"+o(g),n,r)+DW({alt:"media",token:l})})[0]}(s,i,t.host,t._protocol)}}(t,n),o);return a.errorHandler=y0(e),a}(t.storage,t._location,m0());return t.storage.makeRequestWithTokens(e,xa).then(n=>{if(null===n)throw function rSe(){return new mr(or.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function qW(t,e){const n=function CSe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Ji(t._location.bucket,n);return new Yh(t.storage,r)}function WW(t,e){if(t instanceof fM){const n=t;if(null==n._bucket)throw function tSe(){return new mr(or.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bW+"' property when initializing the app?")}();const r=new Yh(n,n._bucket);return null!=e?WW(r,e):r}return void 0!==e?qW(t,e):t}function lPe(t,e){if(e&&function aPe(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof fM)return function uPe(t,e){return new Yh(t,e)}(t,e);throw rm("To use ref(service, url), the first argument must be a Storage instance.")}return WW(t,e)}function KW(t,e){const n=e?.[bW];return null==n?null:Ji.makeFromBucketSpec(n,t)}class fM{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=vW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ji.makeFromBucketSpec(i,this._host):KW(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ji.makeFromBucketSpec(this._url,e):KW(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,re.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,re.A)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new sSe(TW());{const o=function mSe(t,e,n,r,i,s,o=!0){const a=DW(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return function pSe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function hSe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function fSe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,s),function gSe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new dSe(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return(0,re.A)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const QW="@firebase/storage";function XW(t,e){return lPe(t=(0,Rt.Ku)(t),e)}function vPe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fM(n,r,i,e,hu.SDK_VERSION)}!function bPe(){(0,hu._registerComponent)(new CI.uA("storage",vPe,"PUBLIC").setMultipleInstances(!0)),(0,hu.registerVersion)(QW,"0.12.6",""),(0,hu.registerVersion)(QW,"0.12.6","esm2017")}();class yA{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class e7{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new yA(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new yA(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(s="function"==typeof n?o=>n(new yA(o,this,this._ref)):{next:n.next?o=>n.next(new yA(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class t7{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new xl(e,this._service))}get items(){return this._delegate.items.map(e=>new xl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xl{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function _Pe(t,e){return qW(t,e)}(this._delegate,e);return new xl(n,this.storage)}get root(){return new xl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new xl(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new e7(function dPe(t,e,n){return function ePe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new HW(t,new Tu(e),n)}(t=(0,Rt.Ku)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=To.RAW,r){this._throwIfRoot("putString");const i=aM(n,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new e7(new HW(this._delegate,new Tu(i.data,!0),s),this)}listAll(){return function gPe(t){return function nPe(t){const e={prefixes:[],items:[]};return GW(t,e).then(()=>e)}(t=(0,Rt.Ku)(t))}(this._delegate).then(e=>new t7(e,this.storage))}list(e){return function pPe(t,e){return zW(t=(0,Rt.Ku)(t),e)}(this._delegate,e||void 0).then(n=>new t7(n,this.storage))}getMetadata(){return function hPe(t){return function rPe(t){t._throwIfRoot("getMetadata");const e=FW(t.storage,t._location,m0());return t.storage.makeRequestWithTokens(e,xa)}(t=(0,Rt.Ku)(t))}(this._delegate)}updateMetadata(e){return function fPe(t,e){return function iPe(t,e){t._throwIfRoot("updateMetadata");const n=function LSe(t,e,n,r){const s=kl(e.fullServerUrl(),t.host,t._protocol),a=lM(n,r),l=t.maxOperationRetryTime,d=new Au(s,"PATCH",gA(t,r),l);return d.headers={"Content-Type":"application/json; charset=utf-8"},d.body=a,d.errorHandler=y0(e),d}(t.storage,t._location,e,m0());return t.storage.makeRequestWithTokens(n,xa)}(t=(0,Rt.Ku)(t),e)}(this._delegate,e)}getDownloadURL(){return function mPe(t){return sPe(t=(0,Rt.Ku)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function yPe(t){return function oPe(t){t._throwIfRoot("deleteObject");const e=function jSe(t,e){const r=kl(e.fullServerUrl(),t.host,t._protocol),a=new Au(r,"DELETE",function o(u,l){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=y0(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,xa)}(t=(0,Rt.Ku)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw AW(e)}}class n7{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(r7(e))throw rm("ref() expected a child path but got a URL, use refFromURL instead.");return new xl(XW(this._delegate,e),this)}refFromURL(e){if(!r7(e))throw rm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ji.makeFromUrl(e,this._delegate.host)}catch{throw rm("refFromUrl() expected a valid full URL but got an invalid one.")}return new xl(XW(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function ZW(t,e,n,r={}){!function cPe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,Rt.Fy)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function r7(t){return/^[A-Za-z]+:\/\//.test(t)}function TPe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new n7(n,r)}function i7(t){const e=function CPe(t){return new fn(e=>{const n=o=>e.next(o);n(t.snapshot);const s=t.on("state_changed",n);return t.then(o=>{n(o),e.complete()},o=>{n(t.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(function GDe(t,e=Yp){return Be((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function u(){const l=o+t,d=e.now();if(d<l)return i=this.schedule(void 0,l-d),void r.add(i);a()}n.subscribe(We(r,l=>{s=l,o=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Re(n=>n.bytesTransferred/n.totalBytes*100))}}function _A(t){return{getDownloadURL:()=>et(void 0).pipe(x$,er(()=>t.getDownloadURL()),ms),getMetadata:()=>et(void 0).pipe(x$,er(()=>t.getMetadata()),ms),delete:()=>Zt(t.delete()),child:e=>_A(t.child(e)),updateMetadata:e=>Zt(t.updateMetadata(e)),put:(e,n)=>i7(t.put(e,n)),putString:(e,n,r)=>i7(t.putString(e,n,r)),list:e=>Zt(t.list(e)),listAll:()=>Zt(t.listAll())}}!function APe(t){const e={TaskState:Is,TaskEvent:GSe,StringFormat:To,Storage:n7,Reference:xl};t.INTERNAL.registerComponent(new CI.uA("storage-compat",TPe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.9")}(Us.A);const DPe=new _e("angularfire2.storageBucket"),SPe=new _e("angularfire2.storage.maxUploadRetryTime"),PPe=new _e("angularfire2.storage.maxOperationRetryTime"),NPe=new _e("angularfire2.storage.use-emulator");let s7=(()=>{class t{storage;constructor(n,r,i,s,o,a,u,l,d,g){const y=ov(n,o,r);this.storage=AI(`${y.name}.storage.${i}`,"AngularFireStorage",y.name,()=>{const v=o.runOutsideAngular(()=>y.storage(i||void 0)),E=d;return E&&v.useEmulator(...E),u&&v.setMaxUploadRetryTime(u),l&&v.setMaxOperationRetryTime(l),v},[u,l])}ref(n){return _A(this.storage.ref(n))}refFromURL(n){return _A(this.storage.refFromURL(n))}upload(n,r,i){return _A(this.storage.ref(n)).put(r,i)}static \u0275fac=function(r){return new(r||t)(le(eg),le(tg,8),le(DPe,8),le(Ho),le(St),le(TI),le(SPe,8),le(PPe,8),le(NPe,8),le(II,8))};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),RPe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zr({type:t});static \u0275inj=Sr({})}return t})(),kPe=(()=>{class t{constructor(){Us.A.registerVersion("angularfire",sv.full,"gcs-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zr({type:t});static \u0275inj=Sr({providers:[s7],imports:[RPe]})}return t})();const xPe=["chatContainer"],MPe=["chatInput"],OPe=(t,e)=>({"bi-chevron-up":t,"bi-chevron-down":e}),FPe=(t,e)=>({"flex justify-end":t,"flex justify-start":e}),VPe=(t,e,n)=>({"bg-accent5 text-black":t,"bg-white text-darkgray":e,"bg-red-100 text-red-800":n});function LPe(t,e){1&t&&fr(0,"i",40)}function jPe(t,e){1&t&&fr(0,"i",41)}function UPe(t,e){1&t&&fr(0,"span",42)}function BPe(t,e){if(1&t){const n=p_();Pt(0,"div",43)(1,"button",44),pr("click",function(){ss(n);const i=$r().$implicit;return Ms($r().provideFeedback(i.id,!0))}),fr(2,"i",45),Vn(3," Helpful "),Lt(),Pt(4,"button",46),pr("click",function(){ss(n);const i=$r().$implicit;return Ms($r().provideFeedback(i.id,!1))}),fr(5,"i",47),Vn(6," Not Helpful "),Lt()()}if(2&t){const n=$r().$implicit;Ot(),rn("disabled","positive"===n.feedback),Hr("aria-label","Mark this response as helpful")("aria-pressed","positive"===n.feedback),Ot(3),rn("disabled","negative"===n.feedback),Hr("aria-label","Mark this response as not helpful")("aria-pressed","negative"===n.feedback)}}function HPe(t,e){if(1&t&&(Pt(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33),uo(4,LPe,1,0,"i",34)(5,jPe,1,0,"i",35),Pt(6,"div",36)(7,"span",25),Vn(8),Lt(),fr(9,"span",37),uo(10,UPe,1,0,"span",38),Lt()(),uo(11,BPe,7,6,"div",39),Lt()()()),2&t){const n=e.$implicit;Hr("aria-label","ai"===n.sender?"Alfred's response":"Your message"),Ot(),rn("ngClass",hP(10,FPe,"user"===n.sender,"ai"===n.sender)),Ot(),rn("ngClass",OU(13,VPe,"user"===n.sender,"ai"===n.sender,n.isError)),Hr("role","ai"===n.sender?"status":null),Ot(2),rn("ngIf","ai"===n.sender),Ot(),rn("ngIf","user"===n.sender),Ot(3),Dp("ai"===n.sender?"Alfred says:":"You said:"),Ot(),rn("innerHTML",n.content,yw),Ot(),rn("ngIf","ai"===n.sender&&n.isTyping),Ot(),rn("ngIf","ai"===n.sender&&!n.isError&&n.id)}}function $Pe(t,e){1&t&&(Pt(0,"div",48)(1,"div",49)(2,"div",50),fr(3,"i",51),Lt(),Pt(4,"span",52),Vn(5,"Alfred is thinking..."),Lt()()())}function GPe(t,e){if(1&t&&(Pt(0,"li",57),fr(1,"i",58),Pt(2,"span"),Vn(3),Lt()()),2&t){const n=e.$implicit;Ot(3),Dp(n)}}function zPe(t,e){if(1&t&&(Pt(0,"aside",53)(1,"h2",54),Vn(2,"Relevant Documents"),Lt(),Pt(3,"ul",55),uo(4,GPe,4,1,"li",56),Lt()()),2&t){const n=$r();Ot(4),rn("ngForOf",n.relevantDocuments)}}function qPe(t,e){if(1&t&&(Pt(0,"div",59)(1,"h2",60),Vn(2,"Usage Statistics"),Lt(),Pt(3,"div",61)(4,"div",5)(5,"span",62),fr(6,"i",63),Vn(7," Page Visits "),Lt(),Pt(8,"span",64),Vn(9),fP(10,"async"),Lt()(),Pt(11,"div",5)(12,"span",62),fr(13,"i",65),Vn(14," Searches Made "),Lt(),Pt(15,"span",64),Vn(16),fP(17,"async"),Lt()()()()),2&t){const n=$r();rn("@slideInOut",void 0),Ot(9),Dp(pP(10,3,n.visitCount$)),Ot(7),Dp(pP(17,5,n.searchCount$))}}const WPe=[{path:"",redirectTo:"/ai-chat",pathMatch:"full"},{path:"ai-chat",component:(()=>{class t{constructor(n,r,i){this.aiService=n,this.storage=r,this.firestore=i,this.question="",this.chatHistory=[],this.isLoading=!1,this.pulseState="inactive",this.relevantDocuments=[],this.typingSpeed=10,this.showStats=!0,this.visitCount$=this.aiService.getVisitCountExt(),this.searchCount$=this.aiService.getSearchCountExt(),this.loadingSubscription=this.aiService.getLoadingState().subscribe(s=>this.isLoading=s)}ngOnInit(){this.addWelcomeMessage(),this.aiService.logPageVisit()}ngAfterViewChecked(){this.scrollToBottom()}ngOnDestroy(){this.loadingSubscription&&this.loadingSubscription.unsubscribe()}toggleStats(){this.showStats=!this.showStats}askQuestion(){this.question.trim()&&(this.addUserMessage(this.question),this.pulseState="active",this.getAiResponse())}provideFeedback(n,r){const i=this.chatHistory.find(s=>s.id===n);i&&(i.feedback=r?"positive":"negative",this.aiService.provideFeedback(n,r).subscribe(()=>console.log("Feedback submitted successfully"),s=>console.error("Error submitting feedback:",s)))}addWelcomeMessage(){this.chatHistory.push({content:"<i class='bi bi-emoji-smile mr-2'></i>Hello! I'm Alfred, an AI assistant here to help you with information about the Infrastructure Transparency Index 2024 report for Uganda. What would you like to know?",sender:"ai"})}addUserMessage(n){this.chatHistory.push({content:n,sender:"user"})}getAiResponse(){this.aiService.askQuestion(this.question).pipe(ul(()=>{this.question="",this.pulseState="inactive"})).subscribe(n=>this.handleAiResponse(n),n=>this.handleError(n))}handleAiResponse(n){const r=this.formatAnswer(n.answer),i=`msg-${Date.now()}`;this.addAiMessage("",i),this.simulateTyping(r,i),this.addContextInfo(n,i)}addAiMessage(n,r){this.chatHistory.push({id:r,content:`<div class="bg-gray-100 rounded-lg p-4 mb-4 shadow-sm">${n}</div>`,sender:"ai",isTyping:!0})}simulateTyping(n,r){let i=0;const s=this.chatHistory.find(a=>a.id===r);s&&function $de(t=0,e=Yp){return t<0&&(t=0),N$(t,t,e)}(this.typingSpeed).pipe(function Gde(t,e=!1){return Be((n,r)=>{let i=0;n.subscribe(We(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(()=>i<n.length)).subscribe(()=>{s.content+=n[i],i++,i===n.length&&(s.isTyping=!1),this.scrollToBottom()})}addContextInfo(n,r){n.contextRelevance&&this.chatHistory.push({content:`<i class='bi bi-info-circle mr-2'></i>Context Relevance: ${n.contextRelevance}`,sender:"ai",id:`${r}-context`})}formatAnswer(n){let s=n.split("\n\n").map(o=>{if(o.match(/^(\d+\.|-)\s/m)){const a=o.split("\n"),u=a[0].startsWith("-")?"ul":"ol";return`<${u} class="list-disc list-inside mb-4">${a.map(d=>`<li class="ml-5 mb-2">${d.replace(/^(\d+\.|-)\s/,"").trim()}</li>`).join("")}</${u}>`}return`<p class="mb-4">${o}</p>`}).join("");return s=s.replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic">$1</em>').replace(/(\w+):/g,'<span class="font-semibold secondary">$1:</span>'),`<div class="flex items-start">\n      <i class="bi bi-chat-left-text mr-2 mt-1 secondary"></i>\n      <div>${s}</div>\n    </div>`}handleError(n){const r=this.createErrorMessage(n);this.chatHistory.push({content:"<i class='bi bi-exclamation-triangle mr-2'></i>"+r,sender:"ai",isError:!0})}createErrorMessage(n){let r="I apologize, but I encountered an issue. ";return n.message.includes("404")?r+="The requested information couldn't be found. Could you please rephrase your question or ask about a different topic?":r+=n.message||"An unexpected error occurred. Please try again later.",r}scrollToBottom(){try{this.chatContainer.nativeElement.scrollTop=this.chatContainer.nativeElement.scrollHeight}catch(n){console.error("Error scrolling to bottom:",n)}}triggerPulseAnimation(){this.pulseState="active",setTimeout(()=>{this.pulseState="inactive"},300)}focusInput(){this.chatInput&&this.chatInput.nativeElement.focus()}clearChat(){this.chatHistory=[],this.addWelcomeMessage(),this.aiService.clearCache()}static#e=this.\u0275fac=function(r){return new(r||t)(ve($De),ve(s7),ve(Hk))};static#t=this.\u0275cmp=nc({type:t,selectors:[["app-ai-chat"]],viewQuery:function(r,i){if(1&r&&(iP(xPe,5),iP(MPe,5)),2&r){let s;nE(s=rE())&&(i.chatContainer=s.first),nE(s=rE())&&(i.chatInput=s.first)}},standalone:!0,features:[b_],decls:37,vars:13,consts:[["chatContainer",""],["chatInput",""],[1,"font-inter","bg-lightgray","min-h-screen","p-4","sm:p-6","md:p-8"],[1,"max-w-4xl","mx-auto","bg-white","rounded-[1rem]","shadow-xl","overflow-hidden"],[1,"bg-gradient-to-r","from-secondary","to-accent3","text-white","p-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],["aria-hidden","true",1,"bi","bi-robot","text-3xl"],[1,"text-2xl","font-semibold"],[1,"text-sm","opacity-75"],["aria-label","Clear chat history",1,"bg-accent5","text-accent3","px-3","py-1","rounded-full","text-sm","hover:bg-accent6","transition-colors","duration-300","ease-apple-ease-out",3,"click"],["aria-hidden","true",1,"bi","bi-trash","mr-1"],[1,"mt-3","text-sm","opacity-75"],["role","log","aria-live","polite",1,"h-[calc(100vh-20rem)]","overflow-y-auto","p-4","sm:p-6","bg-gray-50"],["class","mb-6 animate-fade-in",4,"ngFor","ngForOf"],["class","flex justify-start mb-4 animate-fade-in",4,"ngIf"],["class","p-6 bg-gray-100 border-t border-gray-200",4,"ngIf"],[1,"p-6","bg-white","border-t","border-gray-200"],[1,"flex","items-center","space-x-2",3,"ngSubmit"],["for","userInput",1,"sr-only"],[1,"relative","flex-grow"],["id","userInput","type","text","name","question","placeholder","Ask Alfred a question...",1,"w-full","p-3","pr-10","rounded-[1rem]","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-teal","transition-ease-out",3,"ngModelChange","focus","ngModel"],["aria-hidden","true",1,"bi","bi-chat-dots","absolute","right-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],["type","submit",1,"bg-accent6","text-white","p-3","rounded-[1rem]","hover:bg-lightblue","focus:outline-none","focus:ring-2","focus:ring-teal","disabled:opacity-50","transition-ease-out","press-effect",3,"click","disabled"],["aria-hidden","true",1,"bi","bi-send"],[1,"sr-only"],[1,"fixed","bottom-4","right-4","z-10"],["aria-label","Toggle usage statistics",1,"bg-accent6","text-white","p-2","rounded-full","shadow-md","hover:bg-lightblue","transition-colors","duration-300",3,"click"],["aria-hidden","true",1,"bi",3,"ngClass"],["class","mt-2 p-4 bg-white rounded-lg shadow-md",4,"ngIf"],[1,"mb-6","animate-fade-in"],[3,"ngClass"],[1,"w-full","sm:max-w-[80%]","p-4","rounded-[1rem]","shadow-md",3,"ngClass"],[1,"flex","items-start","space-x-2"],["class","bi bi-robot text-lg mt-1 flex-shrink-0","aria-hidden","true",4,"ngIf"],["class","bi bi-person text-lg mt-1 flex-shrink-0","aria-hidden","true",4,"ngIf"],[1,"flex-grow"],[1,"text-sm","sm:text-base",3,"innerHTML"],["class","typing-cursor","aria-hidden","true",4,"ngIf"],["class","mt-3 flex justify-end space-x-2",4,"ngIf"],["aria-hidden","true",1,"bi","bi-robot","text-lg","mt-1","flex-shrink-0"],["aria-hidden","true",1,"bi","bi-person","text-lg","mt-1","flex-shrink-0"],["aria-hidden","true",1,"typing-cursor"],[1,"mt-3","flex","justify-end","space-x-2"],[1,"text-xs","sm:text-sm","px-2","sm:px-3","py-1","rounded-full","bg-green-100","text-green-800","hover:bg-green-200","disabled:opacity-50","transition-ease-out",3,"click","disabled"],["aria-hidden","true",1,"bi","bi-hand-thumbs-up","mr-1"],[1,"text-xs","sm:text-sm","px-2","sm:px-3","py-1","rounded-full","bg-red-100","text-red-800","hover:bg-red-200","disabled:opacity-50","transition-ease-out",3,"click","disabled"],["aria-hidden","true",1,"bi","bi-hand-thumbs-down","mr-1"],[1,"flex","justify-start","mb-4","animate-fade-in"],["role","status",1,"bg-white","text-darkgray","p-4","rounded-[1rem]","shadow-md","flex","items-center","space-x-2"],[1,"animate-bounce"],["aria-hidden","true",1,"bi","bi-three-dots","text-xl"],[1,"text-sm","sm:text-base"],[1,"p-6","bg-gray-100","border-t","border-gray-200"],[1,"text-lg","font-semibold","mb-3","text-darkgray"],[1,"space-y-2"],["class","flex items-center text-sm text-darkgray",4,"ngFor","ngForOf"],[1,"flex","items-center","text-sm","text-darkgray"],["aria-hidden","true",1,"bi","bi-file-text","mr-2"],[1,"mt-2","p-4","bg-white","rounded-lg","shadow-md"],[1,"text-sm","font-semibold","text-dark-gray","mb-2"],[1,"flex","flex-col","space-y-2"],[1,"text-xs","text-gray","flex","items-center"],["aria-hidden","true",1,"bi","bi-eye-fill","mr-1"],[1,"text-sm","font-bold","text-teal"],["aria-hidden","true",1,"bi","bi-search","mr-1"]],template:function(r,i){if(1&r){const s=p_();Pt(0,"div",2)(1,"div",3)(2,"header",4)(3,"div",5)(4,"div",6),fr(5,"i",7),Pt(6,"div")(7,"h1",8),Vn(8,"Alfred"),Lt(),Pt(9,"p",9),Vn(10,"Your AI Infrastructure Transparency Assistant"),Lt()()(),Pt(11,"button",10),pr("click",function(){return ss(s),Ms(i.clearChat())}),fr(12,"i",11),Vn(13,"Clear Chat "),Lt()(),Pt(14,"p",12),Vn(15,"Developed by CoST to make access to information easy. I'm here to help with the Infrastructure Transparency Index 2024 report for Uganda."),Lt()(),Pt(16,"main",13,0),uo(18,HPe,12,17,"div",14)(19,$Pe,6,0,"div",15),Lt(),uo(20,zPe,5,1,"aside",16),Pt(21,"footer",17)(22,"form",18),pr("ngSubmit",function(){return ss(s),Ms(i.askQuestion())}),Pt(23,"label",19),Vn(24,"Type your message"),Lt(),Pt(25,"div",20)(26,"input",21,1),aP("ngModelChange",function(a){return ss(s),function PU(t,e){const n=fL(t);return n&&t.set(e),n}(i.question,a)||(i.question=a),Ms(a)}),pr("focus",function(){return ss(s),Ms(i.triggerPulseAnimation())}),Lt(),fr(28,"i",22),Lt(),Pt(29,"button",23),pr("click",function(){return ss(s),i.askQuestion(),Ms(i.focusInput())}),fr(30,"i",24),Pt(31,"span",25),Vn(32,"Send"),Lt()()()()()(),Pt(33,"div",26)(34,"button",27),pr("click",function(){return ss(s),Ms(i.toggleStats())}),fr(35,"i",28),Lt(),uo(36,qPe,18,7,"div",29),Lt()}2&r&&(Ot(18),rn("ngForOf",i.chatHistory),Ot(),rn("ngIf",i.isLoading),Ot(),rn("ngIf",i.relevantDocuments.length>0),Ot(6),oP("ngModel",i.question),Hr("aria-label","Type your message"),Ot(3),rn("disabled",i.isLoading||!i.question.trim())("@pulse",i.pulseState),Hr("aria-label","Send message"),Ot(6),rn("ngClass",hP(10,OPe,i.showStats,!i.showStats)),Ot(),rn("ngIf",i.showStats))},dependencies:[e1,bB,EB,kE,CB,Ode,a$,uI,qH,WH,iN,bI],styles:[".apple-press-effect[_ngcontent-%COMP%]{transition:transform .1s ease-in-out}.apple-press-effect[_ngcontent-%COMP%]:active{transform:scale(.95)}"],data:{animation:[tv("fadeInOut",[Rc(":enter",[gs({opacity:0,transform:"translateY(10px)"}),Nc("300ms ease-out",gs({opacity:1,transform:"translateY(0)"}))]),Rc(":leave",[Nc("300ms ease-in",gs({opacity:0,transform:"translateY(10px)"}))])]),tv("slideInOut",[Rc(":enter",[gs({transform:"translateY(100%)"}),Nc("300ms ease-out",gs({transform:"translateY(0)"}))]),Rc(":leave",[Nc("300ms ease-in",gs({transform:"translateY(100%)"}))])]),tv("pulse",[nv("inactive",gs({transform:"scale(1)"})),nv("active",gs({transform:"scale(1.1)"})),Rc("inactive <=> active",Nc("300ms ease-in-out"))])]}})}return t})()}];let KPe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=Sr({imports:[H1.forRoot(WPe),H1]})}return t})(),QPe=(()=>{class t{constructor(n){this.textService=n,this.title="itiReport",this.isMobileMenuOpen=!1,this.processingProgress=0,this.progressSubscription=null}ngOnInit(){this.progressSubscription=this.textService.progress$.subscribe(n=>{this.processingProgress=n,console.log(`Processing progress: ${n}%`)})}ngOnDestroy(){this.progressSubscription&&this.progressSubscription.unsubscribe()}processDocument(){this.textService.processDocument("assets/data/hondurasITI2021.txt").subscribe({next:n=>{console.log("Vectorization started:",n),this.monitorVectorizationProgress()},error:n=>{console.error("Error starting document processing:",n)},complete:()=>{console.log("Document processing initiation completed")}})}processJson(){this.textService.processJsonDataset("assets/data/projectScores.json").subscribe({next:n=>{console.log("JSON processing started:",n),this.monitorVectorizationProgress()},error:n=>{console.error("Error starting JSON processing:",n)},complete:()=>{console.log("JSON processing initiation completed")}})}monitorVectorizationProgress(){const n=this.textService.progress$.subscribe({next:r=>{console.log("Vectorization progress:",r),r>=100&&(console.log("Vectorization completed"),n.unsubscribe())},error:r=>{console.error("Error monitoring vectorization progress:",r),n.unsubscribe()}})}static#e=this.\u0275fac=function(r){return new(r||t)(ve(tM))};static#t=this.\u0275cmp=nc({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"min-h-screen","flex","flex-col","bg-primary","font-inter"],[1,"flex-grow"]],template:function(r,i){1&r&&(Pt(0,"div",0)(1,"main",1),fr(2,"router-outlet"),Lt()())},dependencies:[P1],data:{animation:[tv("fadeInUp",[Rc(":enter",[gs({opacity:0,transform:"translateY(20px)"}),Nc("500ms ease-out",gs({opacity:1,transform:"translateY(0)"}))])])]}})}return t})();const o7_firebase={apiKey:"AIzaSyAITMAn5KoFfvaIS3tHE_SqYorUoNlqjwY",authDomain:"itiuganda.firebaseapp.com",projectId:"itiuganda",storageBucket:"itiuganda.appspot.com",messagingSenderId:"178195669411",appId:"1:178195669411:web:1a7f51357b2443cefa3a16",measurementId:"G-YPBQDJRE71"};function a7(t){return new K(3e3,!1)}function od(t){switch(t.length){case 0:return new rv;case 1:return t[0];default:return new C$(t)}}function u7(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const l=u.get("offset"),d=l==o,g=d&&a||new Map;u.forEach((y,v)=>{let E=v,T=y;if("offset"!==v)switch(E=t.normalizePropertyName(E,i),T){case"!":T=n.get(v);break;case cl:T=r.get(v);break;default:T=t.normalizeStyleValue(v,E,T,i)}g.set(E,T)}),d||s.push(g),a=g,o=l}),i.length)throw function _1e(t){return new K(3502,!1)}();return s}function pM(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&gM(n,"start",t)));break;case"done":t.onDone(()=>r(n&&gM(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&gM(n,"destroy",t)))}}function gM(t,e,n){const s=mM(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function mM(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ao(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function l7(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const N1e=typeof document>"u"?null:document.documentElement;function yM(t){const e=t.parentNode||t.host||null;return e===N1e?null:e}let Xh=null,c7=!1;function d7(t,e){for(;e;){if(e===t)return!0;e=yM(e)}return!1}function h7(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let _M=(()=>{class t{validateStyleProperty(n){return function k1e(t){Xh||(Xh=function x1e(){return typeof document<"u"?document.body:null}()||{},c7=!!Xh.style&&"WebkitAppearance"in Xh.style);let e=!0;return Xh.style&&!function R1e(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Xh.style,!e&&c7&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Xh.style)),e}(n)}containsElement(n,r){return d7(n,r)}getParentElement(n){return yM(n)}query(n,r,i){return h7(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new rv(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();class vM{static#e=this.NOOP=new _M}class bM{}const O1e=1e3,wM="ng-enter",vA="ng-leave",bA="ng-trigger",wA=".ng-trigger",p7="ng-animating",EM=".ng-animating";function Ml(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:IM(parseFloat(e[1]),e[2])}function IM(t,e){return"s"===e?t*O1e:t}function EA(t,e,n){return t.hasOwnProperty("duration")?t:function V1e(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(a7()),{duration:0,delay:0,easing:""};i=IM(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=IM(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function JPe(){return new K(3100,!1)}()),a=!0),s<0&&(e.push(function YPe(){return new K(3101,!1)}()),a=!0),a&&e.splice(u,0,a7())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Du(t,e,n){e.forEach((r,i)=>{const s=AM(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Zh(t,e){e.forEach((n,r)=>{const i=AM(r);t.style[i]=""})}function _0(t){return Array.isArray(t)?1==t.length?t[0]:function Fde(t,e=null){return{type:ft.Sequence,steps:t,options:e}}(t):t}const TM=new RegExp("{{\\s*(.+?)\\s*}}","g");function m7(t){let e=[];if("string"==typeof t){let n;for(;n=TM.exec(t);)e.push(n[1]);TM.lastIndex=0}return e}function v0(t,e,n){const r=`${t}`,i=r.replace(TM,(s,o)=>{let a=e[o];return null==a&&(n.push(function ZPe(t){return new K(3003,!1)}()),a=""),a.toString()});return i==r?t:i}const U1e=/-+([a-z0-9])/g;function AM(t){return t.replace(U1e,(...e)=>e[1].toUpperCase())}function Co(t,e,n){switch(e.type){case ft.Trigger:return t.visitTrigger(e,n);case ft.State:return t.visitState(e,n);case ft.Transition:return t.visitTransition(e,n);case ft.Sequence:return t.visitSequence(e,n);case ft.Group:return t.visitGroup(e,n);case ft.Animate:return t.visitAnimate(e,n);case ft.Keyframes:return t.visitKeyframes(e,n);case ft.Style:return t.visitStyle(e,n);case ft.Reference:return t.visitReference(e,n);case ft.AnimateChild:return t.visitAnimateChild(e,n);case ft.AnimateRef:return t.visitAnimateRef(e,n);case ft.Query:return t.visitQuery(e,n);case ft.Stagger:return t.visitStagger(e,n);default:throw function e1e(t){return new K(3004,!1)}()}}function CM(t,e){return window.getComputedStyle(t)[e]}const $1e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class y7 extends bM{normalizePropertyName(e,n){return AM(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if($1e.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function t1e(t,e){return new K(3005,!1)}())}return o+s}}const IA="*";const TA=new Set(["true","1"]),AA=new Set(["false","0"]);function _7(t,e){const n=TA.has(t)||AA.has(t),r=TA.has(e)||AA.has(e);return(i,s)=>{let o=t==IA||t==i,a=e==IA||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?TA.has(t):AA.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?TA.has(e):AA.has(e)),o&&a}}const W1e=new RegExp("s*:selfs*,?","g");function DM(t,e,n,r){return new K1e(t).build(e,n,r)}class K1e{constructor(e){this._driver=e}build(e,n,r){const i=new Y1e(n);return this._resetContextStyleTimingState(i),Co(this,_0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function n1e(){return new K(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==ft.State){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(d=>{u.name=d,s.push(this.visitState(u,n))}),u.name=l}else if(a.type==ft.Transition){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function r1e(){return new K(3007,!1)}())}),{type:ft.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{m7(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&n.errors.push(function i1e(t,e){return new K(3008,!1)}(0,s.values()))}return{type:ft.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Co(this,_0(e.animation),n),i=function G1e(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function z1e(t,e,n){if(":"==t[0]){const u=function q1e(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function p1e(t){return new K(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function f1e(t){return new K(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(_7(i,o)),"<"==s[0]&&(i!=IA||o!=IA)&&e.push(_7(o,i))}(r,n,e)):n.push(t),n}(e.expr,n.errors);return{type:ft.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ef(e.options)}}visitSequence(e,n){return{type:ft.Sequence,steps:e.steps.map(r=>Co(this,r,n)),options:ef(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=Co(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:ft.Group,steps:s,options:ef(e.options)}}visitAnimate(e,n){const r=function Z1e(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return SM(EA(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=SM(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=EA(n,e);return SM(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:gs({});if(s.type==ft.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=gs(l)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:ft.Animate,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===cl?r.push(a):n.errors.push(new K(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:ft.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=n.collectedStyles.get(n.currentQuerySelector),d=l.get(u);let g=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(n.errors.push(function o1e(t,e,n,r,i){return new K(3010,!1)}()),g=!1),s=d.startTime),g&&l.set(u,{startTime:s,endTime:i}),n.options&&function j1e(t,e,n){const r=e.params||{},i=m7(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function XPe(t){return new K(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:ft.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function a1e(){return new K(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const d=e.steps.map(k=>{const R=this._makeStyleAst(k,n);let L=null!=R.offset?R.offset:function X1e(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(R.styles),Q=0;return null!=L&&(s++,Q=R.offset=L),u=u||Q<0||Q>1,a=a||Q<l,l=Q,o.push(Q),R});u&&n.errors.push(function u1e(){return new K(3012,!1)}()),a&&n.errors.push(function l1e(){return new K(3200,!1)}());const g=e.steps.length;let y=0;s>0&&s<g?n.errors.push(function c1e(){return new K(3202,!1)}()):0==s&&(y=1/(g-1));const v=g-1,E=n.currentTime,T=n.currentAnimateTimings,C=T.duration;return d.forEach((k,R)=>{const L=y>0?R==v?1:y*R:o[R],Q=L*C;n.currentTime=E+T.delay+Q,T.duration=Q,this._validateStyleAst(k,n),k.offset=L,r.styles.push(k)}),r}visitReference(e,n){return{type:ft.Reference,animation:Co(this,_0(e.animation),n),options:ef(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:ft.AnimateChild,options:ef(e.options)}}visitAnimateRef(e,n){return{type:ft.AnimateRef,animation:this.visitReference(e.animation,n),options:ef(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function Q1e(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(W1e,"")),t=t.replace(/@\*/g,wA).replace(/@\w+/g,n=>wA+"-"+n.slice(1)).replace(/:animating/g,EM),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Ao(n.collectedStyles,n.currentQuerySelector,new Map);const a=Co(this,_0(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:ft.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ef(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function d1e(){return new K(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:EA(e.timings,n.errors,!0);return{type:ft.Stagger,animation:Co(this,_0(e.animation),n),timings:r,options:null}}}class Y1e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ef(t){return t?(t={...t}).params&&(t.params=function J1e(t){return t?{...t}:null}(t.params)):t={},t}function SM(t,e,n){return{duration:t,delay:e,easing:n}}function PM(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class CA{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const nNe=new RegExp(":enter","g"),iNe=new RegExp(":leave","g");function NM(t,e,n,r,i,s=new Map,o=new Map,a,u,l=[]){return(new sNe).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class sNe{buildKeyframes(e,n,r,i,s,o,a,u,l,d=[]){l=l||new CA;const g=new RM(e,n,l,i,s,d,[]);g.options=u;const y=u.delay?Ml(u.delay):0;g.currentTimeline.delayNextStep(y),g.currentTimeline.setStyles([o],null,g.errors,u),Co(this,r,g);const v=g.timelines.filter(E=>E.containsAnimation());if(v.length&&a.size){let E;for(let T=v.length-1;T>=0;T--){const C=v[T];if(C.element===n){E=C;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,g.errors,u)}return v.length?v.map(E=>E.buildKeyframes()):[PM(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Ml(v0(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Ml(r.duration):null,a=null!=r.delay?Ml(r.delay):null;return 0!==o&&e.forEach(u=>{const l=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Co(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==ft.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=DA);const o=Ml(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Co(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ml(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),Co(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return EA(n.params?v0(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==ft.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ml(i.delay):0;s&&(n.previousNode.type===ft.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=DA);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((l,d)=>{n.currentQueryIndex=d;const g=n.createSubContext(e.options,l);s&&g.delayNextStep(s),l===n.element&&(u=g.currentTimeline),Co(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const d=n.currentTimeline;u&&d.delayNextStep(u);const g=d.currentTime;Co(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const DA={};class RM{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new SA(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ml(r.duration)),null!=r.delay&&(i.delay=Ml(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=v0(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new RM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=DA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new oNe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(nNe,"."+this._enterClassName)).replace(iNe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function h1e(t){return new K(3014,!1)}()),a}}class SA{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new SA(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||cl),this._currentKeyframe.set(n,cl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function aNe(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)n.set(s,cl)}else for(let[s,o]of i)n.set(s,o)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=v0(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??cl),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=new Map([...this._backFill,...a]);l.forEach((d,g)=>{"!"===d?e.add(g):d===cl&&n.add(g)}),r||l.set("offset",u/this.duration),i.push(l)});const s=[...e.values()],o=[...n.values()];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return PM(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class oNe extends SA{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=new Map(e[0]);u.set("offset",0),s.push(u);const l=new Map(e[0]);l.set("offset",w7(a)),s.push(l);const d=e.length-1;for(let g=1;g<=d;g++){let y=new Map(e[g]);const v=y.get("offset");y.set("offset",w7((n+v*r)/o)),s.push(y)}r=o,n=0,i="",e=s}return PM(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function w7(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}function E7(t,e,n,r,i,s,o,a,u,l,d,g,y){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:d,totalTime:g,errors:y}}const kM={};class I7{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function uNe(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,l,d){const g=[],y=this.ast.options&&this.ast.options.params||kM,E=this.buildStyles(r,a&&a.params||kM,g),T=u&&u.params||kM,C=this.buildStyles(i,T,g),k=new Set,R=new Map,L=new Map,Q="void"===i,Ee={params:T7(T,y),delay:this.ast.options?.delay},Ce=d?[]:NM(e,n,this.ast.animation,s,o,E,C,Ee,l,g);let x=0;return Ce.forEach(D=>{x=Math.max(D.duration+D.delay,x)}),g.length?E7(n,this._triggerName,r,i,Q,E,C,[],[],R,L,x,g):(Ce.forEach(D=>{const M=D.element,j=Ao(R,M,new Set);D.preStyleProps.forEach(q=>j.add(q));const B=Ao(L,M,new Set);D.postStyleProps.forEach(q=>B.add(q)),M!==n&&k.add(M)}),E7(n,this._triggerName,r,i,Q,E,C,Ce,[...k.values()],R,L,x))}}function T7(t,e){const n={...e};return Object.entries(t).forEach(([r,i])=>{null!=i&&(n[r]=i)}),n}class lNe{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=T7(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=v0(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class dNe{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new lNe(i.style,i.options&&i.options.params||{},r))}),A7(this.states,"true","1"),A7(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new I7(e,i,this.states))}),this.fallbackTransition=function hNe(t,e,n){return new I7(t,{type:ft.Transition,animation:{type:ft.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function A7(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const fNe=new CA;class pNe{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=DM(this._driver,n,r,[]);if(r.length)throw function v1e(t){return new K(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=u7(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=NM(this._driver,n,s,wM,vA,new Map,new Map,r,fNe,i),o.forEach(d=>{const g=Ao(a,d.element,new Map);d.postStyleProps.forEach(y=>g.set(y,null))})):(i.push(function b1e(){return new K(3300,!1)}()),o=[]),i.length)throw function w1e(t){return new K(3504,!1)}();a.forEach((d,g)=>{d.forEach((y,v)=>{d.set(v,this._driver.computeStyle(g,v,cl))})});const l=od(o.map(d=>{const g=a.get(d.element);return this._buildPlayer(d,new Map,g)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function E1e(t){return new K(3301,!1)}();return n}listen(e,n,r,i){const s=mM(n,"","","");return pM(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const C7="ng-animate-queued",xM="ng-animate-disabled",vNe=[],D7={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bNe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ma="__ng_removed";class MM{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function TNe(t){return t??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const b0="void",OM=new MM(b0);class wNe{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zo(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function I1e(t,e){return new K(3302,!1)}();if(null==r||0==r.length)throw function T1e(t){return new K(3303,!1)}();if(!function ANe(t){return"start"==t||"done"==t}(r))throw function A1e(t,e){return new K(3400,!1)}();const s=Ao(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=Ao(this._engine.statesByElement,e,new Map);return a.has(n)||(Zo(e,bA),Zo(e,bA+"-"+n),a.set(n,OM)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function C1e(t){return new K(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new FM(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Zo(e,bA),Zo(e,bA+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const l=new MM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(n,l),u||(u=OM),l.value!==b0&&u.value===l.value){if(!function SNe(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,l.params)){const T=[],C=s.matchStyles(u.value,u.params,T),k=s.matchStyles(l.value,l.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Zh(e,C),Du(e,k)})}return}const y=Ao(this._engine.playersByElement,e,[]);y.forEach(T=>{T.namespaceId==this.id&&T.triggerName==n&&T.queued&&T.destroy()});let v=s.matchTransition(u.value,l.value,e,l.params),E=!1;if(!v){if(!i)return;v=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:v,fromState:u,toState:l,player:o,isFallbackTransition:E}),E||(Zo(e,C7),o.onStart(()=>{am(e,C7)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const C=this._engine.playersByElement.get(e);if(C){let k=C.indexOf(o);k>=0&&C.splice(k,1)}}),this.players.push(o),y.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,wA,!0);r.forEach(i=>{if(i[Ma])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const d=this.trigger(e,l,b0,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&od(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||OM,d=new MM(b0),g=new FM(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:d,player:g,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[Ma];(!s||s===D7)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Zo(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=mM(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,pM(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class ENe{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new wNe(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(PA(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!PA(n))return;const s=n[Ma];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zo(e,xM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),am(e,xM))}removeNode(e,n,r){if(PA(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Ma]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return PA(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,wA,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,EM,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return od(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Ma];if(n&&n.setForRemoval){if(e[Ma]=D7,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(xM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?od(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function D1e(t){return new K(3402,!1)}()}_flushAnimations(e,n){const r=new CA,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(Ke=>{d.add(Ke);const Ze=this.driver.query(Ke,".ng-animate-queued",!0);for(let rt=0;rt<Ze.length;rt++)d.add(Ze[rt])});const g=this.bodyNode,y=Array.from(this.statesByElement.keys()),v=N7(y,this.collectedEnterElements),E=new Map;let T=0;v.forEach((Ke,Ze)=>{const rt=wM+T++;E.set(Ze,rt),Ke.forEach(Bt=>Zo(Bt,rt))});const C=[],k=new Set,R=new Set;for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++){const Ze=this.collectedLeaveElements[Ke],rt=Ze[Ma];rt&&rt.setForRemoval&&(C.push(Ze),k.add(Ze),rt.hasAnimation?this.driver.query(Ze,".ng-star-inserted",!0).forEach(Bt=>k.add(Bt)):R.add(Ze))}const L=new Map,Q=N7(y,Array.from(k));Q.forEach((Ke,Ze)=>{const rt=vA+T++;L.set(Ze,rt),Ke.forEach(Bt=>Zo(Bt,rt))}),e.push(()=>{v.forEach((Ke,Ze)=>{const rt=E.get(Ze);Ke.forEach(Bt=>am(Bt,rt))}),Q.forEach((Ke,Ze)=>{const rt=L.get(Ze);Ke.forEach(Bt=>am(Bt,rt))}),C.forEach(Ke=>{this.processLeaveNode(Ke)})});const Ee=[],Ce=[];for(let Ke=this._namespaceList.length-1;Ke>=0;Ke--)this._namespaceList[Ke].drainQueuedTransitions(n).forEach(rt=>{const Bt=rt.player,Vr=rt.element;if(Ee.push(Bt),this.collectedEnterElements.length){const Er=Vr[Ma];if(Er&&Er.setForMove){if(Er.previousTriggersValues&&Er.previousTriggersValues.has(rt.triggerName)){const Ol=Er.previousTriggersValues.get(rt.triggerName),qs=this.statesByElement.get(rt.element);if(qs&&qs.has(rt.triggerName)){const Fl=qs.get(rt.triggerName);Fl.value=Ol,qs.set(rt.triggerName,Fl)}}return void Bt.destroy()}}const ta=!g||!this.driver.containsElement(g,Vr),wr=L.get(Vr),Jn=E.get(Vr),Yn=this._buildInstruction(rt,r,Jn,wr,ta);if(Yn.errors&&Yn.errors.length)return void Ce.push(Yn);if(ta)return Bt.onStart(()=>Zh(Vr,Yn.fromStyles)),Bt.onDestroy(()=>Du(Vr,Yn.toStyles)),void i.push(Bt);if(rt.isFallbackTransition)return Bt.onStart(()=>Zh(Vr,Yn.fromStyles)),Bt.onDestroy(()=>Du(Vr,Yn.toStyles)),void i.push(Bt);const ud=[];Yn.timelines.forEach(Er=>{Er.stretchStartingKeyframe=!0,this.disabledNodes.has(Er.element)||ud.push(Er)}),Yn.timelines=ud,r.append(Vr,Yn.timelines),o.push({instruction:Yn,player:Bt,element:Vr}),Yn.queriedElements.forEach(Er=>Ao(a,Er,[]).push(Bt)),Yn.preStyleProps.forEach((Er,Ol)=>{if(Er.size){let qs=u.get(Ol);qs||u.set(Ol,qs=new Set),Er.forEach((Fl,ld)=>qs.add(ld))}}),Yn.postStyleProps.forEach((Er,Ol)=>{let qs=l.get(Ol);qs||l.set(Ol,qs=new Set),Er.forEach((Fl,ld)=>qs.add(ld))})});if(Ce.length){const Ke=[];Ce.forEach(Ze=>{Ke.push(function S1e(t,e){return new K(3505,!1)}())}),Ee.forEach(Ze=>Ze.destroy()),this.reportError(Ke)}const x=new Map,D=new Map;o.forEach(Ke=>{const Ze=Ke.element;r.has(Ze)&&(D.set(Ze,Ze),this._beforeAnimationBuild(Ke.player.namespaceId,Ke.instruction,x))}),i.forEach(Ke=>{const Ze=Ke.element;this._getPreviousPlayers(Ze,!1,Ke.namespaceId,Ke.triggerName,null).forEach(Bt=>{Ao(x,Ze,[]).push(Bt),Bt.destroy()})});const M=C.filter(Ke=>k7(Ke,u,l)),j=new Map;P7(j,this.driver,R,l,cl).forEach(Ke=>{k7(Ke,u,l)&&M.push(Ke)});const q=new Map;v.forEach((Ke,Ze)=>{P7(q,this.driver,new Set(Ke),u,"!")}),M.forEach(Ke=>{const Ze=j.get(Ke),rt=q.get(Ke);j.set(Ke,new Map([...Ze?.entries()??[],...rt?.entries()??[]]))});const F=[],ea=[],ad={};o.forEach(Ke=>{const{element:Ze,player:rt,instruction:Bt}=Ke;if(r.has(Ze)){if(d.has(Ze))return rt.onDestroy(()=>Du(Ze,Bt.toStyles)),rt.disabled=!0,rt.overrideTotalTime(Bt.totalTime),void i.push(rt);let Vr=ad;if(D.size>1){let wr=Ze;const Jn=[];for(;wr=wr.parentNode;){const Yn=D.get(wr);if(Yn){Vr=Yn;break}Jn.push(wr)}Jn.forEach(Yn=>D.set(Yn,Vr))}const ta=this._buildAnimation(rt.namespaceId,Bt,x,s,q,j);if(rt.setRealPlayer(ta),Vr===ad)F.push(rt);else{const wr=this.playersByElement.get(Vr);wr&&wr.length&&(rt.parentPlayer=od(wr)),i.push(rt)}}else Zh(Ze,Bt.fromStyles),rt.onDestroy(()=>Du(Ze,Bt.toStyles)),ea.push(rt),d.has(Ze)&&i.push(rt)}),ea.forEach(Ke=>{const Ze=s.get(Ke.element);if(Ze&&Ze.length){const rt=od(Ze);Ke.setRealPlayer(rt)}}),i.forEach(Ke=>{Ke.parentPlayer?Ke.syncPlayerEvents(Ke.parentPlayer):Ke.destroy()});for(let Ke=0;Ke<C.length;Ke++){const Ze=C[Ke],rt=Ze[Ma];if(am(Ze,vA),rt&&rt.hasAnimation)continue;let Bt=[];if(a.size){let ta=a.get(Ze);ta&&ta.length&&Bt.push(...ta);let wr=this.driver.query(Ze,EM,!0);for(let Jn=0;Jn<wr.length;Jn++){let Yn=a.get(wr[Jn]);Yn&&Yn.length&&Bt.push(...Yn)}}const Vr=Bt.filter(ta=>!ta.destroyed);Vr.length?CNe(this,Ze,Vr):this.processLeaveNode(Ze)}return C.length=0,F.forEach(Ke=>{this.players.push(Ke),Ke.onDone(()=>{Ke.destroy();const Ze=this.players.indexOf(Ke);this.players.splice(Ze,1)}),Ke.play()}),F}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==b0;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const l=u.element,d=l!==s,g=Ao(r,l,[]);this._getPreviousPlayers(l,d,o,a,n.toState).forEach(v=>{const E=v.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),v.destroy(),g.push(v)})}Zh(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,l=[],d=new Set,g=new Set,y=n.timelines.map(E=>{const T=E.element;d.add(T);const C=T[Ma];if(C&&C.removedBeforeQueried)return new rv(E.duration,E.delay);const k=T!==u,R=function DNe(t){const e=[];return R7(t,e),e}((r.get(T)||vNe).map(x=>x.getRealPlayer())).filter(x=>!!x.element&&x.element===T),L=s.get(T),Q=o.get(T),Ee=u7(this._normalizer,E.keyframes,L,Q),Ce=this._buildPlayer(E,Ee,R);if(E.subTimeline&&i&&g.add(T),k){const x=new FM(e,a,T);x.setRealPlayer(Ce),l.push(x)}return Ce});l.forEach(E=>{Ao(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>function INe(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>Zo(E,p7));const v=od(y);return v.onDestroy(()=>{d.forEach(E=>am(E,p7)),Du(u,n.toStyles)}),g.forEach(E=>{Ao(i,E,[]).push(v)}),v}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new rv(e.duration,e.delay)}}class FM{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new rv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>pM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Ao(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function PA(t){return t&&1===t.nodeType}function S7(t,e){const n=t.style.display;return t.style.display=e??"none",n}function P7(t,e,n,r,i){const s=[];n.forEach(u=>s.push(S7(u)));const o=[];r.forEach((u,l)=>{const d=new Map;u.forEach(g=>{const y=e.computeStyle(l,g,i);d.set(g,y),(!y||0==y.length)&&(l[Ma]=bNe,o.push(l))}),t.set(l,d)});let a=0;return n.forEach(u=>S7(u,s[a++])),o}function N7(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=n.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function Zo(t,e){t.classList?.add(e)}function am(t,e){t.classList?.remove(e)}function CNe(t,e,n){od(n).onDone(()=>t.processLeaveNode(e))}function R7(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof C$?R7(r.players,e):e.push(r)}}function k7(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class w0{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new ENe(e.body,n,r),this._timelineEngine=new pNe(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],d=DM(this._driver,s,u,[]);if(u.length)throw function y1e(t,e){return new K(3404,!1)}();a=function cNe(t,e,n){return new dNe(t,e,n)}(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=l7(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=l7(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class E0{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=E0.initialStylesByElement.get(e);i||E0.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Du(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Du(this._element,this._initialStyles),this._endStyles&&(Du(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(E0.initialStylesByElement.delete(this._element),this._startStyles&&(Zh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zh(this._element,this._endStyles),this._endStyles=null),Du(this._element,this._initialStyles),this._state=3)}}function VM(t){let e=null;return t.forEach((n,r)=>{(function NNe(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class x7{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:CM(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class M7{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return d7(e,n)}getParentElement(e){return yM(e)}query(e,n,r){return h7(e,n,r)}computeStyle(e,n,r){return CM(e,n)}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,d=o.filter(v=>v instanceof x7);(function B1e(t,e){return 0===t||0===e})(r,i)&&d.forEach(v=>{v.currentSnapshot.forEach((E,T)=>l.set(T,E))});let g=function L1e(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}(n).map(v=>new Map(v));g=function H1e(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,CM(t,a)))}}return e}(e,g,l);const y=function PNe(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=VM(e[0]),e.length>1&&(r=VM(e[e.length-1]))):e instanceof Map&&(n=VM(e)),n||r?new E0(t,n,r):null}(e,g);return new x7(e,g,u,y)}}const O7="@.disabled";class F7{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==O7?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class RNe extends F7{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==O7?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function kNe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function xNe(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}class MNe{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){const i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){const l=this._rendererCache;let d=l.get(i);return d||(d=new F7("",i,this.engine,()=>l.delete(i)),l.set(i,d)),d}const s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return n.data.animation.forEach(a),new RNe(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let ONe=(()=>{class t extends w0{constructor(n,r,i){super(n,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(le(pi),le(vM),le(bM))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const V7=[{provide:bM,useFactory:function FNe(){return new y7}},{provide:w0,useClass:ONe},{provide:Ow,useFactory:function VNe(t,e,n){return new MNe(t,e,n)},deps:[l1,w0,St]}],LM=[{provide:vM,useFactory:()=>new M7},{provide:KF,useValue:"BrowserAnimations"},...V7],L7=[{provide:vM,useClass:_M},{provide:KF,useValue:"NoopAnimations"},...V7];let LNe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?L7:LM}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=Sr({providers:LM,imports:[JB]})}return t})();const j7=["toast-component",""];function jNe(t,e){if(1&t){const n=p_();Pt(0,"button",5),pr("click",function(){return ss(n),Ms($r().remove())}),Pt(1,"span",6),Vn(2,"\xd7"),Lt()()}}function UNe(t,e){if(1&t&&(h_(0),Vn(1),f_()),2&t){const n=$r(2);Ot(),nl("[",n.duplicatesCount+1,"]")}}function BNe(t,e){if(1&t&&(Pt(0,"div"),Vn(1),uo(2,UNe,2,1,"ng-container",4),Lt()),2&t){const n=$r();tl(n.options.titleClass),Hr("aria-label",n.title),Ot(),nl(" ",n.title," "),Ot(),rn("ngIf",n.duplicatesCount)}}function HNe(t,e){if(1&t&&fr(0,"div",7),2&t){const n=$r();tl(n.options.messageClass),rn("innerHTML",n.message,yw)}}function $Ne(t,e){if(1&t&&(Pt(0,"div",8),Vn(1),Lt()),2&t){const n=$r();tl(n.options.messageClass),Hr("aria-label",n.message),Ot(),nl(" ",n.message," ")}}function GNe(t,e){if(1&t&&(Pt(0,"div"),fr(1,"div",9),Lt()),2&t){const n=$r();Ot(),Tp("width",n.width()+"%")}}class YNe{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class XNe{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class ZNe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new V;_activate=new V;_manualClose=new V;_resetTimeout=new V;_countDuplicate=new V;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class RA{toastId;config;message;title;toastType;toastRef;_onTap=new V;_onAction=new V;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const B7=new _e("ToastConfig");class eRe extends XNe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let tRe=(()=>{class t{_document=ie(pi);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class nRe{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let rRe=(()=>{class t{_overlayContainer=ie(tRe);_componentFactoryResolver=ie(t_);_appRef=ie(co);_document=ie(pi);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new eRe(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new nRe(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),H7=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...n.default,...n.config},n.config.iconClasses&&(this.toastrConfig.iconClasses={...n.default.iconClasses,...n.config.iconClasses})}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",n,r,this.applyConfig(i))}error(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",n,r,this.applyConfig(i))}info(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",n,r,this.applyConfig(i))}warning(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",n,r,this.applyConfig(i))}clear(n){for(const r of this.toasts)if(void 0!==n){if(r.toastId===n)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(n){const r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===n)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(n={}){return{...this.toastrConfig,...n}}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(oo.HTML,r));const d=new ZNe(u),g=new RA(this.index,s,l,i,n,d),v=hr.create({providers:[{provide:RA,useValue:g}],parent:this._injector}),E=new YNe(s.toastComponent,v),T=u.attach(E,s.newestOnTop);d.componentInstance=T.instance;const C={toastId:this.index,title:i||"",message:r||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:g.onTap(),onAction:g.onAction(),portal:T};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{C.toastRef.activate()})),this.toasts.push(C),C}static \u0275fac=function(r){return new(r||t)(le(B7),le(rRe),le(hr),le(ZB),le(St))};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const iRe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=eu(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=eu({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>({...n,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const n=(new Date).getTime();this.width.set((this.hideTime-n)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>({...n,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(n=>({...n,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(ve(H7),ve(RA),ve(St))};static \u0275cmp=nc({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&pr("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(ZS("@flyInOut",i._state),tl(i.toastClasses),Tp("display",i.displayStyle))},standalone:!0,features:[b_],attrs:j7,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&uo(0,jNe,3,0,"button",0)(1,BNe,3,5,"div",1)(2,HNe,1,3,"div",2)(3,$Ne,2,4,"div",3)(4,GNe,2,2,"div",4),2&r&&(rn("ngIf",i.options.closeButton),Ot(),rn("ngIf",i.title),Ot(),rn("ngIf",i.message&&i.options.enableHtml),Ot(),rn("ngIf",i.message&&!i.options.enableHtml),Ot(),rn("ngIf",i.options.progressBar))},dependencies:[kE],encapsulation:2,data:{animation:[tv("flyInOut",[nv("inactive",gs({opacity:0})),nv("active",gs({opacity:1})),nv("removed",gs({opacity:0})),Rc("inactive => active",Nc("{{ easeTime }}ms {{ easing }}")),Rc("active => removed",Nc("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})()},sRe=(t={})=>rc([{provide:B7,useValue:{default:iRe,config:t}}]);let oRe=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[sRe(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zr({type:t});static \u0275inj=Sr({})}return t})(),aRe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zr({type:t,bootstrap:[QPe]});static#n=this.\u0275inj=Sr({providers:[tM],imports:[JB,LNe,KPe,dhe.initializeApp(o7_firebase),Wme,bhe,kPe,MDe,oRe.forRoot({timeOut:3e3,positionClass:"toast-bottom-right",preventDuplicates:!0}),e1,H1]})}return t})();Mae().bootstrapModule(aRe).catch(t=>console.error(t))},345:(So,Tr,nt)=>{nt.d(Tr,{A:()=>yr});var S=nt(76),je=nt(362),Le=nt(852),X=nt(41);class Yt{constructor(dt,Et){this._delegate=dt,this.firebase=Et,(0,Le._addComponent)(dt,new je.uA("app-compat",()=>this,"PUBLIC")),this.container=dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this._delegate.automaticDataCollectionEnabled=dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(dt=>{this._delegate.checkDestroyed(),dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Le.deleteApp)(this._delegate)))}_getService(dt,Et=Le._DEFAULT_ENTRY_NAME){var ar;this._delegate.checkDestroyed();const Cr=this._delegate.container.getProvider(dt);return!Cr.isInitialized()&&"EXPLICIT"===(null===(ar=Cr.getComponent())||void 0===ar?void 0:ar.instantiationMode)&&Cr.initialize(),Cr.getImmediate({identifier:Et})}_removeServiceInstance(dt,Et=Le._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(dt).clearInstance(Et)}_addComponent(dt){(0,Le._addComponent)(this._delegate,dt)}_addOrOverwriteComponent(dt){(0,Le._addOrOverwriteComponent)(this._delegate,dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Nn=new S.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Ht(){const Xt=function Ar(Xt){const dt={},Et={__esModule:!0,initializeApp:function _n(it,Cn={}){const hn=Le.initializeApp(it,Cn);if((0,S.gR)(dt,hn.name))return dt[hn.name];const fe=new Xt(hn,Et);return dt[hn.name]=fe,fe},app:Cr,registerVersion:Le.registerVersion,setLogLevel:Le.setLogLevel,onLog:Le.onLog,apps:null,SDK_VERSION:Le.SDK_VERSION,INTERNAL:{registerComponent:function Gt(it){const Cn=it.name,hn=Cn.replace("-compat","");if(Le._registerComponent(it)&&"PUBLIC"===it.type){const fe=(vn=Cr())=>{if("function"!=typeof vn[hn])throw Nn.create("invalid-app-argument",{appName:Cn});return vn[hn]()};void 0!==it.serviceProps&&(0,S.zw)(fe,it.serviceProps),Et[hn]=fe,Xt.prototype[hn]=function(...vn){return this._getService.bind(this,Cn).apply(this,it.multipleInstances?vn:[])}}return"PUBLIC"===it.type?Et[hn]:null},removeApp:function ar(it){delete dt[it]},useAsService:function Lr(it,Cn){return"serverAuth"===Cn?null:Cn},modularAPIs:Le}};function Cr(it){if(!(0,S.gR)(dt,it=it||Le._DEFAULT_ENTRY_NAME))throw Nn.create("no-app",{appName:it});return dt[it]}return Et.default=Et,Object.defineProperty(Et,"apps",{get:function $t(){return Object.keys(dt).map(it=>dt[it])}}),Cr.App=Xt,Et}(Yt);return Xt.INTERNAL=Object.assign(Object.assign({},Xt.INTERNAL),{createFirebaseNamespace:Ht,extendNamespace:function dt(Et){(0,S.zw)(Xt,Et)},createSubscribe:S.tD,ErrorFactory:S.FA,deepExtend:S.zw}),Xt}(),we=new X.Vy("@firebase/app-compat");if((0,S.Bd)()&&void 0!==self.firebase){we.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xt=self.firebase.SDK_VERSION;Xt&&Xt.indexOf("LITE")>=0&&we.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yr=he;!function jt(Xt){(0,Le.registerVersion)("@firebase/app-compat","0.2.37",Xt)}()},852:(So,Tr,nt)=>{nt.r(Tr),nt.d(Tr,{FirebaseError:()=>X.g,SDK_VERSION:()=>Ks,_DEFAULT_ENTRY_NAME:()=>ts,_addComponent:()=>oi,_addOrOverwriteComponent:()=>Su,_apps:()=>ns,_clearComponents:()=>ai,_components:()=>Mi,_getProvider:()=>ia,_isFirebaseApp:()=>xo,_isFirebaseServerApp:()=>pd,_registerComponent:()=>ko,_removeServiceInstance:()=>sa,_serverApps:()=>Ws,deleteApp:()=>Va,getApp:()=>Ru,getApps:()=>fn,initializeApp:()=>ui,initializeServerApp:()=>gd,onLog:()=>N,registerVersion:()=>O,setLogLevel:()=>V});var S=nt(467),je=nt(362),Le=nt(41),X=nt(76);const Yt=(J,$)=>$.some(de=>J instanceof de);let qe,Nn;const he=new WeakMap,we=new WeakMap,ze=new WeakMap,ht=new WeakMap,jt=new WeakMap;let dt={get(J,$,de){if(J instanceof IDBTransaction){if("done"===$)return we.get(J);if("objectStoreNames"===$)return J.objectStoreNames||ze.get(J);if("store"===$)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return _n(J[$])},set:(J,$,de)=>(J[$]=de,!0),has:(J,$)=>J instanceof IDBTransaction&&("done"===$||"store"===$)||$ in J};function Cr(J){return"function"==typeof J?function ar(J){return J!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ht(){return Nn||(Nn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(J)?function(...$){return J.apply($t(this),$),_n(he.get(this))}:function(...$){return _n(J.apply($t(this),$))}:function($,...de){const Fe=J.call($t(this),$,...de);return ze.set(Fe,$.sort?$.sort():[$]),_n(Fe)}}(J):(J instanceof IDBTransaction&&function Xt(J){if(we.has(J))return;const $=new Promise((de,Fe)=>{const pt=()=>{J.removeEventListener("complete",yt),J.removeEventListener("error",xt),J.removeEventListener("abort",xt)},yt=()=>{de(),pt()},xt=()=>{Fe(J.error||new DOMException("AbortError","AbortError")),pt()};J.addEventListener("complete",yt),J.addEventListener("error",xt),J.addEventListener("abort",xt)});we.set(J,$)}(J),Yt(J,function Ar(){return qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(J,dt):J)}function _n(J){if(J instanceof IDBRequest)return function yr(J){const $=new Promise((de,Fe)=>{const pt=()=>{J.removeEventListener("success",yt),J.removeEventListener("error",xt)},yt=()=>{de(_n(J.result)),pt()},xt=()=>{Fe(J.error),pt()};J.addEventListener("success",yt),J.addEventListener("error",xt)});return $.then(de=>{de instanceof IDBCursor&&he.set(de,J)}).catch(()=>{}),jt.set($,J),$}(J);if(ht.has(J))return ht.get(J);const $=Cr(J);return $!==J&&(ht.set(J,$),jt.set($,J)),$}const $t=J=>jt.get(J),it=["get","getKey","getAll","getAllKeys","count"],Cn=["put","add","delete","clear"],hn=new Map;function fe(J,$){if(!(J instanceof IDBDatabase)||$ in J||"string"!=typeof $)return;if(hn.get($))return hn.get($);const de=$.replace(/FromIndex$/,""),Fe=$!==de,pt=Cn.includes(de);if(!(de in(Fe?IDBIndex:IDBObjectStore).prototype)||!pt&&!it.includes(de))return;const yt=function(){var xt=(0,S.A)(function*($n,...gt){const Ds=this.transaction($n,pt?"readwrite":"readonly");let Ou=Ds.store;return Fe&&(Ou=Ou.index(gt.shift())),(yield Promise.all([Ou[de](...gt),pt&&Ds.done]))[0]});return function(gt){return xt.apply(this,arguments)}}();return hn.set($,yt),yt}!function Et(J){dt=J(dt)}(J=>({...J,get:($,de,Fe)=>fe($,de)||J.get($,de,Fe),has:($,de)=>!!fe($,de)||J.has($,de)}));class vn{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(de=>{if(function Hn(J){const $=J.getComponent();return"VERSION"===$?.type}(de)){const Fe=de.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(de=>de).join(" ")}}const si="@firebase/app",Cs="0.10.7",Yr=new Le.Vy("@firebase/app"),ts="[DEFAULT]",fd={[si]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ns=new Map,Ws=new Map,Mi=new Map;function oi(J,$){try{J.container.addComponent($)}catch(de){Yr.debug(`Component ${$.name} failed to register with FirebaseApp ${J.name}`,de)}}function Su(J,$){J.container.addOrOverwriteComponent($)}function ko(J){const $=J.name;if(Mi.has($))return Yr.debug(`There were multiple attempts to register component ${$}.`),!1;Mi.set($,J);for(const de of ns.values())oi(de,J);for(const de of Ws.values())oi(de,J);return!0}function ia(J,$){const de=J.container.getProvider("heartbeat").getImmediate({optional:!0});return de&&de.triggerHeartbeat(),J.container.getProvider($)}function sa(J,$,de=ts){ia(J,$).clearInstance(de)}function xo(J){return void 0!==J.options}function pd(J){return void 0!==J.settings}function ai(){Mi.clear()}const Ei=new X.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Pu{constructor($,de,Fe){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},de),this._name=de.name,this._automaticDataCollectionEnabled=de.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new je.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}class Nu extends Pu{constructor($,de,Fe,pt){const yt=void 0!==de.automaticDataCollectionEnabled&&de.automaticDataCollectionEnabled,xt={name:Fe,automaticDataCollectionEnabled:yt};super(void 0!==$.apiKey?$:$.options,xt,pt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:yt},de),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,de.releaseOnDeref=void 0,O(si,Cs,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount($){this.isDeleted||(this._refCount++,void 0!==$&&null!==this._finalizationRegistry&&this._finalizationRegistry.register($,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Va(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ei.create("server-app-deleted")}}const Ks="10.12.4";function ui(J,$={}){let de=J;"object"!=typeof $&&($={name:$});const Fe=Object.assign({name:ts,automaticDataCollectionEnabled:!1},$),pt=Fe.name;if("string"!=typeof pt||!pt)throw Ei.create("bad-app-name",{appName:String(pt)});if(de||(de=(0,X.T9)()),!de)throw Ei.create("no-options");const yt=ns.get(pt);if(yt){if((0,X.bD)(de,yt.options)&&(0,X.bD)(Fe,yt.config))return yt;throw Ei.create("duplicate-app",{appName:pt})}const xt=new je.h1(pt);for(const gt of Mi.values())xt.addComponent(gt);const $n=new Pu(de,Fe,xt);return ns.set(pt,$n),$n}function gd(J,$){if((0,X.Bd)()&&!(0,X.p7)())throw Ei.create("invalid-server-app-environment");let de;void 0===$.automaticDataCollectionEnabled&&($.automaticDataCollectionEnabled=!1),de=xo(J)?J.options:J;const Fe=Object.assign(Object.assign({},$),de);if(void 0!==Fe.releaseOnDeref&&delete Fe.releaseOnDeref,void 0!==$.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ei.create("finalization-registry-not-supported",{});const yt=""+(Ds=JSON.stringify(Fe),[...Ds].reduce((Ou,fm)=>Math.imul(31,Ou)+fm.charCodeAt(0)|0,0)),xt=Ws.get(yt);var Ds;if(xt)return xt.incRefCount($.releaseOnDeref),xt;const $n=new je.h1(yt);for(const Ds of Mi.values())$n.addComponent(Ds);const gt=new Nu(de,$,yt,$n);return Ws.set(yt,gt),gt}function Ru(J=ts){const $=ns.get(J);if(!$&&J===ts&&(0,X.T9)())return ui();if(!$)throw Ei.create("no-app",{appName:J});return $}function fn(){return Array.from(ns.values())}function Va(J){return ku.apply(this,arguments)}function ku(){return(ku=(0,S.A)(function*(J){let $=!1;const de=J.name;ns.has(de)?($=!0,ns.delete(de)):Ws.has(de)&&J.decRefCount()<=0&&(Ws.delete(de),$=!0),$&&(yield Promise.all(J.container.getProviders().map(Fe=>Fe.delete())),J.isDeleted=!0)})).apply(this,arguments)}function O(J,$,de){var Fe;let pt=null!==(Fe=fd[J])&&void 0!==Fe?Fe:J;de&&(pt+=`-${de}`);const yt=pt.match(/\s|\//),xt=$.match(/\s|\//);if(yt||xt){const $n=[`Unable to register library "${pt}" with version "${$}":`];return yt&&$n.push(`library name "${pt}" contains illegal characters (whitespace or "/")`),yt&&xt&&$n.push("and"),xt&&$n.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void Yr.warn($n.join(" "))}ko(new je.uA(`${pt}-version`,()=>({library:pt,version:$}),"VERSION"))}function N(J,$){if(null!==J&&"function"!=typeof J)throw Ei.create("invalid-log-argument");(0,Le.Ey)(J,$)}function V(J){(0,Le.He)(J)}const ue="firebase-heartbeat-database",H=1,Oe="firebase-heartbeat-store";let Be=null;function We(){return Be||(Be=function Gt(J,$,{blocked:de,upgrade:Fe,blocking:pt,terminated:yt}={}){const xt=indexedDB.open(J,$),$n=_n(xt);return Fe&&xt.addEventListener("upgradeneeded",gt=>{Fe(_n(xt.result),gt.oldVersion,gt.newVersion,_n(xt.transaction),gt)}),de&&xt.addEventListener("blocked",gt=>de(gt.oldVersion,gt.newVersion,gt)),$n.then(gt=>{yt&&gt.addEventListener("close",()=>yt()),pt&&gt.addEventListener("versionchange",Ds=>pt(Ds.oldVersion,Ds.newVersion,Ds))}).catch(()=>{}),$n}(ue,H,{upgrade:(J,$)=>{if(0===$)try{J.createObjectStore(Oe)}catch(de){console.warn(de)}}}).catch(J=>{throw Ei.create("idb-open",{originalErrorMessage:J.message})})),Be}function Re(){return(Re=(0,S.A)(function*(J){try{const de=(yield We()).transaction(Oe),Fe=yield de.objectStore(Oe).get(li(J));return yield de.done,Fe}catch($){if($ instanceof X.g)Yr.warn($.message);else{const de=Ei.create("idb-get",{originalErrorMessage:$?.message});Yr.warn(de.message)}}})).apply(this,arguments)}function Dr(J,$){return vt.apply(this,arguments)}function vt(){return(vt=(0,S.A)(function*(J,$){try{const Fe=(yield We()).transaction(Oe,"readwrite");yield Fe.objectStore(Oe).put($,li(J)),yield Fe.done}catch(de){if(de instanceof X.g)Yr.warn(de.message);else{const Fe=Ei.create("idb-set",{originalErrorMessage:de?.message});Yr.warn(Fe.message)}}})).apply(this,arguments)}function li(J){return`${J.name}!${J.options.appId}`}class Ul{constructor($){this.container=$,this._heartbeatsCache=null;const de=this.container.getProvider("app").getImmediate();this._storage=new hm(de),this._heartbeatsCachePromise=this._storage.read().then(Fe=>(this._heartbeatsCache=Fe,Fe))}triggerHeartbeat(){var $=this;return(0,S.A)(function*(){var de,Fe;const yt=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=md();if((null!=(null===(de=$._heartbeatsCache)||void 0===de?void 0:de.heartbeats)||($._heartbeatsCache=yield $._heartbeatsCachePromise,null!=(null===(Fe=$._heartbeatsCache)||void 0===Fe?void 0:Fe.heartbeats)))&&$._heartbeatsCache.lastSentHeartbeatDate!==xt&&!$._heartbeatsCache.heartbeats.some($n=>$n.date===xt))return $._heartbeatsCache.heartbeats.push({date:xt,agent:yt}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter($n=>{const gt=new Date($n.date).valueOf();return Date.now()-gt<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,S.A)(function*(){var de;if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null==(null===(de=$._heartbeatsCache)||void 0===de?void 0:de.heartbeats)||0===$._heartbeatsCache.heartbeats.length)return"";const Fe=md(),{heartbeatsToSend:pt,unsentEntries:yt}=function xu(J,$=1024){const de=[];let Fe=J.slice();for(const pt of J){const yt=de.find(xt=>xt.agent===pt.agent);if(yt){if(yt.dates.push(pt.date),Ye(de)>$){yt.dates.pop();break}}else if(de.push({agent:pt.agent,dates:[pt.date]}),Ye(de)>$){de.pop();break}Fe=Fe.slice(1)}return{heartbeatsToSend:de,unsentEntries:Fe}}($._heartbeatsCache.heartbeats),xt=(0,X.Uj)(JSON.stringify({version:2,heartbeats:pt}));return $._heartbeatsCache.lastSentHeartbeatDate=Fe,yt.length>0?($._heartbeatsCache.heartbeats=yt,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),xt})()}}function md(){return(new Date).toISOString().substring(0,10)}class hm{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.A)(function*(){return!!(0,X.zW)()&&(0,X.eX)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,S.A)(function*(){if(yield $._canUseIndexedDBPromise){const Fe=yield function Oi(J){return Re.apply(this,arguments)}($.app);return Fe?.heartbeats?Fe:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite($){var de=this;return(0,S.A)(function*(){var Fe;if(yield de._canUseIndexedDBPromise){const yt=yield de.read();return Dr(de.app,{lastSentHeartbeatDate:null!==(Fe=$.lastSentHeartbeatDate)&&void 0!==Fe?Fe:yt.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var de=this;return(0,S.A)(function*(){var Fe;if(yield de._canUseIndexedDBPromise){const yt=yield de.read();return Dr(de.app,{lastSentHeartbeatDate:null!==(Fe=$.lastSentHeartbeatDate)&&void 0!==Fe?Fe:yt.lastSentHeartbeatDate,heartbeats:[...yt.heartbeats,...$.heartbeats]})}})()}}function Ye(J){return(0,X.Uj)(JSON.stringify({version:2,heartbeats:J})).length}!function Mu(J){ko(new je.uA("platform-logger",$=>new vn($),"PRIVATE")),ko(new je.uA("heartbeat",$=>new Ul($),"PRIVATE")),O(si,Cs,J),O(si,Cs,"esm2017"),O("fire-js","")}("")},362:(So,Tr,nt)=>{nt.d(Tr,{h1:()=>Ar,uA:()=>Le});var S=nt(467),je=nt(76);class Le{constructor(he,we,ze){this.name=he,this.instanceFactory=we,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const X="[DEFAULT]";class Yt{constructor(he,we){this.name=he,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const we=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(we)){const ze=new je.cY;if(this.instancesDeferred.set(we,ze),this.isInitialized(we)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:we});ht&&ze.resolve(ht)}catch{}}return this.instancesDeferred.get(we).promise}getImmediate(he){var we;const ze=this.normalizeInstanceIdentifier(he?.identifier),ht=null!==(we=he?.optional)&&void 0!==we&&we;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(jt){if(ht)return null;throw jt}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function Nn(Ht){return"EAGER"===Ht.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[we,ze]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(we);try{const jt=this.getOrInitializeService({instanceIdentifier:ht});ze.resolve(jt)}catch{}}}}clearInstance(he=X){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,S.A)(function*(){const we=Array.from(he.instances.values());yield Promise.all([...we.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...we.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=X){return this.instances.has(he)}getOptions(he=X){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:we={}}=he,ze=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:ze,options:we});for(const[jt,yr]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(jt)&&yr.resolve(ht);return ht}onInit(he,we){var ze;const ht=this.normalizeInstanceIdentifier(we),jt=null!==(ze=this.onInitCallbacks.get(ht))&&void 0!==ze?ze:new Set;jt.add(he),this.onInitCallbacks.set(ht,jt);const yr=this.instances.get(ht);return yr&&he(yr,ht),()=>{jt.delete(he)}}invokeOnInitCallbacks(he,we){const ze=this.onInitCallbacks.get(we);if(ze)for(const ht of ze)try{ht(he,we)}catch{}}getOrInitializeService({instanceIdentifier:he,options:we={}}){let ze=this.instances.get(he);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Ht=he,Ht===X?void 0:Ht),options:we}),this.instances.set(he,ze),this.instancesOptions.set(he,we),this.invokeOnInitCallbacks(ze,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,ze)}catch{}var Ht;return ze||null}normalizeInstanceIdentifier(he=X){return this.component?this.component.multipleInstances?he:X:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ar{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const we=this.getProvider(he.name);if(we.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);we.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const we=new Yt(he,this);return this.providers.set(he,we),we}getProviders(){return Array.from(this.providers.values())}}},41:(So,Tr,nt)=>{nt.d(Tr,{$b:()=>je,Ey:()=>Ht,He:()=>Ar,Vy:()=>Nn});const S=[];var je=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(je||{});const Le={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},X=je.INFO,Yt={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},qe=(he,we,...ze)=>{if(we<he.logLevel)return;const ht=(new Date).toISOString(),jt=Yt[we];if(!jt)throw new Error(`Attempted to log a message with an invalid logType (value: ${we})`);console[jt](`[${ht}]  ${he.name}:`,...ze)};class Nn{constructor(we){this.name=we,this._logLevel=X,this._logHandler=qe,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(we){if(!(we in je))throw new TypeError(`Invalid value "${we}" assigned to \`logLevel\``);this._logLevel=we}setLogLevel(we){this._logLevel="string"==typeof we?Le[we]:we}get logHandler(){return this._logHandler}set logHandler(we){if("function"!=typeof we)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=we}get userLogHandler(){return this._userLogHandler}set userLogHandler(we){this._userLogHandler=we}debug(...we){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...we),this._logHandler(this,je.DEBUG,...we)}log(...we){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...we),this._logHandler(this,je.VERBOSE,...we)}info(...we){this._userLogHandler&&this._userLogHandler(this,je.INFO,...we),this._logHandler(this,je.INFO,...we)}warn(...we){this._userLogHandler&&this._userLogHandler(this,je.WARN,...we),this._logHandler(this,je.WARN,...we)}error(...we){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...we),this._logHandler(this,je.ERROR,...we)}}function Ar(he){S.forEach(we=>{we.setLogLevel(he)})}function Ht(he,we){for(const ze of S){let ht=null;we&&we.level&&(ht=Le[we.level]),ze.userLogHandler=null===he?null:(jt,yr,...Xt)=>{const dt=Xt.map(Et=>{if(null==Et)return null;if("string"==typeof Et)return Et;if("number"==typeof Et||"boolean"==typeof Et)return Et.toString();if(Et instanceof Error)return Et.message;try{return JSON.stringify(Et)}catch{return null}}).filter(Et=>Et).join(" ");yr>=(ht??jt.logLevel)&&he({level:je[yr].toLowerCase(),message:dt,args:Xt,type:jt.name})}}}},492:(So,Tr,nt)=>{nt.r(Tr);var S=nt(467),je=nt(345),Le=nt(852),X=nt(76),Yt=nt(41),qe=nt(635),Nn=nt(362);const Ht={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const yr=function ht(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Xt=function jt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new X.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ar=new Yt.Vy("@firebase/auth");function _n(p,...c){ar.logLevel<=Yt.$b.ERROR&&ar.error(`Auth (${Le.SDK_VERSION}): ${p}`,...c)}function $t(p,...c){throw hn(p,...c)}function Gt(p,...c){return hn(p,...c)}function Lr(p,c,h){const m=Object.assign(Object.assign({},Xt()),{[c]:h});return new X.FA("auth","Firebase",m).create(c,{appName:p.name})}function it(p){return Lr(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cn(p,c,h){if(!(c instanceof h))throw h.name!==c.constructor.name&&$t(p,"argument-error"),Lr(p,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hn(p,...c){if("string"!=typeof p){const h=c[0],m=[...c.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(h,...m)}return dt.create(p,...c)}function fe(p,c,...h){if(!p)throw hn(c,...h)}function vn(p){const c="INTERNAL ASSERTION FAILED: "+p;throw _n(c),new Error(c)}function Hn(p,c){p||vn(c)}function si(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Cs(){return"http:"===Yr()||"https:"===Yr()}function Yr(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class W{constructor(c,h){this.shortDelay=c,this.longDelay=h,Hn(h>c,"Short delay should be less than long delay!"),this.isMobile=(0,X.jZ)()||(0,X.lV)()}get(){return function Fa(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Cs()||(0,X.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Z(p,c){Hn(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return c?`${h}${c.startsWith("/")?c.slice(1):c}`:h}class oe{static initialize(c,h,m){this.fetchImpl=c,h&&(this.headersImpl=h),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Te=new W(3e4,6e4);function ce(p,c){return p.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:p.tenantId}):c}function Ve(p,c,h,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,S.A)(function*(p,c,h,m,b={}){return ye(p,b,(0,S.A)(function*(){let I={},P={};m&&("GET"===c?P=m:I={body:JSON.stringify(m)});const U=(0,X.Am)(Object.assign({key:p.config.apiKey},P)).slice(1),ne=yield p._getAdditionalHeaders();return ne["Content-Type"]="application/json",p.languageCode&&(ne["X-Firebase-Locale"]=p.languageCode),oe.fetch()(At(p,p.config.apiHost,h,U),Object.assign({method:c,headers:ne,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function ye(p,c,h){return se.apply(this,arguments)}function se(){return(se=(0,S.A)(function*(p,c,h){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},ae),c);try{const b=new Ct(p),I=yield Promise.race([h(),b.promise]);b.clearNetworkTimeout();const P=yield I.json();if("needConfirmation"in P)throw zt(p,"account-exists-with-different-credential",P);if(I.ok&&!("errorMessage"in P))return P;{const U=I.ok?P.errorMessage:P.error.message,[ne,De]=U.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ne)throw zt(p,"credential-already-in-use",P);if("EMAIL_EXISTS"===ne)throw zt(p,"email-already-in-use",P);if("USER_DISABLED"===ne)throw zt(p,"user-disabled",P);const He=m[ne]||ne.toLowerCase().replace(/[_\s]+/g,"-");if(De)throw Lr(p,He,De);$t(p,He)}}catch(b){if(b instanceof X.g)throw b;$t(p,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function ge(p,c,h,m){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,S.A)(function*(p,c,h,m,b={}){const I=yield Ve(p,c,h,m,b);return"mfaPendingCredential"in I&&$t(p,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function At(p,c,h,m){const b=`${c}${h}?${m}`;return p.config.emulator?Z(p.config,b):`${p.config.apiScheme}://${b}`}function Me(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ct{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((h,m)=>{this.timer=setTimeout(()=>m(Gt(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zt(p,c,h){const m={appName:p.name};h.email&&(m.email=h.email),h.phoneNumber&&(m.phoneNumber=h.phoneNumber);const b=Gt(p,c,m);return b.customData._tokenResponse=h,b}function Rn(p){return void 0!==p&&void 0!==p.getResponse}function Ut(p){return void 0!==p&&void 0!==p.enterprise}class Po{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===c)return Me(h.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Ro(){return(Ro=(0,S.A)(function*(p){return(yield Ve(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function es(p,c){return ra.apply(this,arguments)}function ra(){return(ra=(0,S.A)(function*(p,c){return Ve(p,"GET","/v2/recaptchaConfig",ce(p,c))})).apply(this,arguments)}function ts(){return(ts=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function ns(){return(ns=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ws(p,c){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function oi(p){if(p)try{const c=new Date(Number(p));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function ia(){return(ia=(0,S.A)(function*(p,c=!1){const h=(0,X.Ku)(p),m=yield h.getIdToken(c),b=xo(m);fe(b&&b.exp&&b.auth_time&&b.iat,h.auth,"internal-error");const I="object"==typeof b.firebase?b.firebase:void 0,P=I?.sign_in_provider;return{claims:b,token:m,authTime:oi(sa(b.auth_time)),issuedAtTime:oi(sa(b.iat)),expirationTime:oi(sa(b.exp)),signInProvider:P||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function sa(p){return 1e3*Number(p)}function xo(p){const[c,h,m]=p.split(".");if(void 0===c||void 0===h||void 0===m)return _n("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,X.u)(h);return b?JSON.parse(b):(_n("Failed to decode base64 JWT payload"),null)}catch(b){return _n("Caught error parsing JWT payload as JSON",b?.toString()),null}}function pd(p){const c=xo(p);return fe(c,"internal-error"),fe(typeof c.exp<"u","internal-error"),fe(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}function ai(p,c){return oa.apply(this,arguments)}function oa(){return(oa=(0,S.A)(function*(p,c,h=!1){if(h)return c;try{return yield c}catch(m){throw m instanceof X.g&&function Ei({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}class Pu{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var h;if(c){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const b=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(c=!1){var h=this;if(!this.isRunning)return;const m=this.getInterval(c);this.timerId=setTimeout((0,S.A)(function*(){yield h.iteration()}),m)}iteration(){var c=this;return(0,S.A)(function*(){try{yield c.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&c.schedule(!0))}c.schedule()})()}}class Nu{constructor(c,h){this.createdAt=c,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ks(p){return ui.apply(this,arguments)}function ui(){return(ui=(0,S.A)(function*(p){var c;const h=p.auth,m=yield p.getIdToken(),b=yield ai(p,Ws(h,{idToken:m}));fe(b?.users.length,h,"internal-error");const I=b.users[0];p._notifyReloadListener(I);const P=null!==(c=I.providerUserInfo)&&void 0!==c&&c.length?Va(I.providerUserInfo):[],U=function fn(p,c){return[...p.filter(m=>!c.some(b=>b.providerId===m.providerId)),...c]}(p.providerData,P),He=!!p.isAnonymous&&!(p.email&&I.passwordHash||U?.length),$e={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:U,metadata:new Nu(I.createdAt,I.lastLoginAt),isAnonymous:He};Object.assign(p,$e)})).apply(this,arguments)}function Ru(){return(Ru=(0,S.A)(function*(p){const c=(0,X.Ku)(p);yield Ks(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Va(p){return p.map(c=>{var{providerId:h}=c,m=(0,qe.Tt)(c,["providerId"]);return{providerId:h,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}function O(){return(O=(0,S.A)(function*(p,c){const h=yield ye(p,{},(0,S.A)(function*(){const m=(0,X.Am)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:b,apiKey:I}=p.config,P=At(p,b,"/v1/token",`key=${I}`),U=yield p._getAdditionalHeaders();return U["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(P,{method:"POST",headers:U,body:m})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,S.A)(function*(p,c){return Ve(p,"POST","/v2/accounts:revokeToken",ce(p,c))})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){fe(c.idToken,"internal-error"),fe(typeof c.idToken<"u","internal-error"),fe(typeof c.refreshToken<"u","internal-error");const h="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):pd(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,h)}updateFromIdToken(c){fe(0!==c.length,"internal-error");const h=pd(c);this.updateTokensAndExpiration(c,null,h)}getToken(c,h=!1){var m=this;return(0,S.A)(function*(){return h||!m.accessToken||m.isExpired?(fe(m.refreshToken,c,"user-token-expired"),m.refreshToken?(yield m.refresh(c,m.refreshToken),m.accessToken):null):m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,h){var m=this;return(0,S.A)(function*(){const{accessToken:b,refreshToken:I,expiresIn:P}=yield function ku(p,c){return O.apply(this,arguments)}(c,h);m.updateTokensAndExpiration(b,I,Number(P))})()}updateTokensAndExpiration(c,h,m){this.refreshToken=h||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(c,h){const{refreshToken:m,accessToken:b,expirationTime:I}=h,P=new ue;return m&&(fe("string"==typeof m,"internal-error",{appName:c}),P.refreshToken=m),b&&(fe("string"==typeof b,"internal-error",{appName:c}),P.accessToken=b),I&&(fe("number"==typeof I,"internal-error",{appName:c}),P.expirationTime=I),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return vn("not implemented")}}function H(p,c){fe("string"==typeof p||typeof p>"u","internal-error",{appName:c})}class Oe{constructor(c){var{uid:h,auth:m,stsTokenManager:b}=c,I=(0,qe.Tt)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=m,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new Nu(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(c){var h=this;return(0,S.A)(function*(){const m=yield ai(h,h.stsTokenManager.getToken(h.auth,c));return fe(m,h.auth,"internal-error"),h.accessToken!==m&&(h.accessToken=m,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),m})()}getIdTokenResult(c){return function ko(p){return ia.apply(this,arguments)}(this,c)}reload(){return function gd(p){return Ru.apply(this,arguments)}(this)}_assign(c){this!==c&&(fe(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(h=>Object.assign({},h)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const h=new Oe(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(c){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,h=!1){var m=this;return(0,S.A)(function*(){let b=!1;c.idToken&&c.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(c),b=!0),h&&(yield Ks(m)),yield m.auth._persistUserIfCurrent(m),b&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var c=this;return(0,S.A)(function*(){if((0,Le._isFirebaseServerApp)(c.auth.app))return Promise.reject(it(c.auth));const h=yield c.getIdToken();return yield ai(c,function jl(p,c){return ts.apply(this,arguments)}(c.auth,{idToken:h})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,h){var m,b,I,P,U,ne,De,He;const $e=null!==(m=h.displayName)&&void 0!==m?m:void 0,zn=null!==(b=h.email)&&void 0!==b?b:void 0,ro=null!==(I=h.phoneNumber)&&void 0!==I?I:void 0,te=null!==(P=h.photoURL)&&void 0!==P?P:void 0,It=null!==(U=h.tenantId)&&void 0!==U?U:void 0,ss=null!==(ne=h._redirectEventId)&&void 0!==ne?ne:void 0,Ms=null!==(De=h.createdAt)&&void 0!==De?De:void 0,on=null!==(He=h.lastLoginAt)&&void 0!==He?He:void 0,{uid:Hf,emailVerified:gc,isAnonymous:Os,providerData:qd,stsTokenManager:$f}=h;fe(Hf&&$f,c,"internal-error");const zb=ue.fromJSON(this.name,$f);fe("string"==typeof Hf,c,"internal-error"),H($e,c.name),H(zn,c.name),fe("boolean"==typeof gc,c,"internal-error"),fe("boolean"==typeof Os,c,"internal-error"),H(ro,c.name),H(te,c.name),H(It,c.name),H(ss,c.name),H(Ms,c.name),H(on,c.name);const qb=new Oe({uid:Hf,auth:c,email:zn,emailVerified:gc,displayName:$e,isAnonymous:Os,photoURL:te,phoneNumber:ro,tenantId:It,stsTokenManager:zb,createdAt:Ms,lastLoginAt:on});return qd&&Array.isArray(qd)&&(qb.providerData=qd.map(qO=>Object.assign({},qO))),ss&&(qb._redirectEventId=ss),qb}static _fromIdTokenResponse(c,h,m=!1){return(0,S.A)(function*(){const b=new ue;b.updateFromServerResponse(h);const I=new Oe({uid:h.localId,auth:c,stsTokenManager:b,isAnonymous:m});return yield Ks(I),I})()}static _fromGetAccountInfoResponse(c,h,m){return(0,S.A)(function*(){const b=h.users[0];fe(void 0!==b.localId,"internal-error");const I=void 0!==b.providerUserInfo?Va(b.providerUserInfo):[],P=!(b.email&&b.passwordHash||I?.length),U=new ue;U.updateFromIdToken(m);const ne=new Oe({uid:b.localId,auth:c,stsTokenManager:U,isAnonymous:P}),De={uid:b.localId,displayName:b.displayName||null,photoURL:b.photoUrl||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,tenantId:b.tenantId||null,providerData:I,metadata:new Nu(b.createdAt,b.lastLoginAt),isAnonymous:!(b.email&&b.passwordHash||I?.length)};return Object.assign(ne,De),ne})()}}const Be=new Map;function We(p){Hn(p instanceof Function,"Expected a class definition");let c=Be.get(p);return c?(Hn(c instanceof p,"Instance stored in cache mismatched with class"),c):(c=new p,Be.set(p,c),c)}const Re=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.A)(function*(){return!0})()}_set(h,m){var b=this;return(0,S.A)(function*(){b.storage[h]=m})()}_get(h){var m=this;return(0,S.A)(function*(){const b=m.storage[h];return void 0===b?null:b})()}_remove(h){var m=this;return(0,S.A)(function*(){delete m.storage[h]})()}_addListener(h,m){}_removeListener(h,m){}}return p.type="NONE",p})();function Dr(p,c,h){return`firebase:${p}:${c}:${h}`}class vt{constructor(c,h,m){this.persistence=c,this.auth=h,this.userKey=m;const{config:b,name:I}=this.auth;this.fullUserKey=Dr(this.userKey,b.apiKey,I),this.fullPersistenceKey=Dr("persistence",b.apiKey,I),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,S.A)(function*(){const h=yield c.persistence._get(c.fullUserKey);return h?Oe._fromJSON(c.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var h=this;return(0,S.A)(function*(){if(h.persistence===c)return;const m=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=c,m?h.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,h,m="authUser"){return(0,S.A)(function*(){if(!h.length)return new vt(We(Re),c,m);const b=(yield Promise.all(h.map(function(){var De=(0,S.A)(function*(He){if(yield He._isAvailable())return He});return function(He){return De.apply(this,arguments)}}()))).filter(De=>De);let I=b[0]||We(Re);const P=Dr(m,c.config.apiKey,c.name);let U=null;for(const De of h)try{const He=yield De._get(P);if(He){const $e=Oe._fromJSON(c,He);De!==I&&(U=$e),I=De;break}}catch{}const ne=b.filter(De=>De._shouldAllowMigration);return I._shouldAllowMigration&&ne.length?(I=ne[0],U&&(yield I._set(P,U.toJSON())),yield Promise.all(h.map(function(){var De=(0,S.A)(function*(He){if(He!==I)try{yield He._remove(P)}catch{}});return function(He){return De.apply(this,arguments)}}())),new vt(I,c,m)):new vt(I,c,m)})()}}function li(p){const c=p.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(md(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Mo(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(hm(c))return"Blackberry";if(Ye(c))return"Webos";if(La(c))return"Safari";if((c.includes("chrome/")||Ul(c))&&!c.includes("edge/"))return"Chrome";if(xu(c))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function Mo(p=(0,X.ZQ)()){return/firefox\//i.test(p)}function La(p=(0,X.ZQ)()){const c=p.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Ul(p=(0,X.ZQ)()){return/crios\//i.test(p)}function md(p=(0,X.ZQ)()){return/iemobile/i.test(p)}function xu(p=(0,X.ZQ)()){return/android/i.test(p)}function hm(p=(0,X.ZQ)()){return/blackberry/i.test(p)}function Ye(p=(0,X.ZQ)()){return/webos/i.test(p)}function Mu(p=(0,X.ZQ)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Fe(p=(0,X.ZQ)()){return Mu(p)||xu(p)||Ye(p)||hm(p)||/windows phone/i.test(p)||md(p)}function yt(p,c=[]){let h;switch(p){case"Browser":h=li((0,X.ZQ)());break;case"Worker":h=`${li((0,X.ZQ)())}-${p}`;break;default:h=p}const m=c.length?c.join(","):"FirebaseCore-web";return`${h}/JsCore/${Le.SDK_VERSION}/${m}`}class xt{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,h){const m=I=>new Promise((P,U)=>{try{P(c(I))}catch(ne){U(ne)}});m.onAbort=h,this.queue.push(m);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(c){var h=this;return(0,S.A)(function*(){if(h.auth.currentUser===c)return;const m=[];try{for(const b of h.queue)yield b(c),b.onAbort&&m.push(b.onAbort)}catch(b){m.reverse();for(const I of m)try{I()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:b?.message})}})()}}function gt(){return(gt=(0,S.A)(function*(p,c={}){return Ve(p,"GET","/v2/passwordPolicy",ce(p,c))})).apply(this,arguments)}class Ou{constructor(c){var h,m,b,I;const P=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=P.minPasswordLength)&&void 0!==h?h:6,P.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=P.maxPasswordLength),void 0!==P.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=P.containsLowercaseCharacter),void 0!==P.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=P.containsUppercaseCharacter),void 0!==P.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=P.containsNumericCharacter),void 0!==P.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=P.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(b=null===(m=c.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==b?b:"",this.forceUpgradeOnSignin=null!==(I=c.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=c.schemaVersion}validatePassword(c){var h,m,b,I,P,U;const ne={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,ne),this.validatePasswordCharacterOptions(c,ne),ne.isValid&&(ne.isValid=null===(h=ne.meetsMinPasswordLength)||void 0===h||h),ne.isValid&&(ne.isValid=null===(m=ne.meetsMaxPasswordLength)||void 0===m||m),ne.isValid&&(ne.isValid=null===(b=ne.containsLowercaseLetter)||void 0===b||b),ne.isValid&&(ne.isValid=null===(I=ne.containsUppercaseLetter)||void 0===I||I),ne.isValid&&(ne.isValid=null===(P=ne.containsNumericCharacter)||void 0===P||P),ne.isValid&&(ne.isValid=null===(U=ne.containsNonAlphanumericCharacter)||void 0===U||U),ne}validatePasswordLengthOptions(c,h){const m=this.customStrengthOptions.minPasswordLength,b=this.customStrengthOptions.maxPasswordLength;m&&(h.meetsMinPasswordLength=c.length>=m),b&&(h.meetsMaxPasswordLength=c.length<=b)}validatePasswordCharacterOptions(c,h){let m;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let b=0;b<c.length;b++)m=c.charAt(b),this.updatePasswordCharacterOptionsStatuses(h,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(c,h,m,b,I){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=b)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=I))}}class fm{constructor(c,h,m,b){this.app=c,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new xt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(c,h){var m=this;return h&&(this._popupRedirectResolver=We(h)),this._initializationPromise=this.queue((0,S.A)(function*(){var b,I;if(!m._deleted&&(m.persistenceManager=yield vt.create(m,c),!m._deleted)){if(null!==(b=m._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(h),m.lastNotifiedUid=(null===(I=m.currentUser)||void 0===I?void 0:I.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,S.A)(function*(){if(c._deleted)return;const h=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||h){if(c.currentUser&&h&&c.currentUser.uid===h.uid)return c._currentUser._assign(h),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(c){var h=this;return(0,S.A)(function*(){try{const m=yield Ws(h,{idToken:c}),b=yield Oe._fromGetAccountInfoResponse(h,m,c);yield h.directlySetCurrentUser(b)}catch(m){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",m),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(c){var h=this;return(0,S.A)(function*(){var m;if((0,Le._isFirebaseServerApp)(h.app)){const U=h.app.settings.authIdToken;return U?new Promise(ne=>{setTimeout(()=>h.initializeCurrentUserFromIdToken(U).then(ne,ne))}):h.directlySetCurrentUser(null)}const b=yield h.assertedPersistence.getCurrentUser();let I=b,P=!1;if(c&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const U=null===(m=h.redirectUser)||void 0===m?void 0:m._redirectEventId,ne=I?._redirectEventId,De=yield h.tryRedirectSignIn(c);(!U||U===ne)&&De?.user&&(I=De.user,P=!0)}if(!I)return h.directlySetCurrentUser(null);if(!I._redirectEventId){if(P)try{yield h.beforeStateQueue.runMiddleware(I)}catch(U){I=b,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(U))}return I?h.reloadAndSetCurrentUserOrClear(I):h.directlySetCurrentUser(null)}return fe(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===I._redirectEventId?h.directlySetCurrentUser(I):h.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(c){var h=this;return(0,S.A)(function*(){let m=null;try{m=yield h._popupRedirectResolver._completeRedirectFn(h,c,!0)}catch{yield h._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(c){var h=this;return(0,S.A)(function*(){try{yield Ks(c)}catch(m){if("auth/network-request-failed"!==m?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function na(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var c=this;return(0,S.A)(function*(){c._deleted=!0})()}updateCurrentUser(c){var h=this;return(0,S.A)(function*(){if((0,Le._isFirebaseServerApp)(h.app))return Promise.reject(it(h));const m=c?(0,X.Ku)(c):null;return m&&fe(m.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(m&&m._clone(h))})()}_updateCurrentUser(c,h=!1){var m=this;return(0,S.A)(function*(){if(!m._deleted)return c&&fe(m.tenantId===c.tenantId,m,"tenant-id-mismatch"),h||(yield m.beforeStateQueue.runMiddleware(c)),m.queue((0,S.A)(function*(){yield m.directlySetCurrentUser(c),m.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,S.A)(function*(){return(0,Le._isFirebaseServerApp)(c.app)?Promise.reject(it(c)):(yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0))})()}setPersistence(c){var h=this;return(0,Le._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,S.A)(function*(){yield h.assertedPersistence.setPersistence(We(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var h=this;return(0,S.A)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const m=h._getPasswordPolicyInternal();return m.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,S.A)(function*(){const h=yield function $n(p){return gt.apply(this,arguments)}(c),m=new Ou(h);null===c.tenantId?c._projectPasswordPolicy=m:c._tenantPasswordPolicies[c.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new X.FA("auth","Firebase",c())}onAuthStateChanged(c,h,m){return this.registerStateListener(this.authStateSubscription,c,h,m)}beforeAuthStateChanged(c,h){return this.beforeStateQueue.pushCallback(c,h)}onIdTokenChanged(c,h,m){return this.registerStateListener(this.idTokenSubscription,c,h,m)}authStateReady(){return new Promise((c,h)=>{if(this.currentUser)c();else{const m=this.onAuthStateChanged(()=>{m(),c()},h)}})}revokeAccessToken(c){var h=this;return(0,S.A)(function*(){if(h.currentUser){const m=yield h.currentUser.getIdToken(),b={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:m};null!=h.tenantId&&(b.tenantId=h.tenantId),yield function N(p,c){return V.apply(this,arguments)}(h,b)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,h){var m=this;return(0,S.A)(function*(){const b=yield m.getOrInitRedirectPersistenceManager(h);return null===c?b.removeCurrentUser():b.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var h=this;return(0,S.A)(function*(){if(!h.redirectPersistenceManager){const m=c&&We(c)||h._popupRedirectResolver;fe(m,h,"argument-error"),h.redirectPersistenceManager=yield vt.create(h,[We(m._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(c){var h=this;return(0,S.A)(function*(){var m,b;return h._isInitialized&&(yield h.queue((0,S.A)(function*(){}))),(null===(m=h._currentUser)||void 0===m?void 0:m._redirectEventId)===c?h._currentUser:(null===(b=h.redirectUser)||void 0===b?void 0:b._redirectEventId)===c?h.redirectUser:null})()}_persistUserIfCurrent(c){var h=this;return(0,S.A)(function*(){if(c===h.currentUser)return h.queue((0,S.A)(function*(){return h.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(h=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,h,m,b){if(this._deleted)return()=>{};const I="function"==typeof h?h:h.next.bind(h);let P=!1;const U=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(U,this,"internal-error"),U.then(()=>{P||I(this.currentUser)}),"function"==typeof h){const ne=c.addObserver(h,m,b);return()=>{P=!0,ne()}}{const ne=c.addObserver(h);return()=>{P=!0,ne()}}}directlySetCurrentUser(c){var h=this;return(0,S.A)(function*(){h.currentUser&&h.currentUser!==c&&h._currentUser._stopProactiveRefresh(),c&&h.isProactiveRefreshEnabled&&c._startProactiveRefresh(),h.currentUser=c,c?yield h.assertedPersistence.setCurrentUser(c):yield h.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=yt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,S.A)(function*(){var h;const m={"X-Client-Version":c.clientVersion};c.app.options.appId&&(m["X-Firebase-gmpid"]=c.app.options.appId);const b=yield null===(h=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();b&&(m["X-Firebase-Client"]=b);const I=yield c._getAppCheckToken();return I&&(m["X-Firebase-AppCheck"]=I),m})()}_getAppCheckToken(){var c=this;return(0,S.A)(function*(){var h;const m=yield null===(h=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return m?.error&&function Cr(p,...c){ar.logLevel<=Yt.$b.WARN&&ar.warn(`Auth (${Le.SDK_VERSION}): ${p}`,...c)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function kn(p){return(0,X.Ku)(p)}class V0{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,X.tD)(h=>this.observer=h)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fu={loadJS:()=>(0,S.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gm(p){return Fu.loadJS(p)}function QA(p){return`__${p}${Math.floor(1e6*Math.random())}`}class XA{constructor(c){this.type="recaptcha-enterprise",this.auth=kn(c)}verify(c="verify",h=!1){var m=this;return(0,S.A)(function*(){function I(){return I=(0,S.A)(function*(U){if(!h){if(null==U.tenantId&&null!=U._agentRecaptchaConfig)return U._agentRecaptchaConfig.siteKey;if(null!=U.tenantId&&void 0!==U._tenantRecaptchaConfigs[U.tenantId])return U._tenantRecaptchaConfigs[U.tenantId].siteKey}return new Promise(function(){var ne=(0,S.A)(function*(De,He){es(U,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($e=>{if(void 0!==$e.recaptchaKey){const zn=new Po($e);return null==U.tenantId?U._agentRecaptchaConfig=zn:U._tenantRecaptchaConfigs[U.tenantId]=zn,De(zn.siteKey)}He(new Error("recaptcha Enterprise site key undefined"))}).catch($e=>{He($e)})});return function(De,He){return ne.apply(this,arguments)}}())}),I.apply(this,arguments)}function P(U,ne,De){const He=window.grecaptcha;Ut(He)?He.enterprise.ready(()=>{He.enterprise.execute(U,{action:c}).then($e=>{ne($e)}).catch(()=>{ne("NO_RECAPTCHA")})}):De(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((U,ne)=>{(function b(U){return I.apply(this,arguments)})(m.auth).then(De=>{if(!h&&Ut(window.grecaptcha))P(De,U,ne);else{if(typeof window>"u")return void ne(new Error("RecaptchaVerifier is only supported in browser"));let He=function KA(){return Fu.recaptchaEnterpriseScript}();0!==He.length&&(He+=De),gm(He).then(()=>{P(De,U,ne)}).catch($e=>{ne($e)})}}).catch(De=>{ne(De)})})})()}}function ZA(p,c,h){return mm.apply(this,arguments)}function mm(){return(mm=(0,S.A)(function*(p,c,h,m=!1){const b=new XA(p);let I;try{I=yield b.verify(h)}catch{I=yield b.verify(h,!0)}const P=Object.assign({},c);return Object.assign(P,m?{captchaResp:I}:{captchaResponse:I}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}function yd(p,c,h,m){return ym.apply(this,arguments)}function ym(){return ym=(0,S.A)(function*(p,c,h,m){var b;if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield ZA(p,c,h,"getOobCode"===h);return m(p,I)}return m(p,c).catch(function(){var I=(0,S.A)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const U=yield ZA(p,c,h,"getOobCode"===h);return m(p,U)}return Promise.reject(P)});return function(P){return I.apply(this,arguments)}}())}),ym.apply(this,arguments)}function L0(p){const c=p.indexOf(":");return c<0?"":p.substr(0,c+1)}function j0(p){if(!p)return null;const c=Number(p);return isNaN(c)?null:c}class Vu{constructor(c,h){this.providerId=c,this.signInMethod=h}toJSON(){return vn("not implemented")}_getIdTokenResponse(c){return vn("not implemented")}_linkToIdToken(c,h){return vn("not implemented")}_getReauthenticationResolver(c){return vn("not implemented")}}function vm(p,c){return bm.apply(this,arguments)}function bm(){return(bm=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:resetPassword",ce(p,c))})).apply(this,arguments)}function wm(){return(wm=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function sC(p,c){return Em.apply(this,arguments)}function Em(){return(Em=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Im(){return(Im=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:update",ce(p,c))})).apply(this,arguments)}function fO(p,c){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,S.A)(function*(p,c){return ge(p,"POST","/v1/accounts:signInWithPassword",ce(p,c))})).apply(this,arguments)}function Qs(p,c){return af.apply(this,arguments)}function af(){return(af=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:sendOobCode",ce(p,c))})).apply(this,arguments)}function lf(){return(lf=(0,S.A)(function*(p,c){return Qs(p,c)})).apply(this,arguments)}function B0(p,c){return cf.apply(this,arguments)}function cf(){return(cf=(0,S.A)(function*(p,c){return Qs(p,c)})).apply(this,arguments)}function H0(p,c){return Am.apply(this,arguments)}function Am(){return(Am=(0,S.A)(function*(p,c){return Qs(p,c)})).apply(this,arguments)}function Cm(){return(Cm=(0,S.A)(function*(p,c){return Qs(p,c)})).apply(this,arguments)}function hf(){return(hf=(0,S.A)(function*(p,c){return ge(p,"POST","/v1/accounts:signInWithEmailLink",ce(p,c))})).apply(this,arguments)}function $0(){return($0=(0,S.A)(function*(p,c){return ge(p,"POST","/v1/accounts:signInWithEmailLink",ce(p,c))})).apply(this,arguments)}class ja extends Vu{constructor(c,h,m,b=null){super("password",m),this._email=c,this._password=h,this._tenantId=b}static _fromEmailAndPassword(c,h){return new ja(c,h,"password")}static _fromEmailAndCode(c,h,m=null){return new ja(c,h,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(c){var h=this;return(0,S.A)(function*(){switch(h.signInMethod){case"password":return yd(c,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fO);case"emailLink":return function df(p,c){return hf.apply(this,arguments)}(c,{email:h._email,oobCode:h._password});default:$t(c,"internal-error")}})()}_linkToIdToken(c,h){var m=this;return(0,S.A)(function*(){switch(m.signInMethod){case"password":return yd(c,{idToken:h,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sC);case"emailLink":return function Dm(p,c){return $0.apply(this,arguments)}(c,{idToken:h,email:m._email,oobCode:m._password});default:$t(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function aa(p,c){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,S.A)(function*(p,c){return ge(p,"POST","/v1/accounts:signInWithIdp",ce(p,c))})).apply(this,arguments)}class ua extends Vu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const h=new ua(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(h.idToken=c.idToken),c.accessToken&&(h.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(h.nonce=c.nonce),c.pendingToken&&(h.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(h.accessToken=c.oauthToken,h.secret=c.oauthTokenSecret):$t("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:b}=h,I=(0,qe.Tt)(h,["providerId","signInMethod"]);if(!m||!b)return null;const P=new ua(m,b);return P.idToken=I.idToken||void 0,P.accessToken=I.accessToken||void 0,P.secret=I.secret,P.nonce=I.nonce,P.pendingToken=I.pendingToken||null,P}_getIdTokenResponse(c){return aa(c,this.buildRequest())}_linkToIdToken(c,h){const m=this.buildRequest();return m.idToken=h,aa(c,m)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,aa(c,h)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),c.postBody=(0,X.Am)(h)}return c}}function ff(){return(ff=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:sendVerificationCode",ce(p,c))})).apply(this,arguments)}function Pm(){return(Pm=(0,S.A)(function*(p,c){return ge(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,c))})).apply(this,arguments)}function _d(){return(_d=(0,S.A)(function*(p,c){const h=yield ge(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,c));if(h.temporaryProof)throw zt(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const uC={USER_NOT_FOUND:"user-not-found"};function Nm(){return(Nm=(0,S.A)(function*(p,c){return ge(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,Object.assign(Object.assign({},c),{operation:"REAUTH"})),uC)})).apply(this,arguments)}class Lu extends Vu{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,h){return new Lu({verificationId:c,verificationCode:h})}static _fromTokenResponse(c,h){return new Lu({phoneNumber:c,temporaryProof:h})}_getIdTokenResponse(c){return function aC(p,c){return Pm.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,h){return function gO(p,c){return _d.apply(this,arguments)}(c,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function lC(p,c){return Nm.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:h,verificationId:m,verificationCode:b}=this.params;return c&&h?{temporaryProof:c,phoneNumber:h}:{sessionInfo:m,code:b}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:h,verificationCode:m,phoneNumber:b,temporaryProof:I}=c;return m||h||b||I?new Lu({verificationId:h,verificationCode:m,phoneNumber:b,temporaryProof:I}):null}}class pf{constructor(c){var h,m,b,I,P,U;const ne=(0,X.I9)((0,X.hp)(c)),De=null!==(h=ne.apiKey)&&void 0!==h?h:null,He=null!==(m=ne.oobCode)&&void 0!==m?m:null,$e=function Rm(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=ne.mode)&&void 0!==b?b:null);fe(De&&He&&$e,"argument-error"),this.apiKey=De,this.operation=$e,this.code=He,this.continueUrl=null!==(I=ne.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(P=ne.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(U=ne.tenantId)&&void 0!==U?U:null}static parseLink(c){const h=function cC(p){const c=(0,X.I9)((0,X.hp)(p)).link,h=c?(0,X.I9)((0,X.hp)(c)).deep_link_id:null,m=(0,X.I9)((0,X.hp)(p)).deep_link_id;return(m?(0,X.I9)((0,X.hp)(m)).link:null)||m||h||c||p}(c);try{return new pf(h)}catch{return null}}}let z0=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,m){return ja._fromEmailAndPassword(h,m)}static credentialWithLink(h,m){const b=pf.parseLink(m);return fe(b,"argument-error"),ja._fromEmailAndCode(h,b.code,b.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Oo{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Bl extends Oo{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class vd extends Bl{static credentialFromJSON(c){const h="string"==typeof c?JSON.parse(c):c;return fe("providerId"in h&&"signInMethod"in h,"argument-error"),ua._fromParams(h)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return fe(c.idToken||c.accessToken,"argument-error"),ua._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return vd.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return vd.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:h,oauthAccessToken:m,oauthTokenSecret:b,pendingToken:I,nonce:P,providerId:U}=c;if(!m&&!b&&!h&&!I||!U)return null;try{return new vd(U)._credential({idToken:h,accessToken:m,nonce:P,pendingToken:I})}catch{return null}}}let q0=(()=>{class p extends Bl{constructor(){super("facebook.com")}static credential(h){return ua._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),dC=(()=>{class p extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(h,m){return ua._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:b}=h;if(!m&&!b)return null;try{return p.credential(m,b)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),W0=(()=>{class p extends Bl{constructor(){super("github.com")}static credential(h){return ua._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Hl extends Vu{constructor(c,h){super(c,c),this.pendingToken=h}_getIdTokenResponse(c){return aa(c,this.buildRequest())}_linkToIdToken(c,h){const m=this.buildRequest();return m.idToken=h,aa(c,m)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,aa(c,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:b,pendingToken:I}=h;return m&&b&&I&&m===b?new Hl(m,I):null}static _create(c,h){return new Hl(c,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gf extends Oo{constructor(c){fe(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return gf.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return gf.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const h=Hl.fromJSON(c);return fe(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:h,providerId:m}=c;if(!h||!m)return null;try{return Hl._create(m,h)}catch{return null}}}let K0=(()=>{class p extends Bl{constructor(){super("twitter.com")}static credential(h,m){return ua._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:m,oauthTokenSecret:b}=h;if(!m||!b)return null;try{return p.credential(m,b)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Ua(p,c){return Q0.apply(this,arguments)}function Q0(){return(Q0=(0,S.A)(function*(p,c){return ge(p,"POST","/v1/accounts:signUp",ce(p,c))})).apply(this,arguments)}class Js{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,h,m,b=!1){return(0,S.A)(function*(){const I=yield Oe._fromIdTokenResponse(c,m,b),P=km(m);return new Js({user:I,providerId:P,_tokenResponse:m,operationType:h})})()}static _forOperation(c,h,m){return(0,S.A)(function*(){yield c._updateTokensIfNecessary(m,!0);const b=km(m);return new Js({user:c,providerId:b,_tokenResponse:m,operationType:h})})()}}function km(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Mm(){return(Mm=(0,S.A)(function*(p){var c;if((0,Le._isFirebaseServerApp)(p.app))return Promise.reject(it(p));const h=kn(p);if(yield h._initializationPromise,null!==(c=h.currentUser)&&void 0!==c&&c.isAnonymous)return new Js({user:h.currentUser,providerId:null,operationType:"signIn"});const m=yield Ua(h,{returnSecureToken:!0}),b=yield Js._fromIdTokenResponse(h,"signIn",m,!0);return yield h._updateCurrentUser(b.user),b})).apply(this,arguments)}class mf extends X.g{constructor(c,h,m,b){var I;super(h.code,h.message),this.operationType=m,this.user=b,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:c.name,tenantId:null!==(I=c.tenantId)&&void 0!==I?I:void 0,_serverResponse:h.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(c,h,m,b){return new mf(c,h,m,b)}}function J0(p,c,h,m){return("reauthenticate"===c?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?mf._fromErrorAndOperation(p,I,c,m):I})}function Om(p){return new Set(p.map(({providerId:c})=>c).filter(c=>!!c))}function Y0(){return Y0=(0,S.A)(function*(p,c){const h=(0,X.Ku)(p);yield Fm(!0,h,c);const{providerUserInfo:m}=yield function fd(p,c){return ns.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[c]}),b=Om(m||[]);return h.providerData=h.providerData.filter(I=>b.has(I.providerId)),b.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Y0.apply(this,arguments)}function X0(p,c){return Z0.apply(this,arguments)}function Z0(){return(Z0=(0,S.A)(function*(p,c,h=!1){const m=yield ai(p,c._linkToIdToken(p.auth,yield p.getIdToken()),h);return Js._forOperation(p,"link",m)})).apply(this,arguments)}function Fm(p,c,h){return eb.apply(this,arguments)}function eb(){return(eb=(0,S.A)(function*(p,c,h){yield Ks(c);const b=!1===p?"provider-already-linked":"no-such-provider";fe(Om(c.providerData).has(h)===p,c.auth,b)})).apply(this,arguments)}function fC(p,c){return tb.apply(this,arguments)}function tb(){return(tb=(0,S.A)(function*(p,c,h=!1){const{auth:m}=p;if((0,Le._isFirebaseServerApp)(m.app))return Promise.reject(it(m));const b="reauthenticate";try{const I=yield ai(p,J0(m,b,c,p),h);fe(I.idToken,m,"internal-error");const P=xo(I.idToken);fe(P,m,"internal-error");const{sub:U}=P;return fe(p.uid===U,m,"user-mismatch"),Js._forOperation(p,b,I)}catch(I){throw"auth/user-not-found"===I?.code&&$t(m,"user-mismatch"),I}})).apply(this,arguments)}function Vm(p,c){return K.apply(this,arguments)}function K(){return(K=(0,S.A)(function*(p,c,h=!1){if((0,Le._isFirebaseServerApp)(p.app))return Promise.reject(it(p));const m="signIn",b=yield J0(p,m,c),I=yield Js._fromIdTokenResponse(p,m,b);return h||(yield p._updateCurrentUser(I.user)),I})).apply(this,arguments)}function la(p,c){return $l.apply(this,arguments)}function $l(){return($l=(0,S.A)(function*(p,c){return Vm(kn(p),c)})).apply(this,arguments)}function Lm(p,c){return nb.apply(this,arguments)}function nb(){return(nb=(0,S.A)(function*(p,c){const h=(0,X.Ku)(p);return yield Fm(!1,h,c.providerId),X0(h,c)})).apply(this,arguments)}function pC(p,c){return yf.apply(this,arguments)}function yf(){return(yf=(0,S.A)(function*(p,c){return fC((0,X.Ku)(p),c)})).apply(this,arguments)}function Ba(){return(Ba=(0,S.A)(function*(p,c){return ge(p,"POST","/v1/accounts:signInWithCustomToken",ce(p,c))})).apply(this,arguments)}function Ha(){return Ha=(0,S.A)(function*(p,c){if((0,Le._isFirebaseServerApp)(p.app))return Promise.reject(it(p));const h=kn(p),m=yield function ca(p,c){return Ba.apply(this,arguments)}(h,{token:c,returnSecureToken:!0}),b=yield Js._fromIdTokenResponse(h,"signIn",m);return yield h._updateCurrentUser(b.user),b}),Ha.apply(this,arguments)}class zl{constructor(c,h){this.factorId=c,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(c,h){return"phoneInfo"in h?bd._fromServerResponse(c,h):"totpInfo"in h?$a._fromServerResponse(c,h):$t(c,"internal-error")}}class bd extends zl{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,h){return new bd(h)}}class $a extends zl{constructor(c){super("totp",c)}static _fromServerResponse(c,h){return new $a(h)}}function jm(p,c,h){var m;fe((null===(m=h.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),fe(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),c.continueUrl=h.url,c.dynamicLinkDomain=h.dynamicLinkDomain,c.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(fe(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),c.iOSBundleId=h.iOS.bundleId),h.android&&(fe(h.android.packageName.length>0,p,"missing-android-pkg-name"),c.androidInstallApp=h.android.installApp,c.androidMinimumVersionCode=h.android.minimumVersion,c.androidPackageName=h.android.packageName)}function ln(p){return rb.apply(this,arguments)}function rb(){return(rb=(0,S.A)(function*(p){const c=kn(p);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function tn(){return(tn=(0,S.A)(function*(p,c,h){const m=kn(p),b={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};h&&jm(m,b,h),yield yd(m,b,"getOobCode",B0)})).apply(this,arguments)}function ur(){return ur=(0,S.A)(function*(p,c,h){yield vm((0,X.Ku)(p),{oobCode:c,newPassword:h}).catch(function(){var m=(0,S.A)(function*(b){throw"auth/password-does-not-meet-requirements"===b.code&&ln(p),b});return function(b){return m.apply(this,arguments)}}())}),ur.apply(this,arguments)}function ib(){return ib=(0,S.A)(function*(p,c){yield function hO(p,c){return Im.apply(this,arguments)}((0,X.Ku)(p),{oobCode:c})}),ib.apply(this,arguments)}function sb(p,c){return pn.apply(this,arguments)}function pn(){return(pn=(0,S.A)(function*(p,c){const h=(0,X.Ku)(p),m=yield vm(h,{oobCode:c}),b=m.requestType;switch(fe(b,h,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(m.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(m.mfaInfo,h,"internal-error");default:fe(m.email,h,"internal-error")}let I=null;return m.mfaInfo&&(I=zl._fromServerResponse(kn(h),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:I},operation:b}})).apply(this,arguments)}function ql(){return(ql=(0,S.A)(function*(p,c){const{data:h}=yield sb((0,X.Ku)(p),c);return h.email})).apply(this,arguments)}function ob(){return(ob=(0,S.A)(function*(p,c,h){if((0,Le._isFirebaseServerApp)(p.app))return Promise.reject(it(p));const m=kn(p),P=yield yd(m,{returnSecureToken:!0,email:c,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ua).catch(ne=>{throw"auth/password-does-not-meet-requirements"===ne.code&&ln(p),ne}),U=yield Js._fromIdTokenResponse(m,"signIn",P);return yield m._updateCurrentUser(U.user),U})).apply(this,arguments)}function Fo(){return(Fo=(0,S.A)(function*(p,c,h){const m=kn(p),b={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function I(P,U){fe(U.handleCodeInApp,m,"argument-error"),U&&jm(m,P,U)})(b,h),yield yd(m,b,"getOobCode",H0)})).apply(this,arguments)}function ab(){return(ab=(0,S.A)(function*(p,c,h){if((0,Le._isFirebaseServerApp)(p.app))return Promise.reject(it(p));const m=(0,X.Ku)(p),b=z0.credentialWithLink(c,h||si());return fe(b._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),la(m,b)})).apply(this,arguments)}function Bm(){return(Bm=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:createAuthUri",ce(p,c))})).apply(this,arguments)}function Hm(){return Hm=(0,S.A)(function*(p,c){const m={identifier:c,continueUri:Cs()?si():"http://localhost"},{signinMethods:b}=yield function IO(p,c){return Bm.apply(this,arguments)}((0,X.Ku)(p),m);return b||[]}),Hm.apply(this,arguments)}function Ii(){return Ii=(0,S.A)(function*(p,c){const h=(0,X.Ku)(p),b={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};c&&jm(h.auth,b,c);const{email:I}=yield function uf(p,c){return lf.apply(this,arguments)}(h.auth,b);I!==p.email&&(yield p.reload())}),Ii.apply(this,arguments)}function ub(){return ub=(0,S.A)(function*(p,c,h){const m=(0,X.Ku)(p),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:c};h&&jm(m.auth,I,h);const{email:P}=yield function oC(p,c){return Cm.apply(this,arguments)}(m.auth,I);P!==p.email&&(yield p.reload())}),ub.apply(this,arguments)}function lb(){return(lb=(0,S.A)(function*(p,c){return Ve(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function cb(){return cb=(0,S.A)(function*(p,{displayName:c,photoURL:h}){if(void 0===c&&void 0===h)return;const m=(0,X.Ku)(p),I={idToken:yield m.getIdToken(),displayName:c,photoUrl:h,returnSecureToken:!0},P=yield ai(m,function CO(p,c){return lb.apply(this,arguments)}(m.auth,I));m.displayName=P.displayName||null,m.photoURL=P.photoUrl||null;const U=m.providerData.find(({providerId:ne})=>"password"===ne);U&&(U.displayName=m.displayName,U.photoURL=m.photoURL),yield m._updateTokensIfNecessary(P)}),cb.apply(this,arguments)}function Sr(p,c,h){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,S.A)(function*(p,c,h){const{auth:m}=p,I={idToken:yield p.getIdToken(),returnSecureToken:!0};c&&(I.email=c),h&&(I.password=h);const P=yield ai(p,function iC(p,c){return wm.apply(this,arguments)}(m,I));yield p._updateTokensIfNecessary(P,!0)}),Wl.apply(this,arguments)}class ju{constructor(c,h,m={}){this.isNewUser=c,this.providerId=h,this.profile=m}}class db extends ju{constructor(c,h,m,b){super(c,h,m),this.username=b}}class _f extends ju{constructor(c,h){super(c,"facebook.com",h)}}class vf extends db{constructor(c,h){super(c,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class $m extends ju{constructor(c,h){super(c,"google.com",h)}}class hb extends db{constructor(c,h,m){super(c,"twitter.com",h,m)}}function _C(p){const{user:c,_tokenResponse:h}=p;return c.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function yC(p){var c,h;if(!p)return null;const{providerId:m}=p,b=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},I=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&p?.idToken){const P=null===(h=null===(c=xo(p.idToken))||void 0===c?void 0:c.firebase)||void 0===h?void 0:h.sign_in_provider;if(P)return new ju(I,"anonymous"!==P&&"custom"!==P?P:null)}if(!m)return null;switch(m){case"facebook.com":return new _f(I,b);case"github.com":return new vf(I,b);case"google.com":return new $m(I,b);case"twitter.com":return new hb(I,b,p.screenName||null);case"custom":case"anonymous":return new ju(I,null);default:return new ju(I,m,b)}}(h)}class da{constructor(c,h,m){this.type=c,this.credential=h,this.user=m}static _fromIdtoken(c,h){return new da("enroll",c,h)}static _fromMfaPendingCredential(c){return new da("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var h,m;if(c?.multiFactorSession){if(null!==(h=c.multiFactorSession)&&void 0!==h&&h.pendingCredential)return da._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(m=c.multiFactorSession)&&void 0!==m&&m.idToken)return da._fromIdtoken(c.multiFactorSession.idToken)}return null}}class wd{constructor(c,h,m){this.session=c,this.hints=h,this.signInResolver=m}static _fromError(c,h){const m=kn(c),b=h.customData._serverResponse,I=(b.mfaInfo||[]).map(U=>zl._fromServerResponse(m,U));fe(b.mfaPendingCredential,m,"internal-error");const P=da._fromMfaPendingCredential(b.mfaPendingCredential);return new wd(P,I,function(){var U=(0,S.A)(function*(ne){const De=yield ne._process(m,P);delete b.mfaInfo,delete b.mfaPendingCredential;const He=Object.assign(Object.assign({},b),{idToken:De.idToken,refreshToken:De.refreshToken});switch(h.operationType){case"signIn":const $e=yield Js._fromIdTokenResponse(m,h.operationType,He);return yield m._updateCurrentUser($e.user),$e;case"reauthenticate":return fe(h.user,m,"internal-error"),Js._forOperation(h.user,h.operationType,He);default:$t(m,"internal-error")}});return function(ne){return U.apply(this,arguments)}}())}resolveSignIn(c){var h=this;return(0,S.A)(function*(){return h.signInResolver(c)})()}}class _b{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(m=>zl._fromServerResponse(c.auth,m)))})}static _fromUser(c){return new _b(c)}getSession(){var c=this;return(0,S.A)(function*(){return da._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,h){var m=this;return(0,S.A)(function*(){const b=c,I=yield m.getSession(),P=yield ai(m.user,b._process(m.user.auth,I,h));return yield m.user._updateTokensIfNecessary(P),m.user.reload()})()}unenroll(c){var h=this;return(0,S.A)(function*(){const m="string"==typeof c?c:c.uid,b=yield h.user.getIdToken();try{const I=yield ai(h.user,function nn(p,c){return Ve(p,"POST","/v2/accounts/mfaEnrollment:withdraw",ce(p,c))}(h.user.auth,{idToken:b,mfaEnrollmentId:m}));h.enrolledFactors=h.enrolledFactors.filter(({uid:P})=>P!==m),yield h.user._updateTokensIfNecessary(I),yield h.user.reload()}catch(I){throw I}})()}}const zm=new WeakMap,qm="__sak";class vb{constructor(c,h){this.storageRetriever=c,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(qm,"1"),this.storage.removeItem(qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,h){return this.storage.setItem(c,JSON.stringify(h)),Promise.resolve()}_get(c){const h=this.storage.getItem(c);return Promise.resolve(h?JSON.parse(h):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xr=(()=>{class p extends vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,m)=>this.onStorageEvent(h,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wm(){const p=(0,X.ZQ)();return La(p)||Mu(p)}()&&function pt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Fe(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const m of Object.keys(this.listeners)){const b=this.storage.getItem(m),I=this.localCache[m];b!==I&&h(m,I,b)}}onStorageEvent(h,m=!1){if(!h.key)return void this.forAllChangedKeys((U,ne,De)=>{this.notifyListeners(U,De)});const b=h.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const U=this.storage.getItem(b);if(h.newValue!==U)null!==h.newValue?this.storage.setItem(b,h.newValue):this.storage.removeItem(b);else if(this.localCache[b]===h.newValue&&!m)return}const I=()=>{const U=this.storage.getItem(b);!m&&this.localCache[b]===U||this.notifyListeners(b,U)},P=this.storage.getItem(b);!function de(){return(0,X.lT)()&&10===document.documentMode}()||P===h.newValue||h.newValue===h.oldValue?I():setTimeout(I,10)}notifyListeners(h,m){this.localCache[h]=m;const b=this.listeners[h];if(b)for(const I of Array.from(b))I(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,m,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:m,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,m){var b=()=>super._set,I=this;return(0,S.A)(function*(){yield b().call(I,h,m),I.localCache[h]=JSON.stringify(m)})()}_get(h){var m=()=>super._get,b=this;return(0,S.A)(function*(){const I=yield m().call(b,h);return b.localCache[h]=JSON.stringify(I),I})()}_remove(h){var m=()=>super._remove,b=this;return(0,S.A)(function*(){yield m().call(b,h),delete b.localCache[h]})()}}return p.type="LOCAL",p})(),Bu=(()=>{class p extends vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,m){}_removeListener(h,m){}}return p.type="SESSION",p})();let Id=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const m=this.receivers.find(I=>I.isListeningto(h));if(m)return m;const b=new p(h);return this.receivers.push(b),b}isListeningto(h){return this.eventTarget===h}handleEvent(h){var m=this;return(0,S.A)(function*(){const b=h,{eventId:I,eventType:P,data:U}=b.data,ne=m.handlersMap[P];if(!ne?.size)return;b.ports[0].postMessage({status:"ack",eventId:I,eventType:P});const De=Array.from(ne).map(function(){var $e=(0,S.A)(function*(zn){return zn(b.origin,U)});return function(zn){return $e.apply(this,arguments)}}()),He=yield function PO(p){return Promise.all(p.map(function(){var c=(0,S.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(m){return{fulfilled:!1,reason:m}}});return function(h){return c.apply(this,arguments)}}()))}(De);b.ports[0].postMessage({status:"done",eventId:I,eventType:P,response:He})})()}_subscribe(h,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(m)}_unsubscribe(h,m){this.handlersMap[h]&&m&&this.handlersMap[h].delete(m),(!m||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Hu(p="",c=10){let h="";for(let m=0;m<c;m++)h+=Math.floor(10*Math.random());return p+h}class wf{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,h,m=50){var b=this;return(0,S.A)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let P,U;return new Promise((ne,De)=>{const He=Hu("",20);I.port1.start();const $e=setTimeout(()=>{De(new Error("unsupported_event"))},m);U={messageChannel:I,onMessage(zn){const ro=zn;if(ro.data.eventId===He)switch(ro.data.status){case"ack":clearTimeout($e),P=setTimeout(()=>{De(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),ne(ro.data.response);break;default:clearTimeout($e),clearTimeout(P),De(new Error("invalid_response"))}}},b.handlers.add(U),I.port1.addEventListener("message",U.onMessage),b.target.postMessage({eventType:c,eventId:He,data:h},[I.port2])}).finally(()=>{U&&b.removeMessageHandler(U)})})()}}function _r(){return window}function Qm(){return typeof _r().WorkerGlobalScope<"u"&&"function"==typeof _r().importScripts}function Ga(){return(Ga=(0,S.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wb="firebaseLocalStorageDb",Td="firebaseLocalStorage",ie="fbase_key";class qa{constructor(c){this.request=c}toPromise(){return new Promise((c,h)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Kl(p,c){return p.transaction([Td],c?"readwrite":"readonly").objectStore(Td)}function Jm(){const p=indexedDB.open(wb,1);return new Promise((c,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore(Td,{keyPath:ie})}catch(b){h(b)}}),p.addEventListener("success",(0,S.A)(function*(){const m=p.result;m.objectStoreNames.contains(Td)?c(m):(m.close(),yield function Ad(){const p=indexedDB.deleteDatabase(wb);return new qa(p).toPromise()}(),c(yield Jm()))}))})}function Eb(p,c,h){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,S.A)(function*(p,c,h){const m=Kl(p,!0).put({[ie]:c,value:h});return new qa(m).toPromise()})).apply(this,arguments)}function $u(){return($u=(0,S.A)(function*(p,c){const h=Kl(p,!1).get(c),m=yield new qa(h).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Ib(p,c){const h=Kl(p,!0).delete(c);return new qa(h).toPromise()}const Jl=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,S.A)(function*(){return h.db||(h.db=yield Jm()),h.db})()}_withRetries(h){var m=this;return(0,S.A)(function*(){let b=0;for(;;)try{const I=yield m._openDb();return yield h(I)}catch(I){if(b++>3)throw I;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,S.A)(function*(){return Qm()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,S.A)(function*(){h.receiver=Id._getInstance(function za(){return Qm()?self:null}()),h.receiver._subscribe("keyChanged",function(){var m=(0,S.A)(function*(b,I){return{keyProcessed:(yield h._poll()).includes(I.key)}});return function(b,I){return m.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var m=(0,S.A)(function*(b,I){return["keyChanged"]});return function(b,I){return m.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,S.A)(function*(){var m,b;if(h.activeServiceWorker=yield function bb(){return Ga.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new wf(h.activeServiceWorker);const I=yield h.sender._send("ping",{},800);I&&null!==(m=I[0])&&void 0!==m&&m.fulfilled&&null!==(b=I[0])&&void 0!==b&&b.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var m=this;return(0,S.A)(function*(){if(m.sender&&m.activeServiceWorker&&function AC(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:h},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,S.A)(function*(){try{if(!indexedDB)return!1;const h=yield Jm();return yield Eb(h,qm,"1"),yield Ib(h,qm),!0}catch{}return!1})()}_withPendingWrite(h){var m=this;return(0,S.A)(function*(){m.pendingWrites++;try{yield h()}finally{m.pendingWrites--}})()}_set(h,m){var b=this;return(0,S.A)(function*(){return b._withPendingWrite((0,S.A)(function*(){return yield b._withRetries(I=>Eb(I,h,m)),b.localCache[h]=m,b.notifyServiceWorker(h)}))})()}_get(h){var m=this;return(0,S.A)(function*(){const b=yield m._withRetries(I=>function CC(p,c){return $u.apply(this,arguments)}(I,h));return m.localCache[h]=b,b})()}_remove(h){var m=this;return(0,S.A)(function*(){return m._withPendingWrite((0,S.A)(function*(){return yield m._withRetries(b=>Ib(b,h)),delete m.localCache[h],m.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,S.A)(function*(){const m=yield h._withRetries(P=>{const U=Kl(P,!1).getAll();return new qa(U).toPromise()});if(!m)return[];if(0!==h.pendingWrites)return[];const b=[],I=new Set;if(0!==m.length)for(const{fbase_key:P,value:U}of m)I.add(P),JSON.stringify(h.localCache[P])!==JSON.stringify(U)&&(h.notifyListeners(P,U),b.push(P));for(const P of Object.keys(h.localCache))h.localCache[P]&&!I.has(P)&&(h.notifyListeners(P,null),b.push(P));return b})()}notifyListeners(h,m){this.localCache[h]=m;const b=this.listeners[h];if(b)for(const I of Array.from(b))I(m)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,S.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Xl=1e12;class NO{constructor(c){this.auth=c,this.counter=Xl,this._widgets=new Map}render(c,h){const m=this.counter;return this._widgets.set(m,new Ab(c,this.auth.name,h||{})),this.counter++,m}reset(c){var h;const m=c||Xl;null===(h=this._widgets.get(m))||void 0===h||h.delete(),this._widgets.delete(m)}getResponse(c){var h;return(null===(h=this._widgets.get(c||Xl))||void 0===h?void 0:h.getResponse())||""}execute(c){var h=this;return(0,S.A)(function*(){var m;return null===(m=h._widgets.get(c||Xl))||void 0===m||m.execute(),""})()}}class Ab{constructor(c,h,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof c?document.getElementById(c):c;fe(b,"argument-error",{appName:h}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function RO(p){const c=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)c.push(h.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":h}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ti=QA("rcb"),Xm=new W(3e4,6e4);class Zl{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=_r().grecaptcha)||void 0===c||!c.render)}load(c,h=""){return fe(function kO(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),c,"argument-error"),this.shouldResolveImmediately(h)&&Rn(_r().grecaptcha)?Promise.resolve(_r().grecaptcha):new Promise((m,b)=>{const I=_r().setTimeout(()=>{b(Gt(c,"network-request-failed"))},Xm.get());_r()[Ti]=()=>{_r().clearTimeout(I),delete _r()[Ti];const U=_r().grecaptcha;if(!U||!Rn(U))return void b(Gt(c,"internal-error"));const ne=U.render;U.render=(De,He)=>{const $e=ne(De,He);return this.counter++,$e},this.hostLanguage=h,m(U)},gm(`${function WA(){return Fu.recaptchaV2Script}()}?${(0,X.Am)({onload:Ti,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(I),b(Gt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var h;return!(null===(h=_r().grecaptcha)||void 0===h||!h.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cb{load(c){return(0,S.A)(function*(){return new NO(c)})()}clearedOneInstance(){}}const Ys="recaptcha",Qt={theme:"light",type:"image"};class Xs{constructor(c,h,m=Object.assign({},Qt)){this.parameters=m,this.type=Ys,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kn(c),this.isInvisible="invisible"===this.parameters.size,fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof h?document.getElementById(h):h;fe(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cb:new Zl,this.validateStartingState()}verify(){var c=this;return(0,S.A)(function*(){c.assertNotDestroyed();const h=yield c.render(),m=c.getAssertedRecaptcha();return m.getResponse(h)||new Promise(I=>{const P=U=>{U&&(c.tokenChangeListeners.delete(P),I(U))};c.tokenChangeListeners.add(P),c.isInvisible&&m.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return h=>{if(this.tokenChangeListeners.forEach(m=>m(h)),"function"==typeof c)c(h);else if("string"==typeof c){const m=_r()[c];"function"==typeof m&&m(h)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,S.A)(function*(){if(yield c.init(),!c.widgetId){let h=c.container;if(!c.isInvisible){const m=document.createElement("div");h.appendChild(m),h=m}c.widgetId=c.getAssertedRecaptcha().render(h,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,S.A)(function*(){fe(Cs()&&!Qm(),c.auth,"internal-error"),yield function Db(){let p=null;return new Promise(c=>{"complete"!==document.readyState?(p=()=>c(),window.addEventListener("load",p)):c()}).catch(c=>{throw p&&window.removeEventListener("load",p),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const h=yield function No(p){return Ro.apply(this,arguments)}(c.auth);fe(h,c.auth,"internal-error"),c.parameters.sitekey=h})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cd{constructor(c,h){this.verificationId=c,this.onConfirmation=h}confirm(c){const h=Lu._fromVerification(this.verificationId,c);return this.onConfirmation(h)}}function ec(){return(ec=(0,S.A)(function*(p,c,h){if((0,Le._isFirebaseServerApp)(p.app))return Promise.reject(it(p));const m=kn(p),b=yield Sd(m,c,(0,X.Ku)(h));return new Cd(b,I=>la(m,I))})).apply(this,arguments)}function Vo(){return(Vo=(0,S.A)(function*(p,c,h){const m=(0,X.Ku)(p);yield Fm(!1,m,"phone");const b=yield Sd(m.auth,c,(0,X.Ku)(h));return new Cd(b,I=>Lm(m,I))})).apply(this,arguments)}function Dd(){return(Dd=(0,S.A)(function*(p,c,h){const m=(0,X.Ku)(p);if((0,Le._isFirebaseServerApp)(m.auth.app))return Promise.reject(it(m.auth));const b=yield Sd(m.auth,c,(0,X.Ku)(h));return new Cd(b,I=>pC(m,I))})).apply(this,arguments)}function Sd(p,c,h){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,S.A)(function*(p,c,h){var m;const b=yield h.verify();try{let I;if(fe("string"==typeof b,p,"argument-error"),fe(h.type===Ys,p,"argument-error"),I="string"==typeof c?{phoneNumber:c}:c,"session"in I){const P=I.session;if("phoneNumber"in I)return fe("enroll"===P.type,p,"internal-error"),(yield function ha(p,c){return Ve(p,"POST","/v2/accounts/mfaEnrollment:start",ce(p,c))}(p,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{fe("signin"===P.type,p,"internal-error");const U=(null===(m=I.multiFactorHint)||void 0===m?void 0:m.uid)||I.multiFactorUid;return fe(U,p,"missing-multi-factor-info"),(yield function Fi(p,c){return Ve(p,"POST","/v2/accounts/mfaSignIn:start",ce(p,c))}(p,{mfaPendingCredential:P.credential,mfaEnrollmentId:U,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function G0(p,c){return ff.apply(this,arguments)}(p,{phoneNumber:I.phoneNumber,recaptchaToken:b});return P}}finally{h._reset()}}),Cf.apply(this,arguments)}function Df(){return(Df=(0,S.A)(function*(p,c){const h=(0,X.Ku)(p);if((0,Le._isFirebaseServerApp)(h.auth.app))return Promise.reject(it(h.auth));yield X0(h,c)})).apply(this,arguments)}let tc=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=kn(h)}verifyPhoneNumber(h,m){return Sd(this.auth,h,(0,X.Ku)(m))}static credential(h,m){return Lu._fromVerification(h,m)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:m,temporaryProof:b}=h;return m&&b?Lu._fromTokenResponse(m,b):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Gu(p,c){return c?We(c):(fe(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Nd extends Vu{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return aa(c,this._buildIdpRequest())}_linkToIdToken(c,h){return aa(c,this._buildIdpRequest(h))}_getReauthenticationResolver(c){return aa(c,this._buildIdpRequest())}_buildIdpRequest(c){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(h.idToken=c),h}}function PC(p){return Vm(p.auth,new Nd(p),p.bypassAuthState)}function NC(p){const{auth:c,user:h}=p;return fe(h,c,"internal-error"),fC(h,new Nd(p),p.bypassAuthState)}function eo(p){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,S.A)(function*(p){const{auth:c,user:h}=p;return fe(h,c,"internal-error"),X0(h,new Nd(p),p.bypassAuthState)})).apply(this,arguments)}class ey{constructor(c,h,m,b,I=!1){this.auth=c,this.resolver=m,this.user=b,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var c=this;return new Promise(function(){var h=(0,S.A)(function*(m,b){c.pendingPromise={resolve:m,reject:b};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(I){c.reject(I)}});return function(m,b){return h.apply(this,arguments)}}())}onAuthEvent(c){var h=this;return(0,S.A)(function*(){const{urlResponse:m,sessionId:b,postBody:I,tenantId:P,error:U,type:ne}=c;if(U)return void h.reject(U);const De={auth:h.auth,requestUri:m,sessionId:b,tenantId:P||void 0,postBody:I||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(ne)(De))}catch(He){h.reject(He)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return PC;case"linkViaPopup":case"linkViaRedirect":return eo;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:$t(this.auth,"internal-error")}}resolve(c){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RC=new W(2e3,1e4);function ty(){return(ty=(0,S.A)(function*(p,c,h){if((0,Le._isFirebaseServerApp)(p.app))return Promise.reject(Gt(p,"operation-not-supported-in-this-environment"));const m=kn(p);Cn(p,c,Oo);const b=Gu(m,h);return new ry(m,"signInViaPopup",c,b).executeNotNull()})).apply(this,arguments)}function Sf(){return(Sf=(0,S.A)(function*(p,c,h){const m=(0,X.Ku)(p);if((0,Le._isFirebaseServerApp)(m.auth.app))return Promise.reject(Gt(m.auth,"operation-not-supported-in-this-environment"));Cn(m.auth,c,Oo);const b=Gu(m.auth,h);return new ry(m.auth,"reauthViaPopup",c,b,m).executeNotNull()})).apply(this,arguments)}function ny(){return(ny=(0,S.A)(function*(p,c,h){const m=(0,X.Ku)(p);Cn(m.auth,c,Oo);const b=Gu(m.auth,h);return new ry(m.auth,"linkViaPopup",c,b,m).executeNotNull()})).apply(this,arguments)}let ry=(()=>{class p extends ey{constructor(h,m,b,I,P){super(h,m,I,P),this.provider=b,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,S.A)(function*(){const m=yield h.execute();return fe(m,h.auth,"internal-error"),m})()}onExecution(){var h=this;return(0,S.A)(function*(){Hn(1===h.filter.length,"Popup operations only handle one event");const m=Hu();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],m),h.authWindow.associatedEvent=m,h.resolver._originValidation(h.auth).catch(b=>{h.reject(b)}),h.resolver._isIframeWebStorageSupported(h.auth,b=>{b||h.reject(Gt(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var m,b;this.pollId=null!==(b=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,RC.get())};h()}}return p.currentPopupAction=null,p})();const nc="pendingRedirect",Rd=new Map;class OC extends ey{constructor(c,h,m=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,m),this.eventId=null}execute(){var c=()=>super.execute,h=this;return(0,S.A)(function*(){let m=Rd.get(h.auth._key());if(!m){try{const I=(yield function Zr(p,c){return Pf.apply(this,arguments)}(h.resolver,h.auth))?yield c().call(h):null;m=()=>Promise.resolve(I)}catch(b){m=()=>Promise.reject(b)}Rd.set(h.auth._key(),m)}return h.bypassAuthState||Rd.set(h.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(c){var h=()=>super.onAuthEvent,m=this;return(0,S.A)(function*(){if("signInViaRedirect"===c.type)return h().call(m,c);if("unknown"!==c.type){if(c.eventId){const b=yield m.auth._redirectUserForId(c.eventId);if(b)return m.user=b,h().call(m,c);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,S.A)(function*(){})()}cleanUp(){}}function Pf(){return(Pf=(0,S.A)(function*(p,c){const h=fa(c),m=jr(p);if(!(yield m._isAvailable()))return!1;const b="true"===(yield m._get(h));return yield m._remove(h),b})).apply(this,arguments)}function at(p,c){return ci.apply(this,arguments)}function ci(){return(ci=(0,S.A)(function*(p,c){return jr(p)._set(fa(c),"true")})).apply(this,arguments)}function lr(p,c){Rd.set(p._key(),c)}function jr(p){return We(p._redirectPersistence)}function fa(p){return Dr(nc,p.config.apiKey,p.name)}function di(p,c,h){return function Sb(p,c,h){return Nf.apply(this,arguments)}(p,c,h)}function Nf(){return(Nf=(0,S.A)(function*(p,c,h){if((0,Le._isFirebaseServerApp)(p.app))return Promise.reject(it(p));const m=kn(p);Cn(p,c,Oo),yield m._initializationPromise;const b=Gu(m,h);return yield at(b,m),b._openRedirect(m,c,"signInViaRedirect")})).apply(this,arguments)}function Rf(p,c,h){return function FC(p,c,h){return iy.apply(this,arguments)}(p,c,h)}function iy(){return(iy=(0,S.A)(function*(p,c,h){const m=(0,X.Ku)(p);if(Cn(m.auth,c,Oo),(0,Le._isFirebaseServerApp)(m.auth.app))return Promise.reject(it(m.auth));yield m.auth._initializationPromise;const b=Gu(m.auth,h);yield at(b,m.auth);const I=yield Nb(m);return b._openRedirect(m.auth,c,"reauthViaRedirect",I)})).apply(this,arguments)}function rc(p,c,h){return function VC(p,c,h){return kd.apply(this,arguments)}(p,c,h)}function kd(){return(kd=(0,S.A)(function*(p,c,h){const m=(0,X.Ku)(p);Cn(m.auth,c,Oo),yield m.auth._initializationPromise;const b=Gu(m.auth,h);yield Fm(!1,m,c.providerId),yield at(b,m.auth);const I=yield Nb(m);return b._openRedirect(m.auth,c,"linkViaRedirect",I)})).apply(this,arguments)}function ic(){return(ic=(0,S.A)(function*(p,c){return yield kn(p)._initializationPromise,sy(p,c,!1)})).apply(this,arguments)}function sy(p,c){return xd.apply(this,arguments)}function xd(){return(xd=(0,S.A)(function*(p,c,h=!1){if((0,Le._isFirebaseServerApp)(p.app))return Promise.reject(it(p));const m=kn(p),b=Gu(m,c),P=yield new OC(m,b,h).execute();return P&&!h&&(delete P.user._redirectEventId,yield m._persistUserIfCurrent(P.user),yield m._setRedirectUser(null,c)),P})).apply(this,arguments)}function Nb(p){return Md.apply(this,arguments)}function Md(){return(Md=(0,S.A)(function*(p){const c=Hu(`${p.uid}:::`);return p._redirectEventId=c,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),c})).apply(this,arguments)}class oy{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let h=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(c,m)&&(h=!0,this.sendToConsumer(c,m),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function ay(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kb(p);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=c,h=!0)),h}sendToConsumer(c,h){var m;if(c.error&&!kb(c)){const b=(null===(m=c.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";h.onError(Gt(this.auth,b))}else h.onAuthEvent(c)}isEventForConsumer(c,h){const m=null===h.eventId||!!c.eventId&&c.eventId===h.eventId;return h.filter.includes(c.type)&&m}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wa(c))}saveEventToCache(c){this.cachedEventUids.add(Wa(c)),this.lastProcessedEventTime=Date.now()}}function Wa(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(c=>c).join("-")}function kb({type:p,error:c}){return"unknown"===p&&"auth/no-auth-event"===c?.code}function Od(p){return uy.apply(this,arguments)}function uy(){return(uy=(0,S.A)(function*(p,c={}){return Ve(p,"GET","/v1/projects",c)})).apply(this,arguments)}const ly=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kf=/^https?/;function Ka(){return(Ka=(0,S.A)(function*(p){if(p.config.emulator)return;const{authorizedDomains:c}=yield Od(p);for(const h of c)try{if(cy(h))return}catch{}$t(p,"unauthorized-domain")})).apply(this,arguments)}function cy(p){const c=si(),{protocol:h,hostname:m}=new URL(c);if(p.startsWith("chrome-extension://")){const P=new URL(p);return""===P.hostname&&""===m?"chrome-extension:"===h&&p.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===h&&P.hostname===m}if(!kf.test(h))return!1;if(ly.test(p))return m===p;const b=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(m)}const LC=new W(3e4,6e4);function xb(){const p=_r().___jsl;if(p?.H)for(const c of Object.keys(p.H))if(p.H[c].r=p.H[c].r||[],p.H[c].L=p.H[c].L||[],p.H[c].r=[...p.H[c].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let pa=null;const UC=new W(5e3,15e3),BC="__/auth/iframe",dy="emulator/auth/iframe",to={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ob=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xf(p){const c=p.config;fe(c.authDomain,p,"auth-domain-config-required");const h=c.emulator?Z(c,dy):`https://${p.config.authDomain}/${BC}`,m={apiKey:c.apiKey,appName:p.name,v:Le.SDK_VERSION},b=Ob.get(p.config.apiHost);b&&(m.eid=b);const I=p._getFrameworks();return I.length&&(m.fw=I.join(",")),`${h}?${(0,X.Am)(m).slice(1)}`}function hy(){return hy=(0,S.A)(function*(p){const c=yield function jC(p){return pa=pa||function Mb(p){return new Promise((c,h)=>{var m,b,I;function P(){xb(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{xb(),h(Gt(p,"network-request-failed"))},timeout:LC.get()})}if(null!==(b=null===(m=_r().gapi)||void 0===m?void 0:m.iframes)&&void 0!==b&&b.Iframe)c(gapi.iframes.getContext());else{if(null===(I=_r().gapi)||void 0===I||!I.load){const U=QA("iframefcb");return _r()[U]=()=>{gapi.load?P():h(Gt(p,"network-request-failed"))},gm(`${function cO(){return Fu.gapiScript}()}?onload=${U}`).catch(ne=>h(ne))}P()}}).catch(c=>{throw pa=null,c})}(p),pa}(p),h=_r().gapi;return fe(h,p,"internal-error"),c.open({where:document.body,url:xf(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:to,dontclear:!0},m=>new Promise(function(){var b=(0,S.A)(function*(I,P){yield m.restyle({setHideOnLeave:!1});const U=Gt(p,"network-request-failed"),ne=_r().setTimeout(()=>{P(U)},UC.get());function De(){_r().clearTimeout(ne),I(m)}m.ping(De).then(De,()=>{P(U)})});return function(I,P){return b.apply(this,arguments)}}()))}),hy.apply(this,arguments)}const HC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vb{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qC="__/auth/handler",WC="emulator/auth/handler",KC=encodeURIComponent("fac");function Vd(p,c,h,m,b,I){return oc.apply(this,arguments)}function oc(){return(oc=(0,S.A)(function*(p,c,h,m,b,I){fe(p.config.authDomain,p,"auth-domain-config-required"),fe(p.config.apiKey,p,"invalid-api-key");const P={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:m,v:Le.SDK_VERSION,eventId:b};if(c instanceof Oo){c.setDefaultLanguage(p.languageCode),P.providerId=c.providerId||"",(0,X.Im)(c.getCustomParameters())||(P.customParameters=JSON.stringify(c.getCustomParameters()));for(const[He,$e]of Object.entries(I||{}))P[He]=$e}if(c instanceof Bl){const He=c.getScopes().filter($e=>""!==$e);He.length>0&&(P.scopes=He.join(","))}p.tenantId&&(P.tid=p.tenantId);const U=P;for(const He of Object.keys(U))void 0===U[He]&&delete U[He];const ne=yield p._getAppCheckToken(),De=ne?`#${KC}=${encodeURIComponent(ne)}`:"";return`${function xn({config:p}){return p.emulator?Z(p,WC):`https://${p.authDomain}/${qC}`}(p)}?${(0,X.Am)(U).slice(1)}${De}`})).apply(this,arguments)}const Ie="webStorageSupport",cr=class tt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bu,this._completeRedirectFn=sy,this._overrideRedirectResult=lr}_openPopup(c,h,m,b){var I=this;return(0,S.A)(function*(){var P;Hn(null===(P=I.eventManagers[c._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const U=yield Vd(c,h,m,si(),b);return function GC(p,c,h,m=500,b=600){const I=Math.max((window.screen.availHeight-b)/2,0).toString(),P=Math.max((window.screen.availWidth-m)/2,0).toString();let U="";const ne=Object.assign(Object.assign({},HC),{width:m.toString(),height:b.toString(),top:I,left:P}),De=(0,X.ZQ)().toLowerCase();h&&(U=Ul(De)?"_blank":h),Mo(De)&&(c=c||"http://localhost",ne.scrollbars="yes");const He=Object.entries(ne).reduce((zn,[ro,te])=>`${zn}${ro}=${te},`,"");if(function $(p=(0,X.ZQ)()){var c;return Mu(p)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(De)&&"_self"!==U)return function zC(p,c){const h=document.createElement("a");h.href=p,h.target=c;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(m)}(c||"",U),new Vb(null);const $e=window.open(c||"",U,He);fe($e,p,"popup-blocked");try{$e.focus()}catch{}return new Vb($e)}(c,U,Hu())})()}_openRedirect(c,h,m,b){var I=this;return(0,S.A)(function*(){return yield I._originValidation(c),function TC(p){_r().location.href=p}(yield Vd(c,h,m,si(),b)),new Promise(()=>{})})()}_initialize(c){const h=c._key();if(this.eventManagers[h]){const{manager:b,promise:I}=this.eventManagers[h];return b?Promise.resolve(b):(Hn(I,"If manager is not set, promise should be"),I)}const m=this.initAndGetManager(c);return this.eventManagers[h]={promise:m},m.catch(()=>{delete this.eventManagers[h]}),m}initAndGetManager(c){var h=this;return(0,S.A)(function*(){const m=yield function sc(p){return hy.apply(this,arguments)}(c),b=new oy(c);return m.register("authEvent",I=>(fe(I?.authEvent,c,"invalid-auth-event"),{status:b.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[c._key()]={manager:b},h.iframes[c._key()]=m,b})()}_isIframeWebStorageSupported(c,h){this.iframes[c._key()].send(Ie,{type:Ie},b=>{var I;const P=null===(I=b?.[0])||void 0===I?void 0:I[Ie];void 0!==P&&h(!!P),$t(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Ai(p){return Ka.apply(this,arguments)}(c)),this.originValidationPromises[h]}get _shouldInitProactively(){return Fe()||La()||Mu()}};class Ss{constructor(c){this.factorId=c}_process(c,h,m){switch(h.type){case"enroll":return this._finalizeEnroll(c,h.credential,m);case"signin":return this._finalizeSignIn(c,h.credential);default:return vn("unexpected MultiFactorSessionType")}}}class Nr extends Ss{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Nr(c)}_finalizeEnroll(c,h,m){return function Ed(p,c){return Ve(p,"POST","/v2/accounts/mfaEnrollment:finalize",ce(p,c))}(c,{idToken:h,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,h){return function Yl(p,c){return Ve(p,"POST","/v2/accounts/mfaSignIn:finalize",ce(p,c))}(c,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ci=(()=>{class p{constructor(){}static assertion(h){return Nr._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var ut="@firebase/auth";class Lb{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var h=this;return(0,S.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const h=this.auth.onIdTokenChanged(m=>{c(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,h),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const h=this.internalListeners.get(c);h&&(this.internalListeners.delete(c),h(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jo(){return window}(0,X.XA)("authIdTokenMaxAge"),function pm(p){Fu=p}({loadJS:p=>new Promise((c,h)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=c,m.onerror=b=>{const I=Gt("internal-error");I.customData=b,h(I)},m.type="text/javascript",m.charset="UTF-8",function Qa(){var p,c;return null!==(c=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==c?c:document}().appendChild(m)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Mn(p){(0,Le._registerComponent)(new Nn.uA("auth",(c,{options:h})=>{const m=c.getProvider("app").getImmediate(),b=c.getProvider("heartbeat"),I=c.getProvider("app-check-internal"),{apiKey:P,authDomain:U}=m.options;fe(P&&!P.includes(":"),"invalid-api-key",{appName:m.name});const ne={apiKey:P,authDomain:U,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yt(p)},De=new fm(m,b,I,ne);return function tC(p,c){const h=c?.persistence||[],m=(Array.isArray(h)?h:[h]).map(We);c?.errorMap&&p._updateErrorMap(c.errorMap),p._initializeWithPersistence(m,c?.popupRedirectResolver)}(De,h),De},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,h,m)=>{c.getProvider("auth-internal").initialize()})),(0,Le._registerComponent)(new Nn.uA("auth-internal",c=>{const h=kn(c.getProvider("auth").getImmediate());return new Lb(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Le.registerVersion)(ut,"1.7.5",function uc(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(p)),(0,Le.registerVersion)(ut,"1.7.5","esm2017")}("Browser");function jd(){return jd=(0,S.A)(function*(p,c,h){var m;const{BuildInfo:b}=jo();Hn(c.sessionId,"AuthEvent did not contain a session ID");const I=yield function Ur(p){return Br.apply(this,arguments)}(c.sessionId),P={};return Mu()?P.ibi=b.packageName:xu()?P.apn=b.packageName:$t(p,"operation-not-supported-in-this-environment"),b.displayName&&(P.appDisplayName=b.displayName),P.sessionId=I,Vd(p,h,c.type,void 0,null!==(m=c.eventId)&&void 0!==m?m:void 0,P)}),jd.apply(this,arguments)}function Ns(){return(Ns=(0,S.A)(function*(p){const{BuildInfo:c}=jo(),h={};Mu()?h.iosBundleId=c.packageName:xu()?h.androidPackageName=c.packageName:$t(p,"operation-not-supported-in-this-environment"),yield Od(p,h)})).apply(this,arguments)}function Gn(){return(Gn=(0,S.A)(function*(p,c,h){const{cordova:m}=jo();let b=()=>{};try{yield new Promise((I,P)=>{let U=null;function ne(){var $e;I();const zn=null===($e=m.plugins.browsertab)||void 0===$e?void 0:$e.close;"function"==typeof zn&&zn(),"function"==typeof h?.close&&h.close()}function De(){U||(U=window.setTimeout(()=>{P(Gt(p,"redirect-cancelled-by-user"))},2e3))}function He(){"visible"===document?.visibilityState&&De()}c.addPassiveListener(ne),document.addEventListener("resume",De,!1),xu()&&document.addEventListener("visibilitychange",He,!1),b=()=>{c.removePassiveListener(ne),document.removeEventListener("resume",De,!1),document.removeEventListener("visibilitychange",He,!1),U&&window.clearTimeout(U)}})}finally{b()}})).apply(this,arguments)}function Br(){return(Br=(0,S.A)(function*(p){const c=function fy(p){if(Hn(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const c=new ArrayBuffer(p.length),h=new Uint8Array(c);for(let m=0;m<p.length;m++)h[m]=p.charCodeAt(m);return h}(p),h=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(h)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ff extends oy{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(c)),super.onEvent(c)}initialized(){var c=this;return(0,S.A)(function*(){yield c.initPromise})()}}function jb(p){return py.apply(this,arguments)}function py(){return(py=(0,S.A)(function*(p){const c=yield my()._get(Hd(p));return c&&(yield my()._remove(Hd(p))),c})).apply(this,arguments)}function Ub(){const p=[];for(let h=0;h<20;h++){const m=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return p.join("")}function my(){return We(Xr)}function Hd(p){return Dr("authEvent",p.config.apiKey,p.name)}function yy(p){if(!p?.includes("?"))return{};const[c,...h]=p.split("?");return(0,X.I9)(h.join("?"))}const VO=class FO{constructor(){this._redirectPersistence=Bu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sy,this._overrideRedirectResult=lr}_initialize(c){var h=this;return(0,S.A)(function*(){const m=c._key();let b=h.eventManagers.get(m);return b||(b=new Ff(c),h.eventManagers.set(m,b),h.attachCallbackListeners(c,b)),b})()}_openPopup(c){$t(c,"operation-not-supported-in-this-environment")}_openRedirect(c,h,m,b){var I=this;return(0,S.A)(function*(){!function Of(p){var c,h,m,b,I,P,U,ne,De,He;const $e=jo();fe("function"==typeof(null===(c=$e?.universalLinks)||void 0===c?void 0:c.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fe(typeof(null===(h=$e?.BuildInfo)||void 0===h?void 0:h.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fe("function"==typeof(null===(I=null===(b=null===(m=$e?.cordova)||void 0===m?void 0:m.plugins)||void 0===b?void 0:b.browsertab)||void 0===I?void 0:I.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(ne=null===(U=null===(P=$e?.cordova)||void 0===P?void 0:P.plugins)||void 0===U?void 0:U.browsertab)||void 0===ne?void 0:ne.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(He=null===(De=$e?.cordova)||void 0===De?void 0:De.InAppBrowser)||void 0===He?void 0:He.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const P=yield I._initialize(c);yield P.initialized(),P.resetRedirect(),function Dt(){Rd.clear()}(),yield I._originValidation(c);const U=function no(p,c,h=null){return{type:c,eventId:h,urlResponse:null,sessionId:Ub(),postBody:null,tenantId:p.tenantId,error:Gt(p,"no-auth-event")}}(c,m,b);yield function Bd(p,c){return my()._set(Hd(p),c)}(c,U);const ne=yield function Qe(p,c,h){return jd.apply(this,arguments)}(c,U,h),De=yield function Mf(p){const{cordova:c}=jo();return new Promise(h=>{c.plugins.browsertab.isAvailable(m=>{let b=null;m?c.plugins.browsertab.openUrl(p):b=c.InAppBrowser.open(p,function J(p=(0,X.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),h(b)})})}(ne);return function dc(p,c,h){return Gn.apply(this,arguments)}(c,P,De)})()}_isIframeWebStorageSupported(c,h){throw new Error("Method not implemented.")}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Ud(p){return Ns.apply(this,arguments)}(c)),this.originValidationPromises[h]}attachCallbackListeners(c,h){const{universalLinks:m,handleOpenURL:b,BuildInfo:I}=jo(),P=setTimeout((0,S.A)(function*(){yield jb(c),h.onEvent(JC())}),500),U=function(){var He=(0,S.A)(function*($e){clearTimeout(P);const zn=yield jb(c);let ro=null;zn&&$e?.url&&(ro=function gy(p,c){var h,m;const b=function MO(p){const c=yy(p),h=c.link?decodeURIComponent(c.link):void 0,m=yy(h).link,b=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return yy(b).link||b||m||h||p}(c);if(b.includes("/__/auth/callback")){const I=yy(b),P=I.firebaseError?function xO(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(I.firebaseError)):null,U=null===(m=null===(h=P?.code)||void 0===h?void 0:h.split("auth/"))||void 0===m?void 0:m[1],ne=U?Gt(U):null;return ne?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:ne,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:b,postBody:null}}return null}(zn,$e.url)),h.onEvent(ro||JC())});return function(zn){return He.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,U);const ne=b,De=`${I.packageName.toLowerCase()}://`;jo().handleOpenURL=function(){var He=(0,S.A)(function*($e){if($e.toLowerCase().startsWith(De)&&U({url:$e}),"function"==typeof ne)try{ne($e)}catch(zn){console.error(zn)}});return function($e){return He.apply(this,arguments)}}()}};function JC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Gt("no-auth-event")}}function Vf(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function _y(p=(0,X.ZQ)()){return!("file:"!==Vf()&&"ionic:"!==Vf()&&"capacitor:"!==Vf()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hb(){try{const p=self.localStorage,c=Hu();if(p)return p.setItem(c,"1"),p.removeItem(c),!function zO(p=(0,X.ZQ)()){return function $O(){return(0,X.lT)()&&11===document?.documentMode}()||function GO(p=(0,X.ZQ)()){return/Edge\/\d+/.test(p)}(p)}()||(0,X.zW)()}catch{return Lf()&&(0,X.zW)()}return!1}function Lf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vi(){return(function Bb(){return"http:"===Vf()||"https:"===Vf()}()||(0,X.sr)()||_y())&&!function HO(){return(0,X.lV)()||(0,X.Ll)()}()&&Hb()&&!Lf()}function vy(){return _y()&&typeof document<"u"}function by(){return(by=(0,S.A)(function*(){return!!vy()&&new Promise(p=>{const c=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),p(!0)})})})).apply(this,arguments)}const Li={LOCAL:"local",NONE:"none",SESSION:"session"},$d=fe,jf="persistence";function Rs(p){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,S.A)(function*(p){yield p._initializationPromise;const c=qt(),h=Dr(jf,p.config.apiKey,p.name);c&&c.setItem(h,p._getPersistence())})).apply(this,arguments)}function qt(){var p;try{return(null===(p=function $b(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const wy=fe;class ks{constructor(){this.browserResolver=We(cr),this.cordovaResolver=We(VO),this.underlyingResolver=null,this._redirectPersistence=Bu,this._completeRedirectFn=sy,this._overrideRedirectResult=lr}_initialize(c){var h=this;return(0,S.A)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,h,m,b){var I=this;return(0,S.A)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openPopup(c,h,m,b)})()}_openRedirect(c,h,m,b){var I=this;return(0,S.A)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openRedirect(c,h,m,b)})()}_isIframeWebStorageSupported(c,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,h)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return vy()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,S.A)(function*(){if(c.underlyingResolver)return;const h=yield function YC(){return by.apply(this,arguments)}();c.underlyingResolver=h?c.cordovaResolver:c.browserResolver})()}}function hi(p){return p.unwrap()}function Gd(p){return ji(p)}function ji(p){const{_tokenResponse:c}=p instanceof X.g?p.customData:p;if(!c)return null;if(!(p instanceof X.g)&&"temporaryProof"in c&&"phoneNumber"in c)return tc.credentialFromResult(p);const h=c.providerId;if(!h||h===Ht.PASSWORD)return null;let m;switch(h){case Ht.GOOGLE:m=dC;break;case Ht.FACEBOOK:m=q0;break;case Ht.GITHUB:m=W0;break;case Ht.TWITTER:m=K0;break;default:const{oauthIdToken:b,oauthAccessToken:I,oauthTokenSecret:P,pendingToken:U,nonce:ne}=c;return I||P||b||U?U?h.startsWith("saml.")?Hl._create(h,U):ua._fromParams({providerId:h,signInMethod:h,pendingToken:U,idToken:b,accessToken:I}):new vd(h).credential({idToken:b,accessToken:I,rawNonce:ne}):null}return p instanceof X.g?m.credentialFromError(p):m.credentialFromResult(p)}function Ui(p,c){return c.catch(h=>{throw h instanceof X.g&&function Wu(p,c){var h;const m=null===(h=c.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new xs(p,function yb(p,c){var h;const m=(0,X.Ku)(p),b=c;return fe(c.customData.operationType,m,"argument-error"),fe(null===(h=b.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,m,"argument-error"),wd._fromError(m,b)}(p,c));else if(m){const b=ji(c),I=c;b&&(I.credential=b,I.tenantId=m.tenantId||void 0,I.email=m.email||void 0,I.phoneNumber=m.phoneNumber||void 0)}}(p,h),h}).then(h=>{const b=h.user;return{operationType:h.operationType,credential:Gd(h),additionalUserInfo:_C(h),user:Uo.getOrCreate(b)}})}function zd(p,c){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,S.A)(function*(p,c){const h=yield c;return{verificationId:h.verificationId,confirm:m=>Ui(p,h.confirm(m))}})).apply(this,arguments)}class xs{constructor(c,h){this.resolver=h,this.auth=function ZC(p){return p.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Ui(hi(this.auth),this.resolver.resolveSignIn(c))}}class Uo{constructor(c){this._delegate=c,this.multiFactor=function wC(p){const c=(0,X.Ku)(p);return zm.has(c)||zm.set(c,_b._fromUser(c)),zm.get(c)}(c)}static getOrCreate(c){return Uo.USER_MAP.has(c)||Uo.USER_MAP.set(c,new Uo(c)),Uo.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var h=this;return(0,S.A)(function*(){return Ui(h.auth,Lm(h._delegate,c))})()}linkWithPhoneNumber(c,h){var m=this;return(0,S.A)(function*(){return zd(m.auth,function Zs(p,c,h){return Vo.apply(this,arguments)}(m._delegate,c,h))})()}linkWithPopup(c){var h=this;return(0,S.A)(function*(){return Ui(h.auth,function MC(p,c,h){return ny.apply(this,arguments)}(h._delegate,c,ks))})()}linkWithRedirect(c){var h=this;return(0,S.A)(function*(){return yield Rs(kn(h.auth)),rc(h._delegate,c,ks)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var h=this;return(0,S.A)(function*(){return Ui(h.auth,pC(h._delegate,c))})()}reauthenticateWithPhoneNumber(c,h){return zd(this.auth,function SC(p,c,h){return Dd.apply(this,arguments)}(this._delegate,c,h))}reauthenticateWithPopup(c){return Ui(this.auth,function xC(p,c,h){return Sf.apply(this,arguments)}(this._delegate,c,ks))}reauthenticateWithRedirect(c){var h=this;return(0,S.A)(function*(){return yield Rs(kn(h.auth)),Rf(h._delegate,c,ks)})()}sendEmailVerification(c){return function AO(p,c){return Ii.apply(this,arguments)}(this._delegate,c)}unlink(c){var h=this;return(0,S.A)(function*(){return yield function _O(p,c){return Y0.apply(this,arguments)}(h._delegate,c),h})()}updateEmail(c){return function Se(p,c){const h=(0,X.Ku)(p);return(0,Le._isFirebaseServerApp)(h.auth.app)?Promise.reject(it(h.auth)):Sr(h,c,null)}(this._delegate,c)}updatePassword(c){return function SO(p,c){return Sr((0,X.Ku)(p),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Pd(p,c){return Df.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function DO(p,c){return cb.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,h){return function st(p,c,h){return ub.apply(this,arguments)}(this._delegate,c,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Uo.USER_MAP=new WeakMap;const hc=fe;let Iy=(()=>{class p{constructor(h,m){if(this.app=h,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=h.options;hc(b,"invalid-api-key",{appName:h.name}),hc(b,"invalid-api-key",{appName:h.name});const I=typeof window<"u"?ks:void 0;this._delegate=m.initialize({options:{persistence:Ty(b,h.name),popupRedirectResolver:I}}),this._delegate._updateErrorMap(yr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Uo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,m){!function nC(p,c,h){const m=kn(p);fe(m._canInitEmulator,m,"emulator-config-failed"),fe(/^https?:\/\//.test(c),m,"invalid-emulator-scheme");const b=!!h?.disableWarnings,I=L0(c),{host:P,port:U}=function rC(p){const c=L0(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(c.length));if(!h)return{host:"",port:null};const m=h[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(m);if(b){const I=b[1];return{host:I,port:j0(m.substr(I.length+1))}}{const[I,P]=m.split(":");return{host:I,port:j0(P)}}}(c);m.config.emulator={url:`${I}//${P}${null===U?"":`:${U}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:P,port:U,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function U0(){function p(){const c=document.createElement("p"),h=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,h,m)}applyActionCode(h){return function Um(p,c){return ib.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return sb(this._delegate,h)}confirmPasswordReset(h,m){return function gC(p,c,h){return ur.apply(this,arguments)}(this._delegate,h,m)}createUserWithEmailAndPassword(h,m){var b=this;return(0,S.A)(function*(){return Ui(b._delegate,function rs(p,c,h){return ob.apply(this,arguments)}(b._delegate,h,m))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function TO(p,c){return Hm.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function wO(p,c){const h=pf.parseLink(c);return"EMAIL_SIGNIN"===h?.operation}(0,h)}getRedirectResult(){var h=this;return(0,S.A)(function*(){hc(Vi(),h._delegate,"operation-not-supported-in-this-environment");const m=yield function Pb(p,c){return ic.apply(this,arguments)}(h._delegate,ks);return m?Ui(h._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function LO(p,c){kn(p)._logFramework(c)}(this._delegate,h)}onAuthStateChanged(h,m,b){const{next:I,error:P,complete:U}=fc(h,m,b);return this._delegate.onAuthStateChanged(I,P,U)}onIdTokenChanged(h,m,b){const{next:I,error:P,complete:U}=fc(h,m,b);return this._delegate.onIdTokenChanged(I,P,U)}sendSignInLinkToEmail(h,m){return function bO(p,c,h){return Fo.apply(this,arguments)}(this._delegate,h,m)}sendPasswordResetEmail(h,m){return function vO(p,c,h){return tn.apply(this,arguments)}(this._delegate,h,m||void 0)}setPersistence(h){var m=this;return(0,S.A)(function*(){let b;switch(function XC(p,c){$d(Object.values(Li).includes(c),p,"invalid-persistence-type"),(0,X.lV)()?$d(c!==Li.SESSION,p,"unsupported-persistence-type"):(0,X.Ll)()?$d(c===Li.NONE,p,"unsupported-persistence-type"):Lf()?$d(c===Li.NONE||c===Li.LOCAL&&(0,X.zW)(),p,"unsupported-persistence-type"):$d(c===Li.NONE||Hb(),p,"unsupported-persistence-type")}(m._delegate,h),h){case Li.SESSION:b=Bu;break;case Li.LOCAL:b=(yield We(Jl)._isAvailable())?Jl:Xr;break;case Li.NONE:b=Re;break;default:return $t("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Ui(this._delegate,function xm(p){return Mm.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Ui(this._delegate,la(this._delegate,h))}signInWithCustomToken(h){return Ui(this._delegate,function Gl(p,c){return Ha.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,m){return Ui(this._delegate,function mC(p,c,h){return(0,Le._isFirebaseServerApp)(p.app)?Promise.reject(it(p)):la((0,X.Ku)(p),z0.credential(c,h)).catch(function(){var m=(0,S.A)(function*(b){throw"auth/password-does-not-meet-requirements"===b.code&&ln(p),b});return function(b){return m.apply(this,arguments)}}())}(this._delegate,h,m))}signInWithEmailLink(h,m){return Ui(this._delegate,function EO(p,c,h){return ab.apply(this,arguments)}(this._delegate,h,m))}signInWithPhoneNumber(h,m){return zd(this._delegate,function Af(p,c,h){return ec.apply(this,arguments)}(this._delegate,h,m))}signInWithPopup(h){var m=this;return(0,S.A)(function*(){return hc(Vi(),m._delegate,"operation-not-supported-in-this-environment"),Ui(m._delegate,function kC(p,c,h){return ty.apply(this,arguments)}(m._delegate,h,ks))})()}signInWithRedirect(h){var m=this;return(0,S.A)(function*(){return hc(Vi(),m._delegate,"operation-not-supported-in-this-environment"),yield Rs(m._delegate),di(m._delegate,h,ks)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function ot(p,c){return ql.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Li,p})();function fc(p,c,h){let m=p;"function"!=typeof p&&({next:m,error:c,complete:h}=p);const b=m;return{next:P=>b(P&&Uo.getOrCreate(P)),error:c,complete:h}}function Ty(p,c){const h=function Gb(p,c){const h=qt();if(!h)return[];const m=Dr(jf,p,c);switch(h.getItem(m)){case Li.NONE:return[Re];case Li.LOCAL:return[Jl,Bu];case Li.SESSION:return[Bu];default:return[]}}(p,c);if(typeof self<"u"&&!h.includes(Jl)&&h.push(Jl),typeof window<"u")for(const m of[Xr,Bu])h.includes(m)||h.push(m);return h.includes(Re)||h.push(Re),h}class pc{constructor(){this.providerId="phone",this._delegate=new tc(hi(je.A.auth()))}static credential(c,h){return tc.credential(c,h)}verifyPhoneNumber(c,h){return this._delegate.verifyPhoneNumber(c,h)}unwrap(){return this._delegate}}pc.PHONE_SIGN_IN_METHOD=tc.PHONE_SIGN_IN_METHOD,pc.PROVIDER_ID=tc.PROVIDER_ID;const Bf=fe;class Ay{constructor(c,h,m=je.A.app()){var b;Bf(null===(b=m.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new Xs(m.auth(),c,h),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function lt(p){p.INTERNAL.registerComponent(new Nn.uA("auth-compat",c=>{const h=c.getProvider("app-compat").getImmediate(),m=c.getProvider("auth");return new Iy(h,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:z0,FacebookAuthProvider:q0,GithubAuthProvider:W0,GoogleAuthProvider:dC,OAuthProvider:vd,SAMLAuthProvider:gf,PhoneAuthProvider:pc,PhoneMultiFactorGenerator:Ci,RecaptchaVerifier:Ay,TwitterAuthProvider:K0,Auth:Iy,AuthCredential:Vu,Error:X.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.5.10")}(je.A)},900:(So,Tr,nt)=>{nt.r(Tr);var S=nt(345),je=nt(467),Le=nt(852),X=nt(76),Yt=nt(362);const qe="type.googleapis.com/google.protobuf.Int64Value",Nn="type.googleapis.com/google.protobuf.UInt64Value";function Ar(ye,se){const ge={};for(const Ue in ye)ye.hasOwnProperty(Ue)&&(ge[Ue]=se(ye[Ue]));return ge}function Ht(ye){if(null==ye)return null;if(ye instanceof Number&&(ye=ye.valueOf()),"number"==typeof ye&&isFinite(ye)||!0===ye||!1===ye||"[object String]"===Object.prototype.toString.call(ye))return ye;if(ye instanceof Date)return ye.toISOString();if(Array.isArray(ye))return ye.map(se=>Ht(se));if("function"==typeof ye||"object"==typeof ye)return Ar(ye,se=>Ht(se));throw new Error("Data cannot be encoded in JSON: "+ye)}function he(ye){if(null==ye)return ye;if(ye["@type"])switch(ye["@type"]){case qe:case Nn:{const se=Number(ye.value);if(isNaN(se))throw new Error("Data cannot be decoded from JSON: "+ye);return se}default:throw new Error("Data cannot be decoded from JSON: "+ye)}return Array.isArray(ye)?ye.map(se=>he(se)):"function"==typeof ye||"object"==typeof ye?Ar(ye,se=>he(se)):ye}const we="functions",ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends X.g{constructor(se,ge,Ue){super(`${we}/${se}`,ge||""),this.details=Ue}}class Xt{constructor(se,ge,Ue){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=se.getImmediate({optional:!0}),this.messaging=ge.getImmediate({optional:!0}),this.auth||se.get().then(At=>this.auth=At,()=>{}),this.messaging||ge.get().then(At=>this.messaging=At,()=>{}),this.appCheck||Ue.get().then(At=>this.appCheck=At,()=>{})}getAuthToken(){var se=this;return(0,je.A)(function*(){if(se.auth)try{const ge=yield se.auth.getToken();return ge?.accessToken}catch{return}})()}getMessagingToken(){var se=this;return(0,je.A)(function*(){if(se.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield se.messaging.getToken()}catch{return}})()}getAppCheckToken(se){var ge=this;return(0,je.A)(function*(){if(ge.appCheck){const Ue=se?yield ge.appCheck.getLimitedUseToken():yield ge.appCheck.getToken();return Ue.error?null:Ue.token}return null})()}getContext(se){var ge=this;return(0,je.A)(function*(){return{authToken:yield ge.getAuthToken(),messagingToken:yield ge.getMessagingToken(),appCheckToken:yield ge.getAppCheckToken(se)}})()}}const dt="us-central1";class ar{constructor(se,ge,Ue,At,Me=dt,Ct){this.app=se,this.fetchImpl=Ct,this.emulatorOrigin=null,this.contextProvider=new Xt(ge,Ue,At),this.cancelAllRequests=new Promise(zt=>{this.deleteService=()=>Promise.resolve(zt())});try{const zt=new URL(Me);this.customDomain=zt.origin,this.region=dt}catch{this.customDomain=null,this.region=Me}}_delete(){return this.deleteService()}_url(se){const ge=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${ge}/${this.region}/${se}`:null!==this.customDomain?`${this.customDomain}/${se}`:`https://${this.region}-${ge}.cloudfunctions.net/${se}`}}function Gt(ye,se,ge,Ue){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,je.A)(function*(ye,se,ge,Ue){let At;ge["Content-Type"]="application/json";try{At=yield Ue(ye,{method:"POST",body:JSON.stringify(se),headers:ge})}catch{return{status:0,json:null}}let Me=null;try{Me=yield At.json()}catch{}return{status:At.status,json:Me}})).apply(this,arguments)}function Cn(ye,se,ge,Ue){return hn.apply(this,arguments)}function hn(){return(hn=(0,je.A)(function*(ye,se,ge,Ue){const At={data:ge=Ht(ge)},Me={},Ct=yield ye.contextProvider.getContext(Ue.limitedUseAppCheckTokens);Ct.authToken&&(Me.Authorization="Bearer "+Ct.authToken),Ct.messagingToken&&(Me["Firebase-Instance-ID-Token"]=Ct.messagingToken),null!==Ct.appCheckToken&&(Me["X-Firebase-AppCheck"]=Ct.appCheckToken);const Rn=function Et(ye){let se=null;return{promise:new Promise((ge,Ue)=>{se=setTimeout(()=>{Ue(new ht("deadline-exceeded","deadline-exceeded"))},ye)}),cancel:()=>{se&&clearTimeout(se)}}}(Ue.timeout||7e4),Ut=yield Promise.race([Gt(se,At,Me,ye.fetchImpl),Rn.promise,ye.cancelAllRequests]);if(Rn.cancel(),!Ut)throw new ht("cancelled","Firebase Functions instance was deleted.");const Po=function yr(ye,se){let At,ge=function jt(ye){if(ye>=200&&ye<300)return"ok";switch(ye){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(ye),Ue=ge;try{const Me=se&&se.error;if(Me){const Ct=Me.status;if("string"==typeof Ct){if(!ze[Ct])return new ht("internal","internal");ge=ze[Ct],Ue=Ct}const zt=Me.message;"string"==typeof zt&&(Ue=zt),At=Me.details,void 0!==At&&(At=he(At))}}catch{}return"ok"===ge?null:new ht(ge,Ue,At)}(Ut.status,Ut.json);if(Po)throw Po;if(!Ut.json)throw new ht("internal","Response is not valid JSON object.");let No=Ut.json.data;if(typeof No>"u"&&(No=Ut.json.result),typeof No>"u")throw new ht("internal","Response is missing data field.");return{data:he(No)}})).apply(this,arguments)}const fe="@firebase/functions";function na(ye,se,ge){!function Cr(ye,se,ge){ye.emulatorOrigin=`http://${se}:${ge}`}((0,X.Ku)(ye),se,ge)}!function Yr(ye,se){(0,Le._registerComponent)(new Yt.uA(we,(Ue,{instanceIdentifier:At})=>{const Me=Ue.getProvider("app").getImmediate(),Ct=Ue.getProvider("auth-internal"),zt=Ue.getProvider("messaging-internal"),Rn=Ue.getProvider("app-check-internal");return new ar(Me,Ct,zt,Rn,At,ye)},"PUBLIC").setMultipleInstances(!0)),(0,Le.registerVersion)(fe,"0.11.6",se),(0,Le.registerVersion)(fe,"0.11.6","esm2017")}(fetch.bind(self));class Te{constructor(se,ge){this.app=se,this._delegate=ge,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(se,ge){return function W(ye,se,ge){return function _n(ye,se,ge){return Ue=>function it(ye,se,ge,Ue){const At=ye._url(se);return Cn(ye,At,ge,Ue)}(ye,se,Ue,ge||{})}((0,X.Ku)(ye),se,ge)}(this._delegate,se,ge)}httpsCallableFromURL(se,ge){return function Z(ye,se,ge){return function $t(ye,se,ge){return Ue=>Cn(ye,se,Ue,ge||{})}((0,X.Ku)(ye),se,ge)}(this._delegate,se,ge)}useFunctionsEmulator(se){const ge=se.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==ge)throw new X.g("functions","No origin provided to useFunctionsEmulator()");if(null==ge[2])throw new X.g("functions","Port missing in origin provided to useFunctionsEmulator()");return na(this._delegate,ge[1],Number(ge[2]))}useEmulator(se,ge){return na(this._delegate,se,ge)}}const Ve=(ye,{instanceIdentifier:se})=>{const ge=ye.getProvider("app-compat").getImmediate(),Ue=ye.getProvider("functions").getImmediate({identifier:se??"us-central1"});return new Te(ge,Ue)};(function Ft(){const ye={Functions:Te};S.A.INTERNAL.registerComponent(new Yt.uA("functions-compat",Ve,"PUBLIC").setServiceProps(ye).setMultipleInstances(!0))})(),S.A.registerVersion("@firebase/functions-compat","0.3.12")},467:(So,Tr,nt)=>{function S(Le,X,Yt,qe,Nn,Ar,Ht){try{var he=Le[Ar](Ht),we=he.value}catch(ze){return void Yt(ze)}he.done?X(we):Promise.resolve(we).then(qe,Nn)}function je(Le){return function(){var X=this,Yt=arguments;return new Promise(function(qe,Nn){var Ar=Le.apply(X,Yt);function Ht(we){S(Ar,qe,Nn,Ht,he,"next",we)}function he(we){S(Ar,qe,Nn,Ht,he,"throw",we)}Ht(void 0)})}}nt.d(Tr,{A:()=>je})},635:(So,Tr,nt)=>{function X(W,Z){var oe={};for(var ae in W)Object.prototype.hasOwnProperty.call(W,ae)&&Z.indexOf(ae)<0&&(oe[ae]=W[ae]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(ae=Object.getOwnPropertySymbols(W);Te<ae.length;Te++)Z.indexOf(ae[Te])<0&&Object.prototype.propertyIsEnumerable.call(W,ae[Te])&&(oe[ae[Te]]=W[ae[Te]])}return oe}function ze(W,Z,oe,ae){return new(oe||(oe=Promise))(function(ce,Ve){function Ft(ge){try{se(ae.next(ge))}catch(Ue){Ve(Ue)}}function ye(ge){try{se(ae.throw(ge))}catch(Ue){Ve(Ue)}}function se(ge){ge.done?ce(ge.value):function Te(ce){return ce instanceof oe?ce:new oe(function(Ve){Ve(ce)})}(ge.value).then(Ft,ye)}se((ae=ae.apply(W,Z||[])).next())})}function _n(W){return this instanceof _n?(this.v=W,this):new _n(W)}function $t(W,Z,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ae=oe.apply(W,Z||[]),ce=[];return Te={},Ft("next"),Ft("throw"),Ft("return",function Ve(Me){return function(Ct){return Promise.resolve(Ct).then(Me,Ue)}}),Te[Symbol.asyncIterator]=function(){return this},Te;function Ft(Me,Ct){ae[Me]&&(Te[Me]=function(zt){return new Promise(function(Rn,Ut){ce.push([Me,zt,Rn,Ut])>1||ye(Me,zt)})},Ct&&(Te[Me]=Ct(Te[Me])))}function ye(Me,Ct){try{!function se(Me){Me.value instanceof _n?Promise.resolve(Me.value.v).then(ge,Ue):At(ce[0][2],Me)}(ae[Me](Ct))}catch(zt){At(ce[0][3],zt)}}function ge(Me){ye("next",Me)}function Ue(Me){ye("throw",Me)}function At(Me,Ct){Me(Ct),ce.shift(),ce.length&&ye(ce[0][0],ce[0][1])}}function Lr(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,Z=W[Symbol.asyncIterator];return Z?Z.call(W):(W=function Xt(W){var Z="function"==typeof Symbol&&Symbol.iterator,oe=Z&&W[Z],ae=0;if(oe)return oe.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ae>=W.length&&(W=void 0),{value:W&&W[ae++],done:!W}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),oe={},ae("next"),ae("throw"),ae("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function ae(ce){oe[ce]=W[ce]&&function(Ve){return new Promise(function(Ft,ye){!function Te(ce,Ve,Ft,ye){Promise.resolve(ye).then(function(se){ce({value:se,done:Ft})},Ve)}(Ft,ye,(Ve=W[ce](Ve)).done,Ve.value)})}}}nt.d(Tr,{AQ:()=>$t,N3:()=>_n,Tt:()=>X,sH:()=>ze,xN:()=>Lr}),"function"==typeof SuppressedError&&SuppressedError}},So=>{So(So.s=521)}]);